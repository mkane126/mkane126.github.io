"use strict";(self.webpackChunknfl_predictions=self.webpackChunknfl_predictions||[]).push([[179],{2011:(yt,Me,U)=>{U.d(Me,{Dh:()=>ge,GT:()=>pe,cc:()=>Pe,hO:()=>$e,on:()=>q,pX:()=>ce,xv:()=>me});var P=U(4650),m=U(1274),V=U(2088);yt=U.hmd(yt);const re=["ngOnDestroy"],ce=(ye,gt,_t,Oe={})=>new Proxy(ye,{get:(Ee,_e)=>_t.runOutsideAngular(()=>{var ze;if(ye[_e])return!(null===(ze=Oe?.spy)||void 0===ze)&&ze.get&&Oe.spy.get(_e,ye[_e]),ye[_e];if(re.indexOf(_e)>-1)return()=>{};const je=gt.toPromise().then(vt=>{const ie=vt&&vt[_e];return"function"==typeof ie?ie.bind(vt):ie&&ie.then?ie.then(At=>_t.run(()=>At)):_t.run(()=>ie)});return new Proxy(()=>{},{get:(vt,ie)=>je[ie],apply:(vt,ie,At)=>je.then(Nt=>{var Et;const Yt=Nt&&Nt(...At);return!(null===(Et=Oe?.spy)||void 0===Et)&&Et.apply&&Oe.spy.apply(_e,At,Yt),Yt})})})}),pe=(ye,gt)=>{gt.forEach(_t=>{Object.getOwnPropertyNames(_t.prototype||_t).forEach(Oe=>{Object.defineProperty(ye.prototype,Oe,Object.getOwnPropertyDescriptor(_t.prototype||_t,Oe))})})};class Ie{constructor(gt){return gt}}const ge=new P.OlP("angularfire2.app.options"),me=new P.OlP("angularfire2.app.name");function q(ye,gt,_t){const Ee="object"==typeof _t&&_t||{};Ee.name=Ee.name||"string"==typeof _t&&_t||"[DEFAULT]";const ze=m.Z.apps.filter(je=>je&&je.name===Ee.name)[0]||gt.runOutsideAngular(()=>m.Z.initializeApp(ye,Ee));try{JSON.stringify(ye)!==JSON.stringify(ze.options)&&G("error",`${ze.name} Firebase App already initialized with different options${yt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ie(ze)}const G=(ye,...gt)=>{(0,P.X6Q)()&&typeof console<"u"&&console[ye](...gt)},K={provide:Ie,useFactory:q,deps:[ge,P.R0b,[new P.FiY,me]]};let $e=(()=>{class ye{constructor(_t){m.Z.registerVersion("angularfire",V.q4.full,"core"),m.Z.registerVersion("angularfire",V.q4.full,"app-compat"),m.Z.registerVersion("angular",P.q4F.full,_t.toString())}static initializeApp(_t,Oe){return{ngModule:ye,providers:[{provide:ge,useValue:_t},{provide:me,useValue:Oe}]}}}return ye.\u0275fac=function(_t){return new(_t||ye)(P.LFG(P.Lbi))},ye.\u0275mod=P.oAB({type:ye}),ye.\u0275inj=P.cJS({providers:[K]}),ye})();function Pe(ye,gt,_t,Oe,Ee){const[,_e,ze]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===ye)||[];if(_e)return function Ce(ye,gt){try{return ye.toString()===gt.toString()}catch{return ye===gt}}(Ee,ze)||(ve("error",`${gt} was already initialized on the ${_t} Firebase App with different settings.${lt?" You may need to reload as Firebase is not HMR aware.":""}`),ve("warn",{is:Ee,was:ze})),_e;{const je=Oe();return globalThis.\u0275AngularfireInstanceCache.push([ye,je,Ee]),je}}const lt=!!yt.hot,ve=(ye,...gt)=>{(0,P.X6Q)()&&typeof console<"u"&&console[ye](...gt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2088:(yt,Me,U)=>{U.d(Me,{q4:()=>Ss,iC:()=>eh,HU:()=>Jd,vb:()=>ec,JM:()=>Kf});var P=U(4650),m=U(8140),V=U(5861),ce=(U(5752),U(5578));function Pr(){return bu.apply(this,arguments)}function bu(){return(bu=(0,V.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}function Bd(){return sa.apply(this,arguments)}function sa(){return(sa=(0,V.Z)(function*(){try{yield(0,ce.eu)()}catch{return!1}return typeof window<"u"&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function qu(){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,V.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}U(1617),U(9357);var Ks=U(4408),Yd=U(7565);const ml=new class gl extends Yd.v{}(class Ku extends Ks.o{constructor(D,R){super(D,R),this.scheduler=D,this.work=R}schedule(D,R=0){return R>0?super.schedule(D,R):(this.delay=R,this.state=D,this.scheduler.flush(this),this)}execute(D,R){return R>0||this.closed?super.execute(D,R):this._execute(D,R)}requestAsyncId(D,R,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(D,R,L):(D.flush(this),0)}});var yl=U(4986),Qd=U(8505),Yu=U(9468),tu=U(5363);const Ss=new P.GfV("7.6.1"),ha="__angularfire_symbol__analyticsIsSupportedValue",fa="__angularfire_symbol__analyticsIsSupported",nu="__angularfire_symbol__remoteConfigIsSupportedValue",Qu="__angularfire_symbol__remoteConfigIsSupported",ru="__angularfire_symbol__messagingIsSupportedValue",Ju="__angularfire_symbol__messagingIsSupported";function Kf(w,D,R){if(D){if(1===D.length)return D[0];const Q=D.filter(fe=>fe.app===R);if(1===Q.length)return Q[0]}return R.container.getProvider(w).getImmediate({optional:!0})}globalThis[fa]||(globalThis[fa]=qu().then(w=>globalThis[ha]=w).catch(()=>globalThis[ha]=!1)),globalThis[Ju]||(globalThis[Ju]=Bd().then(w=>globalThis[ru]=w).catch(()=>globalThis[ru]=!1)),globalThis[Qu]||(globalThis[Qu]=Pr().then(w=>globalThis[nu]=w).catch(()=>globalThis[nu]=!1));const ec=(w,D)=>{const R=D?[D]:(0,m.C6)(),L=[];return R.forEach(W=>{W.container.getProvider(w).instances.forEach(fe=>{L.includes(fe)||L.push(fe)})}),L};function Ys(){}class vl{constructor(D,R=ml){this.zone=D,this.delegate=R}now(){return this.delegate.now()}schedule(D,R,L){const W=this.zone;return this.delegate.schedule(function(fe){W.runGuarded(()=>{D.apply(this,[fe])})},R,L)}}class Il{constructor(D){this.zone=D,this.task=null}call(D,R){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ys,{},Ys,Ys)),R.pipe((0,Qd.b)({next:L,complete:L,error:L})).subscribe(D).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Jd=(()=>{class w{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new vl(Zone.current)),this.insideAngular=R.run(()=>new vl(Zone.current,yl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(R){return new(R||w)(P.LFG(P.R0b))},w.\u0275prov=P.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function Ao(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function eh(w){return Ao(),function Yf(w){return function(R){return(R=R.lift(new Il(w.ngZone))).pipe((0,Yu.R)(w.outsideAngular),(0,tu.Q)(w.insideAngular))}}(Ao())(w)}},5578:(yt,Me,U)=>{U.d(Me,{$s:()=>ys,BH:()=>_e,G6:()=>Vi,L:()=>me,LL:()=>J,Pz:()=>Ee,Sg:()=>ze,UG:()=>ie,US:()=>pe,ZB:()=>K,ZR:()=>oe,aH:()=>Oe,b$:()=>Et,eu:()=>Wt,hl:()=>On,jU:()=>At,m9:()=>xr,ne:()=>Xr,pd:()=>Hr,r3:()=>Gt,ru:()=>Nt,tV:()=>q,uI:()=>vt,vZ:()=>tn,w1:()=>ot,xO:()=>zo,xb:()=>Qn,z$:()=>je,zI:()=>ue,zd:()=>vi});const re=function(H){const B=[];let Z=0;for(let le=0;le<H.length;le++){let ee=H.charCodeAt(le);ee<128?B[Z++]=ee:ee<2048?(B[Z++]=ee>>6|192,B[Z++]=63&ee|128):55296==(64512&ee)&&le+1<H.length&&56320==(64512&H.charCodeAt(le+1))?(ee=65536+((1023&ee)<<10)+(1023&H.charCodeAt(++le)),B[Z++]=ee>>18|240,B[Z++]=ee>>12&63|128,B[Z++]=ee>>6&63|128,B[Z++]=63&ee|128):(B[Z++]=ee>>12|224,B[Z++]=ee>>6&63|128,B[Z++]=63&ee|128)}return B},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,B){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,le=[];for(let ee=0;ee<H.length;ee+=3){const We=H[ee],Tt=ee+1<H.length,Ft=Tt?H[ee+1]:0,hn=ee+2<H.length,Ue=hn?H[ee+2]:0;let In=(15&Ft)<<2|Ue>>6,Gr=63&Ue;hn||(Gr=64,Tt||(In=64)),le.push(Z[We>>2],Z[(3&We)<<4|Ft>>4],Z[In],Z[Gr])}return le.join("")},encodeString(H,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(H):this.encodeByteArray(re(H),B)},decodeString(H,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(H):function(H){const B=[];let Z=0,le=0;for(;Z<H.length;){const ee=H[Z++];if(ee<128)B[le++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const We=H[Z++];B[le++]=String.fromCharCode((31&ee)<<6|63&We)}else if(ee>239&&ee<365){const hn=((7&ee)<<18|(63&H[Z++])<<12|(63&H[Z++])<<6|63&H[Z++])-65536;B[le++]=String.fromCharCode(55296+(hn>>10)),B[le++]=String.fromCharCode(56320+(1023&hn))}else{const We=H[Z++],Tt=H[Z++];B[le++]=String.fromCharCode((15&ee)<<12|(63&We)<<6|63&Tt)}}return B.join("")}(this.decodeStringToByteArray(H,B))},decodeStringToByteArray(H,B){this.init_();const Z=B?this.charToByteMapWebSafe_:this.charToByteMap_,le=[];for(let ee=0;ee<H.length;){const We=Z[H.charAt(ee++)],Ft=ee<H.length?Z[H.charAt(ee)]:0;++ee;const Ue=ee<H.length?Z[H.charAt(ee)]:64;++ee;const at=ee<H.length?Z[H.charAt(ee)]:64;if(++ee,null==We||null==Ft||null==Ue||null==at)throw new Ie;le.push(We<<2|Ft>>4),64!==Ue&&(le.push(Ft<<4&240|Ue>>2),64!==at&&le.push(Ue<<6&192|at))}return le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}};class Ie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const me=function(H){return function(H){const B=re(H);return pe.encodeByteArray(B,!0)}(H).replace(/\./g,"")},q=function(H){try{return pe.decodeString(H,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function K(H,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return B}for(const Z in B)!B.hasOwnProperty(Z)||!$e(Z)||(H[Z]=K(H[Z],B[Z]));return H}function $e(H){return"__proto__"!==H}const ye=()=>{try{return function Pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const H=process.env.__FIREBASE_DEFAULTS__;return H?JSON.parse(H):void 0})()||(()=>{if(typeof document>"u")return;let H;try{H=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=H&&q(H[1]);return B&&JSON.parse(B)})()}catch(H){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${H}`)}},Oe=()=>{var H;return null===(H=ye())||void 0===H?void 0:H.config},Ee=H=>{var B;return null===(B=ye())||void 0===B?void 0:B[`_${H}`]};class _e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,Z)=>{this.resolve=B,this.reject=Z})}wrapCallback(B){return(Z,le)=>{Z?this.reject(Z):this.resolve(le),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(Z):B(Z,le))}}}function ze(H,B){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const le=B||"demo-project",ee=H.iat||0,We=H.sub||H.user_id;if(!We)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Tt=Object.assign({iss:`https://securetoken.google.com/${le}`,aud:le,iat:ee,exp:ee+3600,auth_time:ee,sub:We,user_id:We,firebase:{sign_in_provider:"custom",identities:{}}},H);return[me(JSON.stringify({alg:"none",type:"JWT"})),me(JSON.stringify(Tt)),""].join(".")}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function vt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function ie(){var H;const B=null===(H=ye())||void 0===H?void 0:H.forceEnvironment;if("node"===B)return!0;if("browser"===B)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function At(){return"object"==typeof self&&self.self===self}function Nt(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function Et(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ot(){const H=je();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function Vi(){return!ie()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function On(){try{return"object"==typeof indexedDB}catch{return!1}}function Wt(){return new Promise((H,B)=>{try{let Z=!0;const le="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(le);ee.onsuccess=()=>{ee.result.close(),Z||self.indexedDB.deleteDatabase(le),H(!0)},ee.onupgradeneeded=()=>{Z=!1},ee.onerror=()=>{var We;B((null===(We=ee.error)||void 0===We?void 0:We.message)||"")}}catch(Z){B(Z)}})}function ue(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class oe extends Error{constructor(B,Z,le){super(Z),this.code=B,this.customData=le,this.name="FirebaseError",Object.setPrototypeOf(this,oe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,J.prototype.create)}}class J{constructor(B,Z,le){this.service=B,this.serviceName=Z,this.errors=le}create(B,...Z){const le=Z[0]||{},ee=`${this.service}/${B}`,We=this.errors[B],Tt=We?function xe(H,B){return H.replace(Ne,(Z,le)=>{const ee=B[le];return null!=ee?String(ee):`<${le}?>`})}(We,le):"Error";return new oe(ee,`${this.serviceName}: ${Tt} (${ee}).`,le)}}const Ne=/\{\$([^}]+)}/g;function Gt(H,B){return Object.prototype.hasOwnProperty.call(H,B)}function Qn(H){for(const B in H)if(Object.prototype.hasOwnProperty.call(H,B))return!1;return!0}function tn(H,B){if(H===B)return!0;const Z=Object.keys(H),le=Object.keys(B);for(const ee of Z){if(!le.includes(ee))return!1;const We=H[ee],Tt=B[ee];if(Jr(We)&&Jr(Tt)){if(!tn(We,Tt))return!1}else if(We!==Tt)return!1}for(const ee of le)if(!Z.includes(ee))return!1;return!0}function Jr(H){return null!==H&&"object"==typeof H}function zo(H){const B=[];for(const[Z,le]of Object.entries(H))Array.isArray(le)?le.forEach(ee=>{B.push(encodeURIComponent(Z)+"="+encodeURIComponent(ee))}):B.push(encodeURIComponent(Z)+"="+encodeURIComponent(le));return B.length?"&"+B.join("&"):""}function vi(H){const B={};return H.replace(/^\?/,"").split("&").forEach(le=>{if(le){const[ee,We]=le.split("=");B[decodeURIComponent(ee)]=decodeURIComponent(We)}}),B}function Hr(H){const B=H.indexOf("?");if(!B)return"";const Z=H.indexOf("#",B);return H.substring(B,Z>0?Z:void 0)}function Xr(H,B){const Z=new qt(H,B);return Z.subscribe.bind(Z)}class qt{constructor(B,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{B(this)}).catch(le=>{this.error(le)})}next(B){this.forEachObserver(Z=>{Z.next(B)})}error(B){this.forEachObserver(Z=>{Z.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,Z,le){let ee;if(void 0===B&&void 0===Z&&void 0===le)throw new Error("Missing Observer.");ee=function tt(H,B){if("object"!=typeof H||null===H)return!1;for(const Z of B)if(Z in H&&"function"==typeof H[Z])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:Z,complete:le},void 0===ee.next&&(ee.next=fo),void 0===ee.error&&(ee.error=fo),void 0===ee.complete&&(ee.complete=fo);const We=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch{}}),this.observers.push(ee),We}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,B)}sendOne(B,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{Z(this.observers[B])}catch(le){typeof console<"u"&&console.error&&console.error(le)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fo(){}function ys(H,B=1e3,Z=2){const le=B*Math.pow(Z,H),ee=Math.round(.5*le*(Math.random()-.5)*2);return Math.min(144e5,le+ee)}function xr(H){return H&&H._delegate?H._delegate:H}},2657:(yt,Me,U)=>{var P={};U.r(P),U.d(P,{FirebaseError:()=>os,SDK_VERSION:()=>Th,_DEFAULT_ENTRY_NAME:()=>hc,_addComponent:()=>Bm,_addOrOverwriteComponent:()=>SC,_apps:()=>fc,_clearComponents:()=>pO,_components:()=>Fl,_getProvider:()=>Kv,_isFirebaseApp:()=>xC,_isFirebaseServerApp:()=>zn,_registerComponent:()=>Dh,_removeServiceInstance:()=>AC,_serverApps:()=>bh,deleteApp:()=>Sp,getApp:()=>_O,getApps:()=>pc,initializeApp:()=>RC,initializeServerApp:()=>yO,onLog:()=>jm,registerVersion:()=>Ia,setLogLevel:()=>Qv});var m=U(4650);let V=null;function re(){return V}const ge=new m.OlP("DocumentToken");let me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:function(){return function q(){return(0,m.LFG)(K)}()},providedIn:"platform"}),n})();const G=new m.OlP("Location Initialized");let K=(()=>{class n extends me{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return re().getBaseHref(this._doc)}onPopState(t){const r=re().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=re().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){$e()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){$e()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(ge))},n.\u0275prov=m.Yz7({token:n,factory:function(){return function Pe(){return new K((0,m.LFG)(ge))}()},providedIn:"platform"}),n})();function $e(){return!!window.history.pushState}function Ce(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function lt(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ve(n){return n&&"?"!==n[0]?"?"+n:n}let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:function(){return(0,m.f3M)(_t)},providedIn:"root"}),n})();const gt=new m.OlP("appBaseHref");let _t=(()=>{class n extends ye{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,m.f3M)(ge).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ce(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ve(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const c=this.prepareExternalUrl(i+ve(a));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){const c=this.prepareExternalUrl(i+ve(a));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(me),m.LFG(gt,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Oe=(()=>{class n extends ye{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ce(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let c=this.prepareExternalUrl(i+ve(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){let c=this.prepareExternalUrl(i+ve(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(me),m.LFG(gt,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),Ee=(()=>{class n{constructor(t){this._subject=new m.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=lt(je(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ve(r))}normalize(t){return n.stripTrailingSlash(function ze(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,je(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ve(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ve(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=ve,n.joinWithSlash=Ce,n.stripTrailingSlash=lt,n.\u0275fac=function(t){return new(t||n)(m.LFG(ye))},n.\u0275prov=m.Yz7({token:n,factory:function(){return function _e(){return new Ee((0,m.LFG)(ye))}()},providedIn:"root"}),n})();function je(n){return n.replace(/\/index.html$/,"")}function pn(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}let Ui=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,m.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,m.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(m.ZZ4),m.Y36(m.aQg),m.Y36(m.SBq),m.Y36(m.Qsj))},n.\u0275dir=m.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Tn{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fs=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Tn(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,c),go(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{go(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))},n.\u0275dir=m.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function go(n,e){n.context.$implicit=e.item}let Ma=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new pr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ni("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ni("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(m.s_b),m.Y36(m.Rgc))},n.\u0275dir=m.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class pr{constructor(){this.$implicit=null,this.ngIf=null}}function ni(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,m.AaK)(e)}'.`)}let Uc=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:a,ngTemplateOutletInjector:c}=this;this._viewRef=r.createEmbeddedView(i,a,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(m.s_b))},n.\u0275dir=m.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[m.TTD]}),n})(),zc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({}),n})();function Qo(n){return"server"===n}let Cu=(()=>{class n{}return n.\u0275prov=(0,m.Yz7)({token:n,providedIn:"root",factory:()=>new ji((0,m.LFG)(ge),window)}),n})();class ji{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function bu(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Pr(this.window.history)||Pr(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Pr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Bs{}class Ud extends class Ff extends class Ie{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function pe(n){V||(V=n)}(new Ud)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Vf(){return $s=$s||document.querySelector("base"),$s?$s.getAttribute("href"):null}();return null==t?null:function Ha(n){Pu=Pu||document.createElement("a"),Pu.setAttribute("href",n);const e=Pu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){$s=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return pn(document.cookie,e)}}let Pu,$s=null;const nl=new m.OlP("TRANSITION_ID"),$a=[{provide:m.ip1,useFactory:function rl(n,e,t){return()=>{t.get(m.CZH).donePromise.then(()=>{const r=re(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[nl,ge,m.zs3],multi:!0}];let vo=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const Ga=new m.OlP("EventManagerPlugins");let zi=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const c=i[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Ga),m.LFG(m.R0b))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();class Io{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=re().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Eo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),wo=(()=>{class n extends Eo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Nu),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Nu))}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(ge))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();function Nu(n){re().remove(n)}const Ti={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ku=/%COMP%/g;function ia(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ia(n,i,t):(i=i.replace(ku,n),t.push(i))}return t}function il(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let sa=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new jd(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case m.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Bf(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case m.ifc.ShadowDom:return new Fu(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=ia(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(zi),m.LFG(wo),m.LFG(m.AFp))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();class jd{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ti[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Gs(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Gs(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Ti[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Ti[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(m.JOm.DashCase|m.JOm.Important)?e.style.setProperty(t,r,i&m.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&m.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,il(r)):this.eventManager.addEventListener(e,t,il(r))}}function Gs(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Bf extends jd{constructor(e,t,r,i){super(e),this.component=r;const a=ia(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function za(n){return"_ngcontent-%COMP%".replace(ku,n)}(i+"-"+r.id),this.hostAttr=function Lu(n){return"_nghost-%COMP%".replace(ku,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Fu extends jd{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=ia(i.id,i.styles,[]);for(let c=0;c<a.length;c++){const f=document.createElement("style");f.textContent=a[c],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Cs=(()=>{class n extends Io{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(ge))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const jf=["alt","control","meta","shift"],xn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},sl={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ol=(()=>{class n extends Io{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),c=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>re().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let c="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),c="code."),jf.forEach(E=>{const T=r.indexOf(E);T>-1&&(r.splice(T,1),c+=E+".")}),c+=a,0!=r.length||0===a.length)return null;const y={};return y.domEventName=i,y.fullKey=c,y}static matchEventFullKeyCode(t,r){let i=xn[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),jf.forEach(c=>{c!==i&&(0,sl[c])(t)&&(a+=c+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(ge))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const Bu=(0,m.eFA)(m._c5,"browser",[{provide:m.Lbi,useValue:"browser"},{provide:m.g9A,useValue:function wr(){Ud.makeCurrent()},multi:!0},{provide:ge,useFactory:function zs(){return(0,m.RDi)(document),document},deps:[]}]),gn=new m.OlP(""),al=[{provide:m.rWj,useClass:class Uf{addToWindow(e){m.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},m.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),m.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),m.dqk.frameworkStabilizers||(m.dqk.frameworkStabilizers=[]),m.dqk.frameworkStabilizers.push(r=>{const i=m.dqk.getAllAngularTestabilities();let a=i.length,c=!1;const f=function(y){c=c||y,a--,0==a&&r(c)};i.forEach(function(y){y.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?re().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:m.lri,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]},{provide:m.dDg,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]}],ju=[{provide:m.zSh,useValue:"root"},{provide:m.qLn,useFactory:function aa(){return new m.qLn},deps:[]},{provide:Ga,useClass:Cs,multi:!0,deps:[ge,m.R0b,m.Lbi]},{provide:Ga,useClass:ol,multi:!0,deps:[ge]},{provide:sa,useClass:sa,deps:[zi,wo,m.AFp]},{provide:m.FYo,useExisting:sa},{provide:Eo,useExisting:wo},{provide:wo,useClass:wo,deps:[ge]},{provide:zi,useClass:zi,deps:[Ga,m.R0b]},{provide:Bs,useClass:vo,deps:[]},[]];let Hd=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:m.AFp,useValue:t.appId},{provide:nl,useExisting:m.AFp},$a]}}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(gn,12))},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:[...ju,...al],imports:[zc,m.hGG]}),n})(),ua=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(ge))},n.\u0275prov=m.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function em(){return new ua((0,m.LFG)(ge))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var sn=U(8996),Wi=U(9751);const{isArray:qi}=Array,{getPrototypeOf:Ds,prototype:Or,keys:Wd}=Object;function hl(n){if(1===n.length){const e=n[0];if(qi(e))return{args:e,keys:null};if(function Wu(n){return n&&"object"==typeof n&&Ds(n)===Or}(e)){const t=Wd(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ws=U(8421),xi=U(7669),on=U(5403),wt=U(4004);const{isArray:$n}=Array;function Xa(n){return(0,wt.U)(e=>function qd(n,e){return $n(e)?n(...e):n(e)}(n,e))}function fl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let qu=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(m.Qsj),m.Y36(m.SBq))},n.\u0275dir=m.lG2({type:n}),n})(),Ts=(()=>{class n extends qu{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=m.n5z(n)))(r||n)}}(),n.\u0275dir=m.lG2({type:n,features:[m.qOj]}),n})();const oi=new m.OlP("NgValueAccessor"),pl={provide:oi,useExisting:(0,m.Gpc)(()=>Zu),multi:!0},Kd=new m.OlP("CompositionEventMode");let Zu=(()=>{class n extends qu{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function da(){const n=re()?re().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(Kd,8))},n.\u0275dir=m.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&m.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[m._Bn([pl]),m.qOj]}),n})();const mr=new m.OlP("NgValidators"),Zs=new m.OlP("NgAsyncValidators");function ha(n){return null!=n}function fa(n){return(0,m.QGY)(n)?(0,sn.D)(n):n}function nu(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Qu(n,e){return e.map(t=>t(n))}function Ju(n){return n.map(e=>function ru(n){return!n.validate}(e)?e:t=>e.validate(t))}function _l(n){return null!=n?function Xu(n){if(!n)return null;const e=n.filter(ha);return 0==e.length?null:function(t){return nu(Qu(t,e))}}(Ju(n)):null}function Zf(n){return null!=n?function iu(n){if(!n)return null;const e=n.filter(ha);return 0==e.length?null:function(t){return function To(...n){const e=(0,xi.jO)(n),{args:t,keys:r}=hl(n),i=new Wi.y(a=>{const{length:c}=t;if(!c)return void a.complete();const f=new Array(c);let y=c,E=c;for(let T=0;T<c;T++){let S=!1;(0,Ws.Xf)(t[T]).subscribe((0,on.x)(a,O=>{S||(S=!0,E--),f[T]=O},()=>y--,void 0,()=>{(!y||!S)&&(E||a.next(r?fl(r,f):f),a.complete())}))}});return e?i.pipe(Xa(e)):i}(Qu(t,e).map(fa)).pipe((0,wt.U)(nu))}}(Ju(n)):null}function Kf(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function vl(n){return n?Array.isArray(n)?n:[n]:[]}function Il(n,e){return Array.isArray(n)?n.includes(e):n===e}function Jd(n,e){const t=vl(e);return vl(n).forEach(i=>{Il(t,i)||t.push(i)}),t}function Ao(n,e){return vl(e).filter(t=>!Il(n,t))}class su{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=_l(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Zf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Fn extends su{get formDirective(){return null}get path(){return null}}class As extends su{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let Ki=(()=>{class n extends class Xd{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(As,2))},n.\u0275dir=m.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&m.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[m.qOj]}),n})();const ci="VALID",pa="INVALID",ga="PENDING",tc="DISABLED";function El(n){return Array.isArray(n)?_l(n):n||null}function wl(n){return Array.isArray(n)?Zf(n):n||null}function ou(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function ss(n,e){(function rh(n,e){const t=function ec(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(Kf(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Ys(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(Kf(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Ro(e._rawValidators,i),Ro(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function ep(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&ih(n,e)})}(n,e),function yv(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function mv(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&ih(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Dl(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ro(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ih(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ch(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Sl(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const op={provide:As,useExisting:(0,m.Gpc)(()=>uu)},lh=(()=>Promise.resolve())();let uu=(()=>{class n extends As{constructor(t,r,i,a,c){super(),this._changeDetectorRef=c,this.control=new class extends class Qf{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=El(this._rawValidators),this._composedAsyncValidatorFn=wl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ci}get invalid(){return this.status===pa}get pending(){return this.status==ga}get disabled(){return this.status===tc}get enabled(){return this.status!==tc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=El(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=wl(e)}addValidators(e){this.setValidators(Jd(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Jd(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ao(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ao(e,this._rawAsyncValidators))}hasValidator(e){return Il(this._rawValidators,e)}hasAsyncValidator(e){return Il(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ga,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=tc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ci,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ci||this.status===ga)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tc:ci}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ga,this._hasOwnPendingAsyncValidator=!0;const t=fa(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?tc:this.errors?pa:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ga)?ga:this._anyControlsHaveStatus(pa)?pa:ci}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ou(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}{constructor(e=null,t,r){super(function im(n){return(ou(n)?n.validators:n)||null}(t),function th(n,e){return(ou(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ou(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Sl(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ch(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ch(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Sl(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},this._registered=!1,this.update=new m.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function ah(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===Zu?t=a:function lm(n){return Object.getPrototypeOf(n.constructor)===Ts}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Tl(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ss(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){lh.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,m.D6c)(r);lh.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function bl(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(Fn,9),m.Y36(mr,10),m.Y36(Zs,10),m.Y36(oi,10),m.Y36(m.sBO,8))},n.\u0275dir=m.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[m._Bn([op]),m.qOj,m.TTD]}),n})(),hh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({}),n})(),Em=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[hh]}),n})(),mp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[Em]}),n})();var k=U(5861);const Xw=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},YS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],c=i+1<n.length,f=c?n[i+1]:0,y=i+2<n.length,E=y?n[i+2]:0;let O=(15&f)<<2|E>>6,j=63&E;y||(j=64,c||(O=64)),r.push(t[a>>2],t[(3&a)<<4|f>>4],t[O],t[j])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Xw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const y=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(1023&y))}else{const a=n[t++],c=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&c)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],f=i<n.length?t[n.charAt(i)]:0;++i;const E=i<n.length?t[n.charAt(i)]:64;++i;const S=i<n.length?t[n.charAt(i)]:64;if(++i,null==a||null==f||null==E||null==S)throw new zk;r.push(a<<2|f>>4),64!==E&&(r.push(f<<4&240|E>>2),64!==S&&r.push(E<<6&192|S))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class zk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mh=function(n){return function(n){const e=Xw(n);return YS.encodeByteArray(e,!0)}(n).replace(/\./g,"")},yh=function(n){try{return YS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _h(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!JS(t)||(n[t]=_h(n[t],e[t]));return n}function JS(n){return"__proto__"!==n}function Rv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const bm=()=>{try{return Rv().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&yh(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},Nv=()=>{var n;return null===(n=bm())||void 0===n?void 0:n.config};class tC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function vp(n){return n.endsWith(".cloudworkstations.dev")}function kv(){return(kv=(0,k.Z)(function*(n){return(yield fetch(n,{credentials:"include"})).ok})).apply(this,arguments)}const uc={};let Tm=!1;function eA(n,e){if(typeof window>"u"||typeof document>"u"||!vp(window.location.host)||uc[n]===e||uc[n]||Tm)return;function t(O){return`__firebase__banner__${O}`}uc[n]=e;const r="__firebase__banner",a=function kl(){const n={prod:[],emulator:[]};for(const e of Object.keys(uc))uc[e]?n.emulator.push(e):n.prod.push(e);return n}().prod.length>0;function S(){const O=function rC(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}(r),j=t("text"),X=document.getElementById(j)||document.createElement("span"),De=t("learnmore"),Ae=document.getElementById(De)||document.createElement("a"),Qe=t("preprendIcon"),ct=document.getElementById(Qe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const pt=O.element;(function f(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"})(pt),function T(O,j){O.setAttribute("id",j),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}(Ae,De);const Pt=function E(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{Tm=!0,function c(){const O=document.getElementById(r);O&&O.remove()}()},O}();(function y(O,j){O.setAttribute("width","24"),O.setAttribute("id",j),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"})(ct,Qe),pt.append(ct,X,Ae,Pt),document.body.appendChild(pt)}a?(X.innerText="Preview backend disconnected.",ct.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(ct.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',X.innerText="Preview backend running in this workspace."),X.setAttribute("id",j)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",S):S()}function vr(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function cu(){var n;const e=null===(n=bm())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function sC(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function nA(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function oC(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function Ip(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ov(){const n=vr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function cc(){try{return"object"==typeof indexedDB}catch{return!1}}class os extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vh.prototype.create)}}class vh{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],c=a?function aC(n,e){return n.replace(sA,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(a,r):"Error";return new os(i,`${this.serviceName}: ${c} (${i}).`,r)}}const sA=/\{\$([^}]+)}/g;function Sm(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function aA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function bp(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],c=e[i];if(dC(a)&&dC(c)){if(!bp(a,c))return!1}else if(a!==c)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function dC(n){return null!==n&&"object"==typeof n}function Ih(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Eh(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function _a(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function hC(n,e){const t=new uA(n,e);return t.subscribe.bind(t)}class uA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function eO(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=xm),void 0===i.error&&(i.error=xm),void 0===i.complete&&(i.complete=xm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xm(){}function mn(n){return n&&n._delegate?n._delegate:n}class lu{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ol="[DEFAULT]";class pA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new tC;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Bt(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ol})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Ol){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,k.Z)(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ol){return this.instances.has(e)}getOptions(e=Ol){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,c]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(a)&&c.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const c=this.instances.get(i);return c&&e(c,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Ol?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=Ol){return this.component?this.component.multipleInstances?e:Ol:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Lv{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new pA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Mm=[];var bn=(()=>{return(n=bn||(bn={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",bn;var n})();const pC={debug:bn.DEBUG,verbose:bn.VERBOSE,info:bn.INFO,warn:bn.WARN,error:bn.ERROR,silent:bn.SILENT},mA=bn.INFO,gC={[bn.DEBUG]:"log",[bn.VERBOSE]:"log",[bn.INFO]:"info",[bn.WARN]:"warn",[bn.ERROR]:"error"},yA=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=gC[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Pm{constructor(e){this.name=e,this._logLevel=mA,this._logHandler=yA,this._userLogHandler=null,Mm.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in bn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?pC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,bn.DEBUG,...e),this._logHandler(this,bn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,bn.VERBOSE,...e),this._logHandler(this,bn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,bn.INFO,...e),this._logHandler(this,bn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,bn.WARN,...e),this._logHandler(this,bn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,bn.ERROR,...e),this._logHandler(this,bn.ERROR,...e)}}let Fv,Vv;const Nm=new WeakMap,Dp=new WeakMap,mC=new WeakMap,yC=new WeakMap,_C=new WeakMap;let km={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Dp.get(n);if("objectStoreNames"===e)return n.objectStoreNames||mC.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return dc(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function wh(n){return"function"==typeof n?function wA(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function IA(){return Vv||(Vv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Om(this),e),dc(Nm.get(this))}:function(...e){return dc(n.apply(Om(this),e))}:function(e,...t){const r=n.call(Om(this),e,...t);return mC.set(r,e.sort?e.sort():[e]),dc(r)}}(n):(n instanceof IDBTransaction&&function EA(n){if(Dp.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),i()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});Dp.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function Ll(){return Fv||(Fv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,km):n)}function dc(n){if(n instanceof IDBRequest)return function oO(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(dc(n.result)),i()},c=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Nm.set(t,n)}).catch(()=>{}),_C.set(e,n),e}(n);if(yC.has(n))return yC.get(n);const e=wh(n);return e!==n&&(yC.set(n,e),_C.set(e,n)),e}const Om=n=>_C.get(n);class bA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function DA(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const Tp="@firebase/app",Bv="0.13.0",va=new Pm("@firebase/app"),hc="[DEFAULT]",AA={[Tp]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/ai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},fc=new Map,bh=new Map,Fl=new Map;function Bm(n,e){try{n.container.addComponent(e)}catch(t){va.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function SC(n,e){n.container.addOrOverwriteComponent(e)}function Dh(n){const e=n.name;if(Fl.has(e))return va.debug(`There were multiple attempts to register component ${e}.`),!1;Fl.set(e,n);for(const t of fc.values())Bm(t,n);for(const t of bh.values())Bm(t,n);return!0}function Kv(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function AC(n,e,t=hc){Kv(n,e).clearInstance(t)}function xC(n){return void 0!==n.options}function zn(n){return null!=n&&void 0!==n.settings}function pO(){Fl.clear()}const No=new vh("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class xA{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw No.create("app-deleted",{appName:this._name})}}function RA(n,e){const t=yh(n.split(".")[1]);null!==t?void 0!==JSON.parse(t).exp?1e3*JSON.parse(t).exp-(new Date).getTime()<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`):console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`):console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`)}class mO extends xA{constructor(e,t,r,i){const a=void 0===t.automaticDataCollectionEnabled||t.automaticDataCollectionEnabled,c={name:r,automaticDataCollectionEnabled:a};super(void 0!==e.apiKey?e:e.options,c,i),this._serverConfig=Object.assign({automaticDataCollectionEnabled:a},t),this._serverConfig.authIdToken&&RA(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&RA(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Ia(Tp,Bv,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Sp(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw No.create("server-app-deleted")}}const Th="11.8.0";function RC(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:hc,automaticDataCollectionEnabled:!0},e),i=r.name;if("string"!=typeof i||!i)throw No.create("bad-app-name",{appName:String(i)});if(t||(t=Nv()),!t)throw No.create("no-options");const a=fc.get(i);if(a){if(bp(t,a.options)&&bp(r,a.config))return a;throw No.create("duplicate-app",{appName:i})}const c=new Lv(i);for(const y of Fl.values())c.addComponent(y);const f=new xA(t,r,c);return fc.set(i,f),f}function yO(n,e){if(function tA(){return typeof window<"u"||sC()}()&&!sC())throw No.create("invalid-server-app-environment");let t;void 0===e.automaticDataCollectionEnabled&&(e.automaticDataCollectionEnabled=!0),t=xC(n)?n.options:n;const r=Object.assign(Object.assign({},e),t);if(void 0!==r.releaseOnDeref&&delete r.releaseOnDeref,void 0!==e.releaseOnDeref&&typeof FinalizationRegistry>"u")throw No.create("finalization-registry-not-supported",{});const a=""+(E=JSON.stringify(r),[...E].reduce((T,S)=>Math.imul(31,T)+S.charCodeAt(0)|0,0)),c=bh.get(a);var E;if(c)return c.incRefCount(e.releaseOnDeref),c;const f=new Lv(a);for(const E of Fl.values())f.addComponent(E);const y=new mO(t,e,a,f);return bh.set(a,y),y}function _O(n=hc){const e=fc.get(n);if(!e&&n===hc&&Nv())return RC();if(!e)throw No.create("no-app",{appName:n});return e}function pc(){return Array.from(fc.values())}function Sp(n){return Yv.apply(this,arguments)}function Yv(){return(Yv=(0,k.Z)(function*(n){let e=!1;const t=n.name;fc.has(t)?(e=!0,fc.delete(t)):bh.has(t)&&n.decRefCount()<=0&&(bh.delete(t),e=!0),e&&(yield Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)})).apply(this,arguments)}function Ia(n,e,t){var r;let i=null!==(r=AA[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const f=[`Unable to register library "${i}" with version "${e}":`];return a&&f.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void va.warn(f.join(" "))}Dh(new lu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function jm(n,e){if(null!==n&&"function"!=typeof n)throw No.create("invalid-log-argument");!function vA(n,e){for(const t of Mm){let r=null;e&&e.level&&(r=pC[e.level]),t.userLogHandler=null===n?null:(i,a,...c)=>{const f=c.map(y=>{if(null==y)return null;if("string"==typeof y)return y;if("number"==typeof y||"boolean"==typeof y)return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(y=>y).join(" ");a>=(r??i.logLevel)&&n({level:bn[a].toLowerCase(),message:f,args:c,type:i.name})}}}(n,e)}function Qv(n){!function _A(n){Mm.forEach(e=>{e.setLogLevel(n)})}(n)}const eo="firebase-heartbeat-store";let Hm=null;function MC(){return Hm||(Hm=function Lm(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const c=indexedDB.open(n,e),f=dc(c);return r&&c.addEventListener("upgradeneeded",y=>{r(dc(c.result),y.oldVersion,y.newVersion,dc(c.transaction),y)}),t&&c.addEventListener("blocked",y=>t(y.oldVersion,y.newVersion,y)),f.then(y=>{a&&y.addEventListener("close",()=>a()),i&&y.addEventListener("versionchange",E=>i(E.oldVersion,E.newVersion,E))}).catch(()=>{}),f}("firebase-heartbeat-database",1,{upgrade:(n,e)=>{if(0===e)try{n.createObjectStore(eo)}catch(t){console.warn(t)}}}).catch(n=>{throw No.create("idb-open",{originalErrorMessage:n.message})})),Hm}function $m(){return($m=(0,k.Z)(function*(n){try{const t=(yield MC()).transaction(eo),r=yield t.objectStore(eo).get(Ap(n));return yield t.done,r}catch(e){if(e instanceof os)va.warn(e.message);else{const t=No.create("idb-get",{originalErrorMessage:e?.message});va.warn(t.message)}}})).apply(this,arguments)}function PC(n,e){return Xv.apply(this,arguments)}function Xv(){return(Xv=(0,k.Z)(function*(n,e){try{const r=(yield MC()).transaction(eo,"readwrite");yield r.objectStore(eo).put(e,Ap(n)),yield r.done}catch(t){if(t instanceof os)va.warn(t.message);else{const r=No.create("idb-set",{originalErrorMessage:t?.message});va.warn(r.message)}}})).apply(this,arguments)}function Ap(n){return`${n.name}!${n.options.appId}`}class Ah{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new NC(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return(0,k.Z)(function*(){var t,r;try{const a=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Gm();if(null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===c||e._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(e._heartbeatsCache.heartbeats.push({date:c,agent:a}),e._heartbeatsCache.heartbeats.length>30){const f=function nI(n){if(0===n.length)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}(e._heartbeatsCache.heartbeats);e._heartbeatsCache.heartbeats.splice(f,1)}return e._storage.overwrite(e._heartbeatsCache)}catch(i){va.warn(i)}})()}getHeartbeatsHeader(){var e=this;return(0,k.Z)(function*(){var t;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=Gm(),{heartbeatsToSend:i,unsentEntries:a}=function zm(n,e=1024){const t=[];let r=n.slice();for(const i of n){const a=t.find(c=>c.agent===i.agent);if(a){if(a.dates.push(i.date),tI(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),tI(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),c=mh(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(e._heartbeatsCache.heartbeats=a,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),c}catch(r){return va.warn(r),""}})()}}function Gm(){return(new Date).toISOString().substring(0,10)}class NC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,k.Z)(function*(){return!!cc()&&function iA(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e((null===(a=i.error)||void 0===a?void 0:a.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,k.Z)(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function PA(n){return $m.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return(0,k.Z)(function*(){var r;if(yield t._canUseIndexedDBPromise){const a=yield t.read();return PC(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return(0,k.Z)(function*(){var r;if(yield t._canUseIndexedDBPromise){const a=yield t.read();return PC(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}})()}}function tI(n){return mh(JSON.stringify({version:2,heartbeats:n})).length}!function rI(n){Dh(new lu("platform-logger",e=>new bA(e),"PRIVATE")),Dh(new lu("heartbeat",e=>new Ah(e),"PRIVATE")),Ia(Tp,Bv,n),Ia(Tp,Bv,"esm2017"),Ia("fire-js","")}("");class kC{constructor(e,t){this._delegate=e,this.firebase=t,Bm(e,new lu("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Sp(this._delegate)))}_getService(e,t=hc){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&"EXPLICIT"===(null===(r=i.getComponent())||void 0===r?void 0:r.instantiationMode)&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=hc){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Bm(this._delegate,e)}_addOrOverwriteComponent(e){SC(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const OC=new vh("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),FC=function LC(){const n=function vO(n){const e={},t={__esModule:!0,initializeApp:function a(E,T={}){const S=RC(E,T);if(Sm(e,S.name))return e[S.name];const O=new n(S,t);return e[S.name]=O,O},app:i,registerVersion:Ia,setLogLevel:Qv,onLog:jm,apps:null,SDK_VERSION:Th,INTERNAL:{registerComponent:function f(E){const T=E.name,S=T.replace("-compat","");if(Dh(E)&&"PUBLIC"===E.type){const O=(j=i())=>{if("function"!=typeof j[S])throw OC.create("invalid-app-argument",{appName:T});return j[S]()};void 0!==E.serviceProps&&_h(O,E.serviceProps),t[S]=O,n.prototype[S]=function(...j){return this._getService.bind(this,T).apply(this,E.multipleInstances?j:[])}}return"PUBLIC"===E.type?t[S]:null},removeApp:function r(E){delete e[E]},useAsService:function y(E,T){return"serverAuth"===T?null:T},modularAPIs:P}};function i(E){if(!Sm(e,E=E||hc))throw OC.create("no-app",{appName:E});return e[E]}return t.default=t,Object.defineProperty(t,"apps",{get:function c(){return Object.keys(e).map(E=>e[E])}}),i.App=n,t}(kC);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:LC,extendNamespace:function e(t){_h(n,t)},createSubscribe:hC,ErrorFactory:vh,deepExtend:_h}),n}(),VC=new Pm("@firebase/app-compat");try{const n=Rv();if(void 0!==n.firebase){VC.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&VC.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const Yi=FC;!function NA(n){Ia("@firebase/app-compat","0.4.0",n)}();var Wm=U(7582);const OA=function kA(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}},$C=function HC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},GC=new vh("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Zm=new Pm("@firebase/auth");function xp(n,...e){Zm.logLevel<=bn.ERROR&&Zm.error(`Auth (${Th}): ${n}`,...e)}function Lr(n,...e){throw sI(n,...e)}function Fr(n,...e){return sI(n,...e)}function to(n,e,t){const r=Object.assign(Object.assign({},$C()),{[e]:t});return new vh("auth","Firebase",r).create(e,{appName:n.name})}function Cr(n){return to(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xh(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&Lr(n,"argument-error"),to(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sI(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return GC.create(n,...e)}function Fe(n,e,...t){if(!n)throw sI(e,...t)}function ko(n){const e="INTERNAL ASSERTION FAILED: "+n;throw xp(e),new Error(e)}function Oo(n,e){n||ko(e)}function Rp(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function oI(){return"http:"===Km()||"https:"===Km()}function Km(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class gc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Oo(t>e,"Short delay should be less than long delay!"),this.isMobile=function iC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vr())}()||Ip()}get(){return function VA(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(oI()||oC()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mp(n,e){Oo(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Pp{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ko("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ko("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ko("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},aI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CO=new gc(3e4,6e4);function Un(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Bn(n,e,t,r){return Ym.apply(this,arguments)}function Ym(){return(Ym=(0,k.Z)(function*(n,e,t,r,i={}){return uI(n,i,(0,k.Z)(function*(){let a={},c={};r&&("GET"===e?c=r:a={body:JSON.stringify(r)});const f=Ih(Object.assign({key:n.config.apiKey},c)).slice(1),y=yield n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);const E=Object.assign({method:e,headers:y},a);return nA()||(E.referrerPolicy="no-referrer"),n.emulatorConfig&&vp(n.emulatorConfig.host)&&(E.credentials="include"),Pp.fetch()(yield kp(n,n.config.apiHost,t,f),E)}))})).apply(this,arguments)}function uI(n,e,t){return Np.apply(this,arguments)}function Np(){return(Np=(0,k.Z)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},wO),e);try{const i=new cI(n),a=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const c=yield a.json();if("needConfirmation"in c)throw Mh(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const f=a.ok?c.errorMessage:c.error.message,[y,E]=f.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===y)throw Mh(n,"credential-already-in-use",c);if("EMAIL_EXISTS"===y)throw Mh(n,"email-already-in-use",c);if("USER_DISABLED"===y)throw Mh(n,"user-disabled",c);const T=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw to(n,T,E);Lr(n,T)}}catch(i){if(i instanceof os)throw i;Lr(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function hi(n,e,t,r){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,k.Z)(function*(n,e,t,r,i={}){const a=yield Bn(n,e,t,r,i);return"mfaPendingCredential"in a&&Lr(n,"multi-factor-auth-required",{_serverResponse:a}),a})).apply(this,arguments)}function kp(n,e,t,r){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,k.Z)(function*(n,e,t,r){const i=`${e}${t}?${r}`,a=n,c=a.config.emulator?Mp(n.config,i):`${n.config.apiScheme}://${i}`;return aI.includes(t)&&(yield a._persistenceManagerAvailable,"COOKIE"===a._getPersistenceType())?a._getPersistence()._getFinalTarget(c).toString():c})).apply(this,arguments)}function BA(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Fr(this.auth,"network-request-failed")),CO.get())})}}function Mh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Fr(n,e,r);return i.customData._tokenResponse=t,i}function zC(n){return void 0!==n&&void 0!==n.getResponse}function WC(n){return void 0!==n&&void 0!==n.enterprise}class Ph{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return BA(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}function qC(){return(qC=(0,k.Z)(function*(n){return(yield Bn(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ZC(n,e){return KC.apply(this,arguments)}function KC(){return(KC=(0,k.Z)(function*(n,e){return Bn(n,"GET","/v2/recaptchaConfig",Un(n,e))})).apply(this,arguments)}function lI(){return(lI=(0,k.Z)(function*(n,e){return Bn(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function $A(n,e){return Qm.apply(this,arguments)}function Qm(){return(Qm=(0,k.Z)(function*(n,e){return Bn(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Nh(n,e){return dI.apply(this,arguments)}function dI(){return(dI=(0,k.Z)(function*(n,e){return Bn(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Bl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function hI(){return(hI=(0,k.Z)(function*(n,e=!1){const t=mn(n),r=yield t.getIdToken(e),i=Jm(r);Fe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a="object"==typeof i.firebase?i.firebase:void 0,c=a?.sign_in_provider;return{claims:i,token:r,authTime:Bl(fI(i.auth_time)),issuedAtTime:Bl(fI(i.iat)),expirationTime:Bl(fI(i.exp)),signInProvider:c||null,signInSecondFactor:a?.sign_in_second_factor||null}})).apply(this,arguments)}function fI(n){return 1e3*Number(n)}function Jm(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return xp("JWT malformed, contained fewer than 3 sections"),null;try{const i=yh(t);return i?JSON.parse(i):(xp("Failed to decode base64 JWT payload"),null)}catch(i){return xp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function YC(n){const e=Jm(n);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function no(n,e){return hu.apply(this,arguments)}function hu(){return(hu=(0,k.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof os&&DO(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function DO({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class Op{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,k.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,k.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class pI{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Lp(n){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,k.Z)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield no(n,Nh(t,{idToken:r}));Fe(i?.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const c=null!==(e=a.providerUserInfo)&&void 0!==e&&e.length?fi(a.providerUserInfo):[],f=Vp(n.providerData,c),T=!!n.isAnonymous&&!(n.email&&a.passwordHash||f?.length),S={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new pI(a.createdAt,a.lastLoginAt),isAnonymous:T};Object.assign(n,S)})).apply(this,arguments)}function ro(){return(ro=(0,k.Z)(function*(n){const e=mn(n);yield Lp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Vp(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function fi(n){return n.map(e=>{var{providerId:t}=e,r=(0,Wm._T)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function kh(){return(kh=(0,k.Z)(function*(n,e){const t=yield uI(n,{},(0,k.Z)(function*(){const r=Ih({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,c=yield kp(n,i,"/v1/token",`key=${a}`),f=yield n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",Pp.fetch()(c,{method:"POST",headers:f,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function Up(){return(Up=(0,k.Z)(function*(n,e){return Bn(n,"POST","/v2/accounts:revokeToken",Un(n,e))})).apply(this,arguments)}class Lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):YC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Fe(0!==e.length,"internal-error");const t=YC(e);this.updateTokensAndExpiration(e,null,t)}getToken(e){var t=this;return(0,k.Z)(function*(r,i=!1){return i||!t.accessToken||t.isExpired?(Fe(t.refreshToken,r,"user-token-expired"),t.refreshToken?(yield t.refresh(r,t.refreshToken),t.accessToken):null):t.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,k.Z)(function*(){const{accessToken:i,refreshToken:a,expiresIn:c}=yield function jl(n,e){return kh.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,a,Number(c))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,c=new Lo;return r&&(Fe("string"==typeof r,"internal-error",{appName:e}),c.refreshToken=r),i&&(Fe("string"==typeof i,"internal-error",{appName:e}),c.accessToken=i),a&&(Fe("number"==typeof a,"internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lo,this.toJSON())}_performRefresh(){return ko("not implemented")}}function xs(n,e){Fe("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Ri{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=(0,Wm._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Op(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new pI(a.createdAt||void 0,a.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,k.Z)(function*(){const r=yield no(t,t.stsTokenManager.getToken(t.auth,e));return Fe(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function GA(n){return hI.apply(this,arguments)}(this,e)}reload(){return function zA(n){return ro.apply(this,arguments)}(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ri(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e){var t=this;return(0,k.Z)(function*(r,i=!1){let a=!1;r.idToken&&r.idToken!==t.stsTokenManager.accessToken&&(t.stsTokenManager.updateFromServerResponse(r),a=!0),i&&(yield Lp(t)),yield t.auth._persistUserIfCurrent(t),a&&t.auth._notifyListenersIfCurrent(t)}).apply(this,arguments)}delete(){var e=this;return(0,k.Z)(function*(){if(zn(e.auth.app))return Promise.reject(Cr(e.auth));const t=yield e.getIdToken();return yield no(e,function HA(n,e){return lI.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,c,f,y,E,T;const S=null!==(r=t.displayName)&&void 0!==r?r:void 0,O=null!==(i=t.email)&&void 0!==i?i:void 0,j=null!==(a=t.phoneNumber)&&void 0!==a?a:void 0,X=null!==(c=t.photoURL)&&void 0!==c?c:void 0,De=null!==(f=t.tenantId)&&void 0!==f?f:void 0,Ae=null!==(y=t._redirectEventId)&&void 0!==y?y:void 0,Qe=null!==(E=t.createdAt)&&void 0!==E?E:void 0,ct=null!==(T=t.lastLoginAt)&&void 0!==T?T:void 0,{uid:pt,emailVerified:Pt,isAnonymous:Kt,providerData:Xt,stsTokenManager:yi}=t;Fe(pt&&yi,e,"internal-error");const pd=Lo.fromJSON(this.name,yi);Fe("string"==typeof pt,e,"internal-error"),xs(S,e.name),xs(O,e.name),Fe("boolean"==typeof Pt,e,"internal-error"),Fe("boolean"==typeof Kt,e,"internal-error"),xs(j,e.name),xs(X,e.name),xs(De,e.name),xs(Ae,e.name),xs(Qe,e.name),xs(ct,e.name);const fv=new Ri({uid:pt,auth:e,email:O,emailVerified:Pt,displayName:S,isAnonymous:Kt,photoURL:X,phoneNumber:j,tenantId:De,stsTokenManager:pd,createdAt:Qe,lastLoginAt:ct});return Xt&&Array.isArray(Xt)&&(fv.providerData=Xt.map(O5=>Object.assign({},O5))),Ae&&(fv._redirectEventId=Ae),fv}static _fromIdTokenResponse(e,t){return(0,k.Z)(function*(r,i,a=!1){const c=new Lo;c.updateFromServerResponse(i);const f=new Ri({uid:i.localId,auth:r,stsTokenManager:c,isAnonymous:a});return yield Lp(f),f}).apply(this,arguments)}static _fromGetAccountInfoResponse(e,t,r){return(0,k.Z)(function*(){const i=t.users[0];Fe(void 0!==i.localId,"internal-error");const a=void 0!==i.providerUserInfo?fi(i.providerUserInfo):[],c=!(i.email&&i.passwordHash||a?.length),f=new Lo;f.updateFromIdToken(r);const y=new Ri({uid:i.localId,auth:e,stsTokenManager:f,isAnonymous:c}),E={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new pI(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||a?.length)};return Object.assign(y,E),y})()}}const Hl=new Map;function Zr(n){Oo(n instanceof Function,"Expected a class definition");let e=Hl.get(n);return e?(Oo(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Hl.set(n,e),e)}const Fo=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,k.Z)(function*(){return!0})()}_set(t,r){var i=this;return(0,k.Z)(function*(){i.storage[t]=r})()}_get(t){var r=this;return(0,k.Z)(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return(0,k.Z)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function so(n,e,t){return`firebase:${n}:${e}:${t}`}class Vo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=so(this.userKey,i.apiKey,a),this.fullPersistenceKey=so("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,k.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);if(!t)return null;if("string"==typeof t){const r=yield Nh(e.auth,{idToken:t}).catch(()=>{});return r?Ri._fromGetAccountInfoResponse(e.auth,r,t):null}return Ri._fromJSON(e.auth,t)})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,k.Z)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t){return(0,k.Z)(function*(r,i,a="authUser"){if(!i.length)return new Vo(Zr(Fo),r,a);const c=(yield Promise.all(i.map(function(){var S=(0,k.Z)(function*(O){if(yield O._isAvailable())return O});return function(O){return S.apply(this,arguments)}}()))).filter(S=>S);let f=c[0]||Zr(Fo);const y=so(a,r.config.apiKey,r.name);let E=null;for(const S of i)try{const O=yield S._get(y);if(O){let j;if("string"==typeof O){const X=yield Nh(r,{idToken:O}).catch(()=>{});if(!X)break;j=yield Ri._fromGetAccountInfoResponse(r,X,O)}else j=Ri._fromJSON(r,O);S!==f&&(E=j),f=S;break}}catch{}const T=c.filter(S=>S._shouldAllowMigration);return f._shouldAllowMigration&&T.length?(f=T[0],E&&(yield f._set(y,E.toJSON())),yield Promise.all(i.map(function(){var S=(0,k.Z)(function*(O){if(O!==f)try{yield O._remove(y)}catch{}});return function(O){return S.apply(this,arguments)}}())),new Vo(f,r,a)):new Vo(f,r,a)}).apply(this,arguments)}}function gI(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(II(e))return"Blackberry";if(EI(e))return"Webos";if(yI(e))return"Safari";if((e.includes("chrome/")||_I(e))&&!e.includes("edge/"))return"Chrome";if(Oh(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function mI(n=vr()){return/firefox\//i.test(n)}function yI(n=vr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _I(n=vr()){return/crios\//i.test(n)}function vI(n=vr()){return/iemobile/i.test(n)}function Oh(n=vr()){return/android/i.test(n)}function II(n=vr()){return/blackberry/i.test(n)}function EI(n=vr()){return/webos/i.test(n)}function Lh(n=vr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function JC(n=vr()){return Lh(n)||Oh(n)||EI(n)||II(n)||/windows phone/i.test(n)||vI(n)}function wI(n,e=[]){let t;switch(n){case"Browser":t=gI(vr());break;case"Worker":t=`${gI(vr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Th}/${r}`}class CI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((c,f)=>{try{c(e(a))}catch(y){f(y)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,k.Z)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const a of r)try{a()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function DI(){return(DI=(0,k.Z)(function*(n,e={}){return Bn(n,"GET","/v2/passwordPolicy",Un(n,e))})).apply(this,arguments)}class ey{constructor(e){var t,r,i,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=c.minPasswordLength)&&void 0!==t?t:6,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),void 0!==c.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),void 0!==c.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),void 0!==c.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),void 0!==c.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(a=e.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,c,f;const y={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,y),this.validatePasswordCharacterOptions(e,y),y.isValid&&(y.isValid=null===(t=y.meetsMinPasswordLength)||void 0===t||t),y.isValid&&(y.isValid=null===(r=y.meetsMaxPasswordLength)||void 0===r||r),y.isValid&&(y.isValid=null===(i=y.containsLowercaseLetter)||void 0===i||i),y.isValid&&(y.isValid=null===(a=y.containsUppercaseLetter)||void 0===a||a),y.isValid&&(y.isValid=null===(c=y.containsNumericCharacter)||void 0===c||c),y.isValid&&(y.isValid=null===(f=y.containsNonAlphanumericCharacter)||void 0===f||f),y}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class TI{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jp(this),this.idTokenSubscription=new jp(this),this.beforeStateQueue=new CI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Zr(t)),this._initializationPromise=this.queue((0,k.Z)(function*(){var i,a,c;if(!r._deleted&&(r.persistenceManager=yield Vo.create(r,e),null===(i=r._resolvePersistenceManagerAvailable)||void 0===i||i.call(r),!r._deleted)){if(null!==(a=r._popupRedirectResolver)&&void 0!==a&&a._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(c=r.currentUser)||void 0===c?void 0:c.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,k.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUserFromIdToken(e){var t=this;return(0,k.Z)(function*(){try{const r=yield Nh(t,{idToken:e}),i=yield Ri._fromGetAccountInfoResponse(t,r,e);yield t.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield t.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var t=this;return(0,k.Z)(function*(){var r;if(zn(t.app)){const f=t.app.settings.authIdToken;return f?new Promise(y=>{setTimeout(()=>t.initializeCurrentUserFromIdToken(f).then(y,y))}):t.directlySetCurrentUser(null)}const i=yield t.assertedPersistence.getCurrentUser();let a=i,c=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const f=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,y=a?._redirectEventId,E=yield t.tryRedirectSignIn(e);(!f||f===y)&&E?.user&&(a=E.user,c=!0)}if(!a)return t.directlySetCurrentUser(null);if(!a._redirectEventId){if(c)try{yield t.beforeStateQueue.runMiddleware(a)}catch(f){a=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(f))}return a?t.reloadAndSetCurrentUserOrClear(a):t.directlySetCurrentUser(null)}return Fe(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===a._redirectEventId?t.directlySetCurrentUser(a):t.reloadAndSetCurrentUserOrClear(a)})()}tryRedirectSignIn(e){var t=this;return(0,k.Z)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,k.Z)(function*(){try{yield Lp(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function UA(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,k.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,k.Z)(function*(){if(zn(t.app))return Promise.reject(Cr(t));const r=e?mn(e):null;return r&&Fe(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e){var t=this;return(0,k.Z)(function*(r,i=!1){if(!t._deleted)return r&&Fe(t.tenantId===r.tenantId,t,"tenant-id-mismatch"),i||(yield t.beforeStateQueue.runMiddleware(r)),t.queue((0,k.Z)(function*(){yield t.directlySetCurrentUser(r),t.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var e=this;return(0,k.Z)(function*(){return zn(e.app)?Promise.reject(Cr(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var t=this;return zn(this.app)?Promise.reject(Cr(this)):this.queue((0,k.Z)(function*(){yield t.assertedPersistence.setPersistence(Zr(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return(0,k.Z)(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,k.Z)(function*(){const t=yield function bI(n){return DI.apply(this,arguments)}(e),r=new ey(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vh("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return(0,k.Z)(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(i.tenantId=t.tenantId),yield function io(n,e){return Up.apply(this,arguments)}(t,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,k.Z)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,k.Z)(function*(){if(!t.redirectPersistenceManager){const r=e&&Zr(e)||t._popupRedirectResolver;Fe(r,t,"argument-error"),t.redirectPersistenceManager=yield Vo.create(t,[Zr(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,k.Z)(function*(){var r,i;return t._isInitialized&&(yield t.queue((0,k.Z)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,k.Z)(function*(){if(e===t.currentUser)return t.queue((0,k.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a="function"==typeof t?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(f,this,"internal-error"),f.then(()=>{c||a(this.currentUser)}),"function"==typeof t){const y=e.addObserver(t,r,i);return()=>{c=!0,y()}}{const y=e.addObserver(t);return()=>{c=!0,y()}}}directlySetCurrentUser(e){var t=this;return(0,k.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,k.Z)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const a=yield e._getAppCheckToken();return a&&(r["X-Firebase-AppCheck"]=a),r})()}_getAppCheckToken(){var e=this;return(0,k.Z)(function*(){var t;if(zn(e.app)&&e.app.settings.appCheckToken)return e.app.settings.appCheckToken;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function FA(n,...e){Zm.logLevel<=bn.WARN&&Zm.warn(`Auth (${Th}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Wn(n){return mn(n)}class jp{constructor(e){this.auth=e,this.observer=null,this.addObserver=hC(t=>this.observer=t)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mc={loadJS:()=>(0,k.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ty(n){return mc.loadJS(n)}function ny(n){return`__${n}${Math.floor(1e6*Math.random())}`}const Hp=1e12;class nb{constructor(e){this.auth=e,this.counter=Hp,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new KA(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||Hp;null===(t=this._widgets.get(r))||void 0===t||t.delete(),this._widgets.delete(r)}getResponse(e){var t;return(null===(t=this._widgets.get(e||Hp))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return(0,k.Z)(function*(){var r;return null===(r=t._widgets.get(e||Hp))||void 0===r||r.execute(),""})()}}class rb{constructor(){this.enterprise=new ib}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ib{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class KA{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i="string"==typeof e?document.getElementById(e):e;Fe(i,"argument-error",{appName:t}),this.container=i,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function YA(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Fh="NO_RECAPTCHA";class ry{constructor(e){this.type="recaptcha-enterprise",this.auth=Wn(e)}verify(){var e=this;return(0,k.Z)(function*(t="verify",r=!1){function a(){return a=(0,k.Z)(function*(f){if(!r){if(null==f.tenantId&&null!=f._agentRecaptchaConfig)return f._agentRecaptchaConfig.siteKey;if(null!=f.tenantId&&void 0!==f._tenantRecaptchaConfigs[f.tenantId])return f._tenantRecaptchaConfigs[f.tenantId].siteKey}return new Promise(function(){var y=(0,k.Z)(function*(E,T){ZC(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(S=>{if(void 0!==S.recaptchaKey){const O=new Ph(S);return null==f.tenantId?f._agentRecaptchaConfig=O:f._tenantRecaptchaConfigs[f.tenantId]=O,E(O.siteKey)}T(new Error("recaptcha Enterprise site key undefined"))}).catch(S=>{T(S)})});return function(E,T){return y.apply(this,arguments)}}())}),a.apply(this,arguments)}function c(f,y,E){const T=window.grecaptcha;WC(T)?T.enterprise.ready(()=>{T.enterprise.execute(f,{action:t}).then(S=>{y(S)}).catch(()=>{y(Fh)})}):E(Error("No reCAPTCHA enterprise script loaded."))}return e.auth.settings.appVerificationDisabledForTesting?(new rb).execute("siteKey",{action:"verify"}):new Promise((f,y)=>{(function i(f){return a.apply(this,arguments)})(e.auth).then(E=>{if(!r&&WC(window.grecaptcha))c(E,f,y);else{if(typeof window>"u")return void y(new Error("RecaptchaVerifier is only supported in browser"));let T=function XC(){return mc.recaptchaEnterpriseScript}();0!==T.length&&(T+=E),ty(T).then(()=>{c(E,f,y)}).catch(S=>{y(S)})}}).catch(E=>{y(E)})})}).apply(this,arguments)}}function Vh(n,e,t){return iy.apply(this,arguments)}function iy(){return(iy=(0,k.Z)(function*(n,e,t,r=!1,i=!1){const a=new ry(n);let c;if(i)c=Fh;else try{c=yield a.verify(t)}catch{c=yield a.verify(t,!0)}const f=Object.assign({},e);return"mfaSmsEnrollment"===t||"mfaSmsSignIn"===t?("phoneEnrollmentInfo"in f?Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:f.phoneEnrollmentInfo.phoneNumber,recaptchaToken:f.phoneEnrollmentInfo.recaptchaToken,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}):"phoneSignInInfo"in f&&Object.assign(f,{phoneSignInInfo:{recaptchaToken:f.phoneSignInInfo.recaptchaToken,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}),f):(Object.assign(f,r?{captchaResp:c}:{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f)})).apply(this,arguments)}function fu(n,e,t,r,i){return sy.apply(this,arguments)}function sy(){return sy=(0,k.Z)(function*(n,e,t,r,i){var a,c;if("EMAIL_PASSWORD_PROVIDER"===i){if(null!==(a=n._getRecaptchaConfig())&&void 0!==a&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=yield Vh(n,e,t,"getOobCode"===t);return r(n,f)}return r(n,e).catch(function(){var f=(0,k.Z)(function*(y){if("auth/missing-recaptcha-token"===y.code){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const E=yield Vh(n,e,t,"getOobCode"===t);return r(n,E)}return Promise.reject(y)});return function(y){return f.apply(this,arguments)}}())}if("PHONE_PROVIDER"===i){if(null!==(c=n._getRecaptchaConfig())&&void 0!==c&&c.isProviderEnabled("PHONE_PROVIDER")){const f=yield Vh(n,e,t);return r(n,f).catch(function(){var y=(0,k.Z)(function*(E){var T;if("AUDIT"===(null===(T=n._getRecaptchaConfig())||void 0===T?void 0:T.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===E.code||"auth/invalid-app-credential"===E.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const S=yield Vh(n,e,t,!1,!0);return r(n,S)}return Promise.reject(E)});return function(E){return y.apply(this,arguments)}}())}{const f=yield Vh(n,e,t,!1,!0);return r(n,f)}}return Promise.reject(i+" provider is not supported.")}),sy.apply(this,arguments)}function xI(n){return oy.apply(this,arguments)}function oy(){return(oy=(0,k.Z)(function*(n){const e=Wn(n),t=yield ZC(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Ph(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new ry(e).verify()})).apply(this,arguments)}function ab(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function RI(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class Zn{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ko("not implemented")}_getIdTokenResponse(e){return ko("not implemented")}_linkToIdToken(e,t){return ko("not implemented")}_getReauthenticationResolver(e){return ko("not implemented")}}function MI(n,e){return PI.apply(this,arguments)}function PI(){return(PI=(0,k.Z)(function*(n,e){return Bn(n,"POST","/v1/accounts:resetPassword",Un(n,e))})).apply(this,arguments)}function tx(n,e){return ay.apply(this,arguments)}function ay(){return(ay=(0,k.Z)(function*(n,e){return Bn(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function nx(n,e){return uy.apply(this,arguments)}function uy(){return(uy=(0,k.Z)(function*(n,e){return Bn(n,"POST","/v1/accounts:signUp",e)})).apply(this,arguments)}function ub(n,e){return yc.apply(this,arguments)}function yc(){return(yc=(0,k.Z)(function*(n,e){return Bn(n,"POST","/v1/accounts:update",Un(n,e))})).apply(this,arguments)}function rx(n,e){return NI.apply(this,arguments)}function NI(){return(NI=(0,k.Z)(function*(n,e){return hi(n,"POST","/v1/accounts:signInWithPassword",Un(n,e))})).apply(this,arguments)}function $p(n,e){return kI.apply(this,arguments)}function kI(){return(kI=(0,k.Z)(function*(n,e){return Bn(n,"POST","/v1/accounts:sendOobCode",Un(n,e))})).apply(this,arguments)}function cb(n,e){return lb.apply(this,arguments)}function lb(){return(lb=(0,k.Z)(function*(n,e){return $p(n,e)})).apply(this,arguments)}function db(n,e){return Gp.apply(this,arguments)}function Gp(){return(Gp=(0,k.Z)(function*(n,e){return $p(n,e)})).apply(this,arguments)}function Ea(n,e){return OI.apply(this,arguments)}function OI(){return(OI=(0,k.Z)(function*(n,e){return $p(n,e)})).apply(this,arguments)}function ix(n,e){return oo.apply(this,arguments)}function oo(){return(oo=(0,k.Z)(function*(n,e){return $p(n,e)})).apply(this,arguments)}function Rs(){return(Rs=(0,k.Z)(function*(n,e){return hi(n,"POST","/v1/accounts:signInWithEmailLink",Un(n,e))})).apply(this,arguments)}function cy(){return(cy=(0,k.Z)(function*(n,e){return hi(n,"POST","/v1/accounts:signInWithEmailLink",Un(n,e))})).apply(this,arguments)}class zp extends Zn{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new zp(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new zp(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,k.Z)(function*(){switch(t.signInMethod){case"password":return fu(e,{returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",rx,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function Uo(n,e){return Rs.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Lr(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return(0,k.Z)(function*(){switch(r.signInMethod){case"password":return fu(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nx,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function hb(n,e){return cy.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:Lr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function pu(n,e){return LI.apply(this,arguments)}function LI(){return(LI=(0,k.Z)(function*(n,e){return hi(n,"POST","/v1/accounts:signInWithIdp",Un(n,e))})).apply(this,arguments)}class ao extends Zn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ao(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Lr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=(0,Wm._T)(t,["providerId","signInMethod"]);if(!r||!i)return null;const c=new ao(r,i);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){return pu(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,pu(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,pu(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ih(t)}return e}}function Uh(n,e){return FI.apply(this,arguments)}function FI(){return(FI=(0,k.Z)(function*(n,e){return Bn(n,"POST","/v1/accounts:sendVerificationCode",Un(n,e))})).apply(this,arguments)}function VI(){return(VI=(0,k.Z)(function*(n,e){return hi(n,"POST","/v1/accounts:signInWithPhoneNumber",Un(n,e))})).apply(this,arguments)}function ly(){return(ly=(0,k.Z)(function*(n,e){const t=yield hi(n,"POST","/v1/accounts:signInWithPhoneNumber",Un(n,e));if(t.temporaryProof)throw Mh(n,"account-exists-with-different-credential",t);return t})).apply(this,arguments)}const dy={USER_NOT_FOUND:"user-not-found"};function hy(){return(hy=(0,k.Z)(function*(n,e){return hi(n,"POST","/v1/accounts:signInWithPhoneNumber",Un(n,Object.assign(Object.assign({},e),{operation:"REAUTH"})),dy)})).apply(this,arguments)}class _c extends Zn{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new _c({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new _c({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function fb(n,e){return VI.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function pb(n,e){return ly.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function ox(n,e){return hy.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:a}=e;return r||t||i||a?new _c({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:a}):null}}class $l{constructor(e){var t,r,i,a,c,f;const y=Eh(_a(e)),E=null!==(t=y.apiKey)&&void 0!==t?t:null,T=null!==(r=y.oobCode)&&void 0!==r?r:null,S=function UI(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=y.mode)&&void 0!==i?i:null);Fe(E&&T&&S,"argument-error"),this.apiKey=E,this.operation=S,this.code=T,this.continueUrl=null!==(a=y.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(c=y.lang)&&void 0!==c?c:null,this.tenantId=null!==(f=y.tenantId)&&void 0!==f?f:null}static parseLink(e){const t=function fy(n){const e=Eh(_a(n)).link,t=e?Eh(_a(e)).deep_link_id:null,r=Eh(_a(n)).deep_link_id;return(r?Eh(_a(r)).link:null)||r||t||e||n}(e);try{return new $l(t)}catch{return null}}}let py=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return zp._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=$l.parseLink(r);return Fe(i,"argument-error"),zp._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class wa{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Gl extends wa{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class zl extends Gl{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return Fe("providerId"in t&&"signInMethod"in t,"argument-error"),ao._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Fe(e.idToken||e.accessToken,"argument-error"),ao._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return zl.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return zl.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:a,nonce:c,providerId:f}=e;if(!r&&!i&&!t&&!a||!f)return null;try{return new zl(f)._credential({idToken:t,accessToken:r,nonce:c,pendingToken:a})}catch{return null}}}let BI=(()=>{class n extends Gl{constructor(){super("facebook.com")}static credential(t){return ao._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}return n.FACEBOOK_SIGN_IN_METHOD="facebook.com",n.PROVIDER_ID="facebook.com",n})(),jI=(()=>{class n extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return ao._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})(),gb=(()=>{class n extends Gl{constructor(){super("github.com")}static credential(t){return ao._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}return n.GITHUB_SIGN_IN_METHOD="github.com",n.PROVIDER_ID="github.com",n})();class Bh extends Zn{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return pu(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,pu(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,pu(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:a}=t;return r&&i&&a&&r===i?new Bh(r,a):null}static _create(e,t){return new Bh(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class gy extends wa{constructor(e){Fe(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return gy.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return gy.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Bh.fromJSON(e);return Fe(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return Bh._create(r,t)}catch{return null}}}let mb=(()=>{class n extends Gl{constructor(){super("twitter.com")}static credential(t,r){return ao._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:i}=t;if(!r||!i)return null;try{return n.credential(r,i)}catch{return null}}}return n.TWITTER_SIGN_IN_METHOD="twitter.com",n.PROVIDER_ID="twitter.com",n})();function yb(n,e){return HI.apply(this,arguments)}function HI(){return(HI=(0,k.Z)(function*(n,e){return hi(n,"POST","/v1/accounts:signUp",Un(n,e))})).apply(this,arguments)}class uo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r){return(0,k.Z)(function*(i,a,c,f=!1){const y=yield Ri._fromIdTokenResponse(i,c,f),E=_b(c);return new uo({user:y,providerId:E,_tokenResponse:c,operationType:a})}).apply(this,arguments)}static _forOperation(e,t,r){return(0,k.Z)(function*(){yield e._updateTokensIfNecessary(r,!0);const i=_b(r);return new uo({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function _b(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}function $I(){return($I=(0,k.Z)(function*(n){var e;if(zn(n.app))return Promise.reject(Cr(n));const t=Wn(n);if(yield t._initializationPromise,null!==(e=t.currentUser)&&void 0!==e&&e.isAnonymous)return new uo({user:t.currentUser,providerId:null,operationType:"signIn"});const r=yield yb(t,{returnSecureToken:!0}),i=yield uo._fromIdTokenResponse(t,"signIn",r,!0);return yield t._updateCurrentUser(i.user),i})).apply(this,arguments)}class my extends os{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,my.prototype),this.customData={appName:e.name,tenantId:null!==(a=e.tenantId)&&void 0!==a?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new my(e,t,r,i)}}function vb(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw"auth/multi-factor-auth-required"===a.code?my._fromErrorAndOperation(n,a,e,r):a})}function Ib(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}function GI(){return(GI=(0,k.Z)(function*(n,e){const t=mn(n);yield Wp(!0,t,e);const{providerUserInfo:r}=yield $A(t.auth,{idToken:yield t.getIdToken(),deleteProvider:[e]}),i=Ib(r||[]);return t.providerData=t.providerData.filter(a=>i.has(a.providerId)),i.has("phone")||(t.phoneNumber=null),yield t.auth._persistUserIfCurrent(t),t})).apply(this,arguments)}function zI(n,e){return yy.apply(this,arguments)}function yy(){return(yy=(0,k.Z)(function*(n,e,t=!1){const r=yield no(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return uo._forOperation(n,"link",r)})).apply(this,arguments)}function Wp(n,e,t){return _y.apply(this,arguments)}function _y(){return(_y=(0,k.Z)(function*(n,e,t){yield Lp(e);const i=!1===n?"provider-already-linked":"no-such-provider";Fe(Ib(e.providerData).has(t)===n,e.auth,i)})).apply(this,arguments)}function WI(n,e){return vy.apply(this,arguments)}function vy(){return(vy=(0,k.Z)(function*(n,e,t=!1){const{auth:r}=n;if(zn(r.app))return Promise.reject(Cr(r));const i="reauthenticate";try{const a=yield no(n,vb(r,i,e,n),t);Fe(a.idToken,r,"internal-error");const c=Jm(a.idToken);Fe(c,r,"internal-error");const{sub:f}=c;return Fe(n.uid===f,r,"user-mismatch"),uo._forOperation(n,i,a)}catch(a){throw"auth/user-not-found"===a?.code&&Lr(r,"user-mismatch"),a}})).apply(this,arguments)}function qI(n,e){return Iy.apply(this,arguments)}function Iy(){return(Iy=(0,k.Z)(function*(n,e,t=!1){if(zn(n.app))return Promise.reject(Cr(n));const r="signIn",i=yield vb(n,r,e),a=yield uo._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(a.user)),a})).apply(this,arguments)}function qp(n,e){return Ey.apply(this,arguments)}function Ey(){return(Ey=(0,k.Z)(function*(n,e){return qI(Wn(n),e)})).apply(this,arguments)}function ZI(n,e){return wy.apply(this,arguments)}function wy(){return(wy=(0,k.Z)(function*(n,e){const t=mn(n);return yield Wp(!1,t,e.providerId),zI(t,e)})).apply(this,arguments)}function vc(n,e){return KI.apply(this,arguments)}function KI(){return(KI=(0,k.Z)(function*(n,e){return WI(mn(n),e)})).apply(this,arguments)}function hx(n,e){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,k.Z)(function*(n,e){return hi(n,"POST","/v1/accounts:signInWithCustomToken",Un(n,e))})).apply(this,arguments)}function Zp(){return(Zp=(0,k.Z)(function*(n,e){if(zn(n.app))return Promise.reject(Cr(n));const t=Wn(n),r=yield hx(t,{token:e,returnSecureToken:!0}),i=yield uo._fromIdTokenResponse(t,"signIn",r);return yield t._updateCurrentUser(i.user),i})).apply(this,arguments)}class Cy{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?by._fromServerResponse(e,t):"totpInfo"in t?Dy._fromServerResponse(e,t):Lr(e,"internal-error")}}class by extends Cy{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new by(t)}}class Dy extends Cy{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Dy(t)}}function YI(n,e,t){var r;Fe((null===(r=t.url)||void 0===r?void 0:r.length)>0,n,"invalid-continue-uri"),Fe(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),Fe(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(Fe(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(Fe(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function St(n){return QI.apply(this,arguments)}function QI(){return(QI=(0,k.Z)(function*(n){const e=Wn(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function JI(){return(JI=(0,k.Z)(function*(n,e,t){const r=Wn(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&YI(r,i,t),yield fu(r,i,"getOobCode",db,"EMAIL_PASSWORD_PROVIDER")})).apply(this,arguments)}function XI(){return XI=(0,k.Z)(function*(n,e,t){yield MI(mn(n),{oobCode:e,newPassword:t}).catch(function(){var r=(0,k.Z)(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&St(n),i});return function(i){return r.apply(this,arguments)}}())}),XI.apply(this,arguments)}function Hh(){return(Hh=(0,k.Z)(function*(n,e){yield ub(mn(n),{oobCode:e})})).apply(this,arguments)}function nr(n,e){return Eb.apply(this,arguments)}function Eb(){return(Eb=(0,k.Z)(function*(n,e){const t=mn(n),r=yield MI(t,{oobCode:e}),i=r.requestType;switch(Fe(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Fe(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Fe(r.mfaInfo,t,"internal-error");default:Fe(r.email,t,"internal-error")}let a=null;return r.mfaInfo&&(a=Cy._fromServerResponse(Wn(t),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:a},operation:i}})).apply(this,arguments)}function Sy(){return(Sy=(0,k.Z)(function*(n,e){const{data:t}=yield nr(mn(n),e);return t.email})).apply(this,arguments)}function Ay(){return(Ay=(0,k.Z)(function*(n,e,t){if(zn(n.app))return Promise.reject(Cr(n));const r=Wn(n),c=yield fu(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yb,"EMAIL_PASSWORD_PROVIDER").catch(y=>{throw"auth/password-does-not-meet-requirements"===y.code&&St(n),y}),f=yield uo._fromIdTokenResponse(r,"signIn",c);return yield r._updateCurrentUser(f.user),f})).apply(this,arguments)}function xy(){return(xy=(0,k.Z)(function*(n,e,t){const r=Wn(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};(function a(c,f){Fe(f.handleCodeInApp,r,"argument-error"),f&&YI(r,c,f)})(i,t),yield fu(r,i,"getOobCode",Ea,"EMAIL_PASSWORD_PROVIDER")})).apply(this,arguments)}function e0(){return(e0=(0,k.Z)(function*(n,e,t){if(zn(n.app))return Promise.reject(Cr(n));const r=mn(n),i=py.credentialWithLink(e,t||Rp());return Fe(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),qp(r,i)})).apply(this,arguments)}function Kp(n,e){return t0.apply(this,arguments)}function t0(){return(t0=(0,k.Z)(function*(n,e){return Bn(n,"POST","/v1/accounts:createAuthUri",Un(n,e))})).apply(this,arguments)}function n0(){return(n0=(0,k.Z)(function*(n,e){const r={identifier:e,continueUri:oI()?Rp():"http://localhost"},{signinMethods:i}=yield Kp(mn(n),r);return i||[]})).apply(this,arguments)}function My(){return(My=(0,k.Z)(function*(n,e){const t=mn(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&YI(t.auth,i,e);const{email:a}=yield cb(t.auth,i);a!==n.email&&(yield n.reload())})).apply(this,arguments)}function Py(){return(Py=(0,k.Z)(function*(n,e,t){const r=mn(n),a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield n.getIdToken(),newEmail:e};t&&YI(r.auth,a,t);const{email:c}=yield ix(r.auth,a);c!==n.email&&(yield n.reload())})).apply(this,arguments)}function _x(n,e){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,k.Z)(function*(n,e){return Bn(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function r0(){return(r0=(0,k.Z)(function*(n,{displayName:e,photoURL:t}){if(void 0===e&&void 0===t)return;const r=mn(n),a={idToken:yield r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=yield no(r,_x(r.auth,a));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const f=r.providerData.find(({providerId:y})=>"password"===y);f&&(f.displayName=r.displayName,f.photoURL=r.photoURL),yield r._updateTokensIfNecessary(c)})).apply(this,arguments)}function s0(n,e,t){return Ny.apply(this,arguments)}function Ny(){return(Ny=(0,k.Z)(function*(n,e,t){const{auth:r}=n,a={idToken:yield n.getIdToken(),returnSecureToken:!0};e&&(a.email=e),t&&(a.password=t);const c=yield no(n,tx(r,a));yield n._updateTokensIfNecessary(c,!0)})).apply(this,arguments)}class $h{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class o0 extends $h{constructor(e,t,r,i){super(e,t,r),this.username=i}}class Ex extends $h{constructor(e,t){super(e,"facebook.com",t)}}class wx extends o0{constructor(e,t){super(e,"github.com",t,"string"==typeof t?.login?t?.login:null)}}class SO extends $h{constructor(e,t){super(e,"google.com",t)}}class AO extends o0{constructor(e,t,r){super(e,"twitter.com",t,r)}}function xO(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:function Tb(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},a=n.isNewUser||"identitytoolkit#SignupNewUserResponse"===n.kind;if(!r&&n?.idToken){const c=null===(t=null===(e=Jm(n.idToken))||void 0===e?void 0:e.firebase)||void 0===t?void 0:t.sign_in_provider;if(c)return new $h(a,"anonymous"!==c&&"custom"!==c?c:null)}if(!r)return null;switch(r){case"facebook.com":return new Ex(a,i);case"github.com":return new wx(a,i);case"google.com":return new SO(a,i);case"twitter.com":return new AO(a,i,n.screenName||null);case"custom":case"anonymous":return new $h(a,null);default:return new $h(a,r,i)}}(t)}class ql{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new ql("enroll",e,t)}static _fromMfaPendingCredential(e){return new ql("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e?.multiFactorSession){if(null!==(t=e.multiFactorSession)&&void 0!==t&&t.pendingCredential)return ql._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null!==(r=e.multiFactorSession)&&void 0!==r&&r.idToken)return ql._fromIdtoken(e.multiFactorSession.idToken)}return null}}class c0{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Wn(e),i=t.customData._serverResponse,a=(i.mfaInfo||[]).map(f=>Cy._fromServerResponse(r,f));Fe(i.mfaPendingCredential,r,"internal-error");const c=ql._fromMfaPendingCredential(i.mfaPendingCredential);return new c0(c,a,function(){var f=(0,k.Z)(function*(y){const E=yield y._process(r,c);delete i.mfaInfo,delete i.mfaPendingCredential;const T=Object.assign(Object.assign({},i),{idToken:E.idToken,refreshToken:E.refreshToken});switch(t.operationType){case"signIn":const S=yield uo._fromIdTokenResponse(r,t.operationType,T);return yield r._updateCurrentUser(S.user),S;case"reauthenticate":return Fe(t.user,r,"internal-error"),uo._forOperation(t.user,t.operationType,T);default:Lr(r,"internal-error")}});return function(y){return f.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return(0,k.Z)(function*(){return t.signInResolver(e)})()}}function Ab(n,e){return Bn(n,"POST","/v2/accounts/mfaEnrollment:start",Un(n,e))}class Ly{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Cy._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new Ly(e)}getSession(){var e=this;return(0,k.Z)(function*(){return ql._fromIdtoken(yield e.user.getIdToken(),e.user)})()}enroll(e,t){var r=this;return(0,k.Z)(function*(){const i=e,a=yield r.getSession(),c=yield no(r.user,i._process(r.user.auth,a,t));return yield r.user._updateTokensIfNecessary(c),r.user.reload()})()}unenroll(e){var t=this;return(0,k.Z)(function*(){const r="string"==typeof e?e:e.uid,i=yield t.user.getIdToken();try{const a=yield no(t.user,function Dx(n,e){return Bn(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Un(n,e))}(t.user.auth,{idToken:i,mfaEnrollmentId:r}));t.enrolledFactors=t.enrolledFactors.filter(({uid:c})=>c!==r),yield t.user._updateTokensIfNecessary(a),yield t.user.reload()}catch(a){throw a}})()}}const l0=new WeakMap,Fy="__sak";class h0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fy,"1"),this.storage.removeItem(Fy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vy=(()=>{class n extends h0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JC(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),a=this.localCache[r];i!==a&&t(r,a,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((f,y,E)=>{this.notifyListeners(f,E)});const i=t.key;r?this.detachListener():this.stopPolling();const a=()=>{const f=this.storage.getItem(i);!r&&this.localCache[i]===f||this.notifyListeners(i,f)},c=this.storage.getItem(i);!function QC(){return Ov()&&10===document.documentMode}()||c===t.newValue||t.newValue===t.oldValue?a():setTimeout(a,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,a=this;return(0,k.Z)(function*(){yield i().call(a,t,r),a.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return(0,k.Z)(function*(){const a=yield r().call(i,t);return i.localCache[t]=JSON.stringify(a),a})()}_remove(t){var r=()=>super._remove,i=this;return(0,k.Z)(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),Ec=(()=>{class n extends h0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let xx=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(a=>a.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return(0,k.Z)(function*(){const i=t,{eventId:a,eventType:c,data:f}=i.data,y=r.handlersMap[c];if(!y?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:c});const E=Array.from(y).map(function(){var S=(0,k.Z)(function*(O){return O(i.origin,f)});return function(O){return S.apply(this,arguments)}}()),T=yield function Ax(n){return Promise.all(n.map(function(){var e=(0,k.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(E);i.ports[0].postMessage({status:"done",eventId:a,eventType:c,response:T})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function Jp(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class Rx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t){var r=this;return(0,k.Z)(function*(i,a,c=50){const f=typeof MessageChannel<"u"?new MessageChannel:null;if(!f)throw new Error("connection_unavailable");let y,E;return new Promise((T,S)=>{const O=Jp("",20);f.port1.start();const j=setTimeout(()=>{S(new Error("unsupported_event"))},c);E={messageChannel:f,onMessage(X){const De=X;if(De.data.eventId===O)switch(De.data.status){case"ack":clearTimeout(j),y=setTimeout(()=>{S(new Error("timeout"))},3e3);break;case"done":clearTimeout(y),T(De.data.response);break;default:clearTimeout(j),clearTimeout(y),S(new Error("invalid_response"))}}},r.handlers.add(E),f.port1.addEventListener("message",E.onMessage),r.target.postMessage({eventType:i,eventId:O,data:a},[f.port2])}).finally(()=>{E&&r.removeMessageHandler(E)})}).apply(this,arguments)}}function Ir(){return window}function f0(){return typeof Ir().WorkerGlobalScope<"u"&&"function"==typeof Ir().importScripts}function Uy(){return(Uy=(0,k.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const kb="firebaseLocalStorageDb",Gh="firebaseLocalStorage",g0="fbase_key";class Zl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function By(n,e){return n.transaction([Gh],e?"readwrite":"readonly").objectStore(Gh)}function Xp(){const n=indexedDB.open(kb,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Gh,{keyPath:g0})}catch(i){t(i)}}),n.addEventListener("success",(0,k.Z)(function*(){const r=n.result;r.objectStoreNames.contains(Gh)?e(r):(r.close(),yield function kx(){const n=indexedDB.deleteDatabase(kb);return new Zl(n).toPromise()}(),e(yield Xp()))}))})}function Ob(n,e,t){return jy.apply(this,arguments)}function jy(){return(jy=(0,k.Z)(function*(n,e,t){const r=By(n,!0).put({[g0]:e,value:t});return new Zl(r).toPromise()})).apply(this,arguments)}function Hy(){return(Hy=(0,k.Z)(function*(n,e){const t=By(n,!1).get(e),r=yield new Zl(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function Lb(n,e){const t=By(n,!0).delete(e);return new Zl(t).toPromise()}const Wh=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,k.Z)(function*(){return t.db||(t.db=yield Xp()),t.db})()}_withRetries(t){var r=this;return(0,k.Z)(function*(){let i=0;for(;;)try{const a=yield r._openDb();return yield t(a)}catch(a){if(i++>3)throw a;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,k.Z)(function*(){return f0()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,k.Z)(function*(){t.receiver=xx._getInstance(function Nx(){return f0()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=(0,k.Z)(function*(i,a){return{keyProcessed:(yield t._poll()).includes(a.key)}});return function(i,a){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=(0,k.Z)(function*(i,a){return["keyChanged"]});return function(i,a){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,k.Z)(function*(){var r,i;if(t.activeServiceWorker=yield function Mx(){return Uy.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new Rx(t.activeServiceWorker);const a=yield t.sender._send("ping",{},800);!a||(null===(r=a[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=a[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return(0,k.Z)(function*(){if(r.sender&&r.activeServiceWorker&&function Px(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,k.Z)(function*(){try{if(!indexedDB)return!1;const t=yield Xp();return yield Ob(t,Fy,"1"),yield Lb(t,Fy),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return(0,k.Z)(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return(0,k.Z)(function*(){return i._withPendingWrite((0,k.Z)(function*(){return yield i._withRetries(a=>Ob(a,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return(0,k.Z)(function*(){const i=yield r._withRetries(a=>function zh(n,e){return Hy.apply(this,arguments)}(a,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return(0,k.Z)(function*(){return r._withPendingWrite((0,k.Z)(function*(){return yield r._withRetries(i=>Lb(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,k.Z)(function*(){const r=yield t._withRetries(c=>{const f=By(c,!1).getAll();return new Zl(f).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],a=new Set;if(0!==r.length)for(const{fbase_key:c,value:f}of r)a.add(c),JSON.stringify(t.localCache[c])!==JSON.stringify(f)&&(t.notifyListeners(c,f),i.push(c));for(const c of Object.keys(t.localCache))t.localCache[c]&&!a.has(c)&&(t.notifyListeners(c,null),i.push(c));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,k.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function $y(n,e){return Bn(n,"POST","/v2/accounts/mfaSignIn:start",Un(n,e))}const eg=ny("rcb"),Bb=new gc(3e4,6e4);class jb{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(e=Ir().grecaptcha)||void 0===e||!e.render)}load(e,t=""){return Fe(function Hb(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&zC(Ir().grecaptcha)?Promise.resolve(Ir().grecaptcha):new Promise((r,i)=>{const a=Ir().setTimeout(()=>{i(Fr(e,"network-request-failed"))},Bb.get());Ir()[eg]=()=>{Ir().clearTimeout(a),delete Ir()[eg];const f=Ir().grecaptcha;if(!f||!zC(f))return void i(Fr(e,"internal-error"));const y=f.render;f.render=(E,T)=>{const S=y(E,T);return this.counter++,S},this.hostLanguage=t,r(f)},ty(`${function AI(){return mc.recaptchaV2Script}()}?${Ih({onload:eg,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(a),i(Fr(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!(null===(t=Ir().grecaptcha)||void 0===t||!t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class $b{load(e){return(0,k.Z)(function*(){return new nb(e)})()}clearedOneInstance(){}}const tg="recaptcha",Lx={theme:"light",type:"image"};class Fx{constructor(e,t,r=Object.assign({},Lx)){this.parameters=r,this.type=tg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Wn(e),this.isInvisible="invisible"===this.parameters.size,Fe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i="string"==typeof t?document.getElementById(t):t;Fe(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new $b:new jb,this.validateStartingState()}verify(){var e=this;return(0,k.Z)(function*(){e.assertNotDestroyed();const t=yield e.render(),r=e.getAssertedRecaptcha();return r.getResponse(t)||new Promise(a=>{const c=f=>{!f||(e.tokenChangeListeners.delete(c),a(f))};e.tokenChangeListeners.add(c),e.isInvisible&&r.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Fe(!this.parameters.sitekey,this.auth,"argument-error"),Fe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Fe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),"function"==typeof e)e(t);else if("string"==typeof e){const r=Ir()[e];"function"==typeof r&&r(t)}}}assertNotDestroyed(){Fe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return(0,k.Z)(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const r=document.createElement("div");t.appendChild(r),t=r}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return(0,k.Z)(function*(){Fe(oI()&&!f0(),e.auth,"internal-error"),yield function Vx(){let n=null;return new Promise(e=>{"complete"!==document.readyState?(n=()=>e(),window.addEventListener("load",n)):e()}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function jA(n){return qC.apply(this,arguments)}(e.auth);Fe(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return Fe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Gy{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=_c._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function zy(){return(zy=(0,k.Z)(function*(n,e,t){if(zn(n.app))return Promise.reject(Cr(n));const r=Wn(n),i=yield Wy(r,e,mn(t));return new Gy(i,a=>qp(r,a))})).apply(this,arguments)}function m0(){return(m0=(0,k.Z)(function*(n,e,t){const r=mn(n);yield Wp(!1,r,"phone");const i=yield Wy(r.auth,e,mn(t));return new Gy(i,a=>ZI(r,a))})).apply(this,arguments)}function Gb(){return(Gb=(0,k.Z)(function*(n,e,t){const r=mn(n);if(zn(r.auth.app))return Promise.reject(Cr(r.auth));const i=yield Wy(r.auth,e,mn(t));return new Gy(i,a=>vc(r,a))})).apply(this,arguments)}function Wy(n,e,t){return y0.apply(this,arguments)}function y0(){return y0=(0,k.Z)(function*(n,e,t){var r;if(!n._getRecaptchaConfig())try{yield xI(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"==typeof e?{phoneNumber:e}:e,"session"in i){const a=i.session;if("phoneNumber"in i){Fe("enroll"===a.type,n,"internal-error");const c={idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(yield fu(n,c,"mfaSmsEnrollment",function(){var T=(0,k.Z)(function*(S,O){return O.phoneEnrollmentInfo.captchaResponse===Fh?(Fe(t?.type===tg,S,"argument-error"),Ab(S,yield v0(S,O,t))):Ab(S,O)});return function(O,j){return T.apply(this,arguments)}}(),"PHONE_PROVIDER").catch(T=>Promise.reject(T))).phoneSessionInfo.sessionInfo}{Fe("signin"===a.type,n,"internal-error");const c=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Fe(c,n,"missing-multi-factor-info");const f={mfaPendingCredential:a.credential,mfaEnrollmentId:c,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(yield fu(n,f,"mfaSmsSignIn",function(){var S=(0,k.Z)(function*(O,j){return j.phoneSignInInfo.captchaResponse===Fh?(Fe(t?.type===tg,O,"argument-error"),$y(O,yield v0(O,j,t))):$y(O,j)});return function(j,X){return S.apply(this,arguments)}}(),"PHONE_PROVIDER").catch(S=>Promise.reject(S))).phoneResponseInfo.sessionInfo}}{const a={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(yield fu(n,a,"sendVerificationCode",function(){var E=(0,k.Z)(function*(T,S){return S.captchaResponse===Fh?(Fe(t?.type===tg,T,"argument-error"),Uh(T,yield v0(T,S,t))):Uh(T,S)});return function(S,O){return E.apply(this,arguments)}}(),"PHONE_PROVIDER").catch(E=>Promise.reject(E))).sessionInfo}}finally{t?._reset()}}),y0.apply(this,arguments)}function _0(){return(_0=(0,k.Z)(function*(n,e){const t=mn(n);if(zn(t.auth.app))return Promise.reject(Cr(t.auth));yield zI(t,e)})).apply(this,arguments)}function v0(n,e,t){return qy.apply(this,arguments)}function qy(){return(qy=(0,k.Z)(function*(n,e,t){Fe(t.type===tg,n,"argument-error");const r=yield t.verify();Fe("string"==typeof r,n,"argument-error");const i=Object.assign({},e);return"phoneEnrollmentInfo"in i?(Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:i.phoneEnrollmentInfo.phoneNumber,recaptchaToken:r,captchaResponse:i.phoneEnrollmentInfo.captchaResponse,clientType:i.phoneEnrollmentInfo.clientType,recaptchaVersion:i.phoneEnrollmentInfo.recaptchaVersion}}),i):"phoneSignInInfo"in i?(Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:i.phoneSignInInfo.captchaResponse,clientType:i.phoneSignInInfo.clientType,recaptchaVersion:i.phoneSignInInfo.recaptchaVersion}}),i):(Object.assign(i,{recaptchaToken:r}),i)})).apply(this,arguments)}let ng=(()=>{class n{constructor(t){this.providerId=n.PROVIDER_ID,this.auth=Wn(t)}verifyPhoneNumber(t,r){return Wy(this.auth,t,mn(r))}static credential(t,r){return _c._fromVerification(t,r)}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:r,temporaryProof:i}=t;return r&&i?_c._fromTokenResponse(r,i):null}}return n.PROVIDER_ID="phone",n.PHONE_SIGN_IN_METHOD="phone",n})();function Kl(n,e){return e?Zr(e):(Fe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class I0 extends Zn{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return pu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return pu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function jx(n){return qI(n.auth,new I0(n),n.bypassAuthState)}function Hx(n){const{auth:e,user:t}=n;return Fe(t,e,"internal-error"),WI(t,new I0(n),n.bypassAuthState)}function $x(n){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,k.Z)(function*(n){const{auth:e,user:t}=n;return Fe(t,e,"internal-error"),zI(t,new I0(n),n.bypassAuthState)})).apply(this,arguments)}class E0{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,k.Z)(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(a){e.reject(a)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,k.Z)(function*(){const{urlResponse:r,sessionId:i,postBody:a,tenantId:c,error:f,type:y}=e;if(f)return void t.reject(f);const E={auth:t.auth,requestUri:r,sessionId:i,tenantId:c||void 0,postBody:a||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(y)(E))}catch(T){t.reject(T)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jx;case"linkViaPopup":case"linkViaRedirect":return $x;case"reauthViaPopup":case"reauthViaRedirect":return Hx;default:Lr(this.auth,"internal-error")}}resolve(e){Oo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zb=new gc(2e3,1e4);function Zy(){return(Zy=(0,k.Z)(function*(n,e,t){if(zn(n.app))return Promise.reject(Fr(n,"operation-not-supported-in-this-environment"));const r=Wn(n);xh(n,e,wa);const i=Kl(r,t);return new C0(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}function w0(){return(w0=(0,k.Z)(function*(n,e,t){const r=mn(n);if(zn(r.auth.app))return Promise.reject(Fr(r.auth,"operation-not-supported-in-this-environment"));xh(r.auth,e,wa);const i=Kl(r.auth,t);return new C0(r.auth,"reauthViaPopup",e,i,r).executeNotNull()})).apply(this,arguments)}function Zb(){return(Zb=(0,k.Z)(function*(n,e,t){const r=mn(n);xh(r.auth,e,wa);const i=Kl(r.auth,t);return new C0(r.auth,"linkViaPopup",e,i,r).executeNotNull()})).apply(this,arguments)}let C0=(()=>{class n extends E0{constructor(t,r,i,a,c){super(t,r,a,c),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var t=this;return(0,k.Z)(function*(){const r=yield t.execute();return Fe(r,t.auth,"internal-error"),r})()}onExecution(){var t=this;return(0,k.Z)(function*(){Oo(1===t.filter.length,"Popup operations only handle one event");const r=Jp();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],r),t.authWindow.associatedEvent=r,t.resolver._originValidation(t.auth).catch(i=>{t.reject(i)}),t.resolver._isIframeWebStorageSupported(t.auth,i=>{i||t.reject(Fr(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(Fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Fr(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(t,zb.get())};t()}}return n.currentPopupAction=null,n})();const rg=new Map;class Wx extends E0{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,k.Z)(function*(){let r=rg.get(t.auth._key());if(!r){try{const a=(yield function qx(n,e){return Ql.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(a)}catch(i){r=()=>Promise.reject(i)}rg.set(t.auth._key(),r)}return t.bypassAuthState||rg.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return(0,k.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,k.Z)(function*(){})()}cleanUp(){}}function Ql(){return(Ql=(0,k.Z)(function*(n,e){const t=qh(e),r=Ky(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function b0(n,e){return ig.apply(this,arguments)}function ig(){return(ig=(0,k.Z)(function*(n,e){return Ky(n)._set(qh(e),"true")})).apply(this,arguments)}function D0(n,e){rg.set(n._key(),e)}function Ky(n){return Zr(n._redirectPersistence)}function qh(n){return so("pendingRedirect",n.config.apiKey,n.name)}function T0(){return(T0=(0,k.Z)(function*(n,e,t){if(zn(n.app))return Promise.reject(Cr(n));const r=Wn(n);xh(n,e,wa),yield r._initializationPromise;const i=Kl(r,t);return yield b0(i,r),i._openRedirect(r,e,"signInViaRedirect")})).apply(this,arguments)}function S0(){return(S0=(0,k.Z)(function*(n,e,t){const r=mn(n);if(xh(r.auth,e,wa),zn(r.auth.app))return Promise.reject(Cr(r.auth));yield r.auth._initializationPromise;const i=Kl(r.auth,t);yield b0(i,r.auth);const a=yield Qx(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",a)})).apply(this,arguments)}function Jy(){return(Jy=(0,k.Z)(function*(n,e,t){const r=mn(n);xh(r.auth,e,wa),yield r.auth._initializationPromise;const i=Kl(r.auth,t);yield Wp(!1,r,e.providerId),yield b0(i,r.auth);const a=yield Qx(r);return i._openRedirect(r.auth,e,"linkViaRedirect",a)})).apply(this,arguments)}function Xy(){return(Xy=(0,k.Z)(function*(n,e){return yield Wn(n)._initializationPromise,e_(n,e,!1)})).apply(this,arguments)}function e_(n,e){return x0.apply(this,arguments)}function x0(){return(x0=(0,k.Z)(function*(n,e,t=!1){if(zn(n.app))return Promise.reject(Cr(n));const r=Wn(n),i=Kl(r,e),c=yield new Wx(r,i,t).execute();return c&&!t&&(delete c.user._redirectEventId,yield r._persistUserIfCurrent(c.user),yield r._setRedirectUser(null,e)),c})).apply(this,arguments)}function Qx(n){return sg.apply(this,arguments)}function sg(){return(sg=(0,k.Z)(function*(n){const e=Jp(`${n.uid}:::`);return n._redirectEventId=e,yield n.auth._setRedirectUser(n),yield n.auth._persistUserIfCurrent(n),e})).apply(this,arguments)}class M0{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Jx(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return n_(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!n_(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Fr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(t_(e))}saveEventToCache(e){this.cachedEventUids.add(t_(e)),this.lastProcessedEventTime=Date.now()}}function t_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function n_({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function Yb(n){return P0.apply(this,arguments)}function P0(){return(P0=(0,k.Z)(function*(n,e={}){return Bn(n,"GET","/v1/projects",e)})).apply(this,arguments)}const Xx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qb=/^https?/;function r_(){return(r_=(0,k.Z)(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield Yb(n);for(const t of e)try{if(eR(t))return}catch{}Lr(n,"unauthorized-domain")})).apply(this,arguments)}function eR(n){const e=Rp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return""===c.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&c.hostname===r}if(!Qb.test(t))return!1;if(Xx.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Jb=new gc(3e4,6e4);function k0(){const n=Ir().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let og=null;function Xb(n){return og=og||function tR(n){return new Promise((e,t)=>{var r,i,a;function c(){k0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{k0(),t(Fr(n,"network-request-failed"))},timeout:Jb.get()})}if(null!==(i=null===(r=Ir().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(a=Ir().gapi)||void 0===a||!a.load){const f=ny("iframefcb");return Ir()[f]=()=>{gapi.load?c():t(Fr(n,"network-request-failed"))},ty(`${function eb(){return mc.gapiScript}()}?onload=${f}`).catch(y=>t(y))}c()}}).catch(e=>{throw og=null,e})}(n),og}const nR=new gc(5e3,15e3),Qi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rR(n){const e=n.config;Fe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Mp(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:Th},i=Zh.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Ih(r).slice(1)}`}function nD(){return nD=(0,k.Z)(function*(n){const e=yield Xb(n),t=Ir().gapi;return Fe(t,n,"internal-error"),e.open({where:document.body,url:rR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qi,dontclear:!0},r=>new Promise(function(){var i=(0,k.Z)(function*(a,c){yield r.restyle({setHideOnLeave:!1});const f=Fr(n,"network-request-failed"),y=Ir().setTimeout(()=>{c(f)},nR.get());function E(){Ir().clearTimeout(y),a(r)}r.ping(E).then(E,()=>{c(f)})});return function(a,c){return i.apply(this,arguments)}}()))}),nD.apply(this,arguments)}const GO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class i_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const cR=encodeURIComponent("fac");function ug(n,e,t,r,i,a){return s_.apply(this,arguments)}function s_(){return(s_=(0,k.Z)(function*(n,e,t,r,i,a){Fe(n.config.authDomain,n,"auth-domain-config-required"),Fe(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Th,eventId:i};if(e instanceof wa){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",aA(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,S]of Object.entries(a||{}))c[T]=S}if(e instanceof Gl){const T=e.getScopes().filter(S=>""!==S);T.length>0&&(c.scopes=T.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const T of Object.keys(f))void 0===f[T]&&delete f[T];const y=yield n._getAppCheckToken(),E=y?`#${cR}=${encodeURIComponent(y)}`:"";return`${oD(n)}?${Ih(f).slice(1)}${E}`})).apply(this,arguments)}function oD({config:n}){return n.emulator?Mp(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}const Kh="webStorageSupport";class L0 extends class aD{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return ko("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new L0(e)}_finalizeEnroll(e,t,r){return function xb(n,e){return Bn(n,"POST","/v2/accounts/mfaEnrollment:finalize",Un(n,e))}(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function Ox(n,e){return Bn(n,"POST","/v2/accounts/mfaSignIn:finalize",Un(n,e))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let uD=(()=>{class n{constructor(){}static assertion(t){return L0._fromCredential(t)}}return n.FACTOR_ID="phone",n})();var dR="@firebase/auth";class zO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,k.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Jl(){return window}function B0(){return B0=(0,k.Z)(function*(n,e,t){var r;const{BuildInfo:i}=Jl();Oo(e.sessionId,"AuthEvent did not contain a session ID");const a=yield WO(e.sessionId),c={};return Lh()?c.ibi=i.packageName:Oh()?c.apn=i.packageName:Lr(n,"operation-not-supported-in-this-environment"),i.displayName&&(c.appDisplayName=i.displayName),c.sessionId=a,ug(n,t,e.type,void 0,null!==(r=e.eventId)&&void 0!==r?r:void 0,c)}),B0.apply(this,arguments)}function o_(){return o_=(0,k.Z)(function*(n){const{BuildInfo:e}=Jl(),t={};Lh()?t.iosBundleId=e.packageName:Oh()?t.androidPackageName=e.packageName:Lr(n,"operation-not-supported-in-this-environment"),yield Yb(n,t)}),o_.apply(this,arguments)}function j0(){return j0=(0,k.Z)(function*(n,e,t){const{cordova:r}=Jl();let i=()=>{};try{yield new Promise((a,c)=>{let f=null;function y(){var S;a();const O=null===(S=r.plugins.browsertab)||void 0===S?void 0:S.close;"function"==typeof O&&O(),"function"==typeof t?.close&&t.close()}function E(){f||(f=window.setTimeout(()=>{c(Fr(n,"redirect-cancelled-by-user"))},2e3))}function T(){"visible"===document?.visibilityState&&E()}e.addPassiveListener(y),document.addEventListener("resume",E,!1),Oh()&&document.addEventListener("visibilitychange",T,!1),i=()=>{e.removePassiveListener(y),document.removeEventListener("resume",E,!1),document.removeEventListener("visibilitychange",T,!1),f&&window.clearTimeout(f)}})}finally{i()}}),j0.apply(this,arguments)}function WO(n){return a_.apply(this,arguments)}function a_(){return a_=(0,k.Z)(function*(n){const e=qO(n),t=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}),a_.apply(this,arguments)}function qO(n){if(Oo(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}bm(),function SI(n){mc=n}({loadJS:n=>new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=Fr("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",function dD(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function fR(n){Dh(new lu("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;Fe(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wI(n)},E=new TI(r,i,a,y);return function ob(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Zr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(E,t),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Dh(new lu("auth-internal",e=>{const t=Wn(e.getProvider("auth").getImmediate());return new zO(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ia(dR,"1.10.5",function hR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),Ia(dR,"1.10.5","esm2017")}("Browser");class KO extends M0{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){var e=this;return(0,k.Z)(function*(){yield e.initPromise})()}}function vR(n){return mD.apply(this,arguments)}function mD(){return mD=(0,k.Z)(function*(n){const e=yield yD()._get(c_(n));return e&&(yield yD()._remove(c_(n))),e}),mD.apply(this,arguments)}function u_(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<20;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function yD(){return Zr(Vy)}function c_(n){return so("authEvent",n.config.apiKey,n.name)}function lg(n){if(!n?.includes("?"))return{};const[e,...t]=n.split("?");return Eh(t.join("?"))}function ID(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Fr("no-auth-event")}}function dg(){var n;return(null===(n=self?.location)||void 0===n?void 0:n.protocol)||null}function wD(n=vr()){return!("file:"!==dg()&&"ionic:"!==dg()&&"capacitor:"!==dg()||!n.toLowerCase().match(/iphone|ipad|ipod|android/))}function CD(){try{const n=self.localStorage,e=Jp();if(n)return n.setItem(e,"1"),n.removeItem(e),!function ER(n=vr()){return function r1(){return Ov()&&11===document?.documentMode}()||function i1(n=vr()){return/Edge\/\d+/.test(n)}(n)}()||cc()}catch{return $0()&&cc()}return!1}function $0(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function bD(){return(function d_(){return"http:"===dg()||"https:"===dg()}()||oC()||wD())&&!function n1(){return Ip()||cu()}()&&CD()&&!$0()}function DD(){return wD()&&typeof document<"u"}function h_(){return h_=(0,k.Z)(function*(){return!!DD()&&new Promise(n=>{const e=setTimeout(()=>{n(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})})}),h_.apply(this,arguments)}const rr={LOCAL:"local",NONE:"none",SESSION:"session"},hg=Fe,f_="persistence";function as(n){return G0.apply(this,arguments)}function G0(){return G0=(0,k.Z)(function*(n){yield n._initializationPromise;const e=SD(),t=so(f_,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistenceType())}),G0.apply(this,arguments)}function SD(){var n;try{return(null===(n=function s1(){return typeof window<"u"?window:null}())||void 0===n?void 0:n.sessionStorage)||null}catch{return null}}const CR=Fe;class ba{constructor(){this.browserResolver=Zr(class O0{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ec,this._completeRedirectFn=e_,this._overrideRedirectResult=D0}_openPopup(e,t,r,i){var a=this;return(0,k.Z)(function*(){var c;Oo(null===(c=a.eventManagers[e._key()])||void 0===c?void 0:c.manager,"_initialize() not called before _openPopup()");const f=yield ug(e,t,r,Rp(),i);return function oR(n,e,t,r=500,i=600){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const y=Object.assign(Object.assign({},GO),{width:r.toString(),height:i.toString(),top:a,left:c}),E=vr().toLowerCase();t&&(f=_I(E)?"_blank":t),mI(E)&&(e=e||"http://localhost",y.scrollbars="yes");const T=Object.entries(y).reduce((O,[j,X])=>`${O}${j}=${X},`,"");if(function qA(n=vr()){var e;return Lh(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(E)&&"_self"!==f)return function sD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",f),new i_(null);const S=window.open(e||"",f,T);Fe(S,n,"popup-blocked");try{S.focus()}catch{}return new i_(S)}(e,f,Jp())})()}_openRedirect(e,t,r,i){var a=this;return(0,k.Z)(function*(){return yield a._originValidation(e),function Nb(n){Ir().location.href=n}(yield ug(e,t,r,Rp(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Oo(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return(0,k.Z)(function*(){const r=yield function iR(n){return nD.apply(this,arguments)}(e),i=new M0(e);return r.register("authEvent",a=>(Fe(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Kh,{type:Kh},i=>{var a;const c=null===(a=i?.[0])||void 0===a?void 0:a[Kh];void 0!==c&&t(!!c),Lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function N0(n){return r_.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return JC()||yI()||Lh()}}),this.cordovaResolver=Zr(class H0{constructor(){this._redirectPersistence=Ec,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=e_,this._overrideRedirectResult=D0}_initialize(e){var t=this;return(0,k.Z)(function*(){const r=e._key();let i=t.eventManagers.get(r);return i||(i=new KO(e),t.eventManagers.set(r,i),t.attachCallbackListeners(e,i)),i})()}_openPopup(e){Lr(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,r,i){var a=this;return(0,k.Z)(function*(){!function _R(n){var e,t,r,i,a,c,f,y,E,T;const S=Jl();Fe("function"==typeof(null===(e=S?.universalLinks)||void 0===e?void 0:e.subscribe),n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Fe(typeof(null===(t=S?.BuildInfo)||void 0===t?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Fe("function"==typeof(null===(a=null===(i=null===(r=S?.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Fe("function"==typeof(null===(y=null===(f=null===(c=S?.cordova)||void 0===c?void 0:c.plugins)||void 0===f?void 0:f.browsertab)||void 0===y?void 0:y.isAvailable),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Fe("function"==typeof(null===(T=null===(E=S?.cordova)||void 0===E?void 0:E.InAppBrowser)||void 0===T?void 0:T.open),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const c=yield a._initialize(e);yield c.initialized(),c.resetRedirect(),function Ca(){rg.clear()}(),yield a._originValidation(e);const f=function YO(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:u_(),postBody:null,tenantId:n.tenantId,error:Fr(n,"no-auth-event")}}(e,r,i);yield function QO(n,e){return yD()._set(c_(n),e)}(e,f);const y=yield function hD(n,e,t){return B0.apply(this,arguments)}(e,f,t),E=yield function pD(n){const{cordova:e}=Jl();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,function WA(n=vr()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}()?"_blank":"_system","location=yes"),t(i)})})}(y);return function gD(n,e,t){return j0.apply(this,arguments)}(e,c,E)})()}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function fD(n){return o_.apply(this,arguments)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:a}=Jl(),c=setTimeout((0,k.Z)(function*(){yield vR(e),t.onEvent(ID())}),500),f=function(){var T=(0,k.Z)(function*(S){clearTimeout(c);const O=yield vR(e);let j=null;O&&S?.url&&(j=function JO(n,e){var t,r;const i=function _D(n){const e=lg(n),t=e.link?decodeURIComponent(e.link):void 0,r=lg(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return lg(i).link||i||r||t||n}(e);if(i.includes("/__/auth/callback")){const a=lg(i),c=a.firebaseError?function l_(n){try{return JSON.parse(n)}catch{return null}}(decodeURIComponent(a.firebaseError)):null,f=null===(r=null===(t=c?.code)||void 0===t?void 0:t.split("auth/"))||void 0===r?void 0:r[1],y=f?Fr(f):null;return y?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:y,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}(O,S.url)),t.onEvent(j||ID())});return function(O){return T.apply(this,arguments)}}();typeof r<"u"&&"function"==typeof r.subscribe&&r.subscribe(null,f);const y=i,E=`${a.packageName.toLowerCase()}://`;Jl().handleOpenURL=function(){var T=(0,k.Z)(function*(S){if(S.toLowerCase().startsWith(E)&&f({url:S}),"function"==typeof y)try{y(S)}catch(O){console.error(O)}});return function(S){return T.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ec,this._completeRedirectFn=e_,this._overrideRedirectResult=D0}_initialize(e){var t=this;return(0,k.Z)(function*(){return yield t.selectUnderlyingResolver(),t.assertedUnderlyingResolver._initialize(e)})()}_openPopup(e,t,r,i){var a=this;return(0,k.Z)(function*(){return yield a.selectUnderlyingResolver(),a.assertedUnderlyingResolver._openPopup(e,t,r,i)})()}_openRedirect(e,t,r,i){var a=this;return(0,k.Z)(function*(){return yield a.selectUnderlyingResolver(),a.assertedUnderlyingResolver._openRedirect(e,t,r,i)})()}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return DD()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return CR(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var e=this;return(0,k.Z)(function*(){if(e.underlyingResolver)return;const t=yield function TD(){return h_.apply(this,arguments)}();e.underlyingResolver=t?e.cordovaResolver:e.browserResolver})()}}function W0(n){return n.unwrap()}function bR(n){return q0(n)}function q0(n){const{_tokenResponse:e}=n instanceof os?n.customData:n;if(!e)return null;if(!(n instanceof os)&&"temporaryProof"in e&&"phoneNumber"in e)return ng.credentialFromResult(n);const t=e.providerId;if(!t||"password"===t)return null;let r;switch(t){case"google.com":r=jI;break;case"facebook.com":r=BI;break;case"github.com":r=gb;break;case"twitter.com":r=mb;break;default:const{oauthIdToken:i,oauthAccessToken:a,oauthTokenSecret:c,pendingToken:f,nonce:y}=e;return a||c||i||f?f?t.startsWith("saml.")?Bh._create(t,f):ao._fromParams({providerId:t,signInMethod:t,pendingToken:f,idToken:i,accessToken:a}):new zl(t).credential({idToken:i,accessToken:a,rawNonce:y}):null}return n instanceof os?r.credentialFromError(n):r.credentialFromResult(n)}function us(n,e){return e.catch(t=>{throw t instanceof os&&function xD(n,e){var t;const r=null===(t=e.customData)||void 0===t?void 0:t._tokenResponse;if("auth/multi-factor-auth-required"===e?.code)e.resolver=new K0(n,function Qp(n,e){var t;const r=mn(n),i=e;return Fe(e.customData.operationType,r,"argument-error"),Fe(null===(t=i.customData._serverResponse)||void 0===t?void 0:t.mfaPendingCredential,r,"argument-error"),c0._fromError(r,i)}(n,e));else if(r){const i=q0(e),a=e;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}(n,t),t}).then(t=>{const i=t.user;return{operationType:t.operationType,credential:bR(t),additionalUserInfo:xO(t),user:Mi.getOrCreate(i)}})}function p_(n,e){return Z0.apply(this,arguments)}function Z0(){return Z0=(0,k.Z)(function*(n,e){const t=yield e;return{verificationId:t.verificationId,confirm:r=>us(n,t.confirm(r))}}),Z0.apply(this,arguments)}class K0{constructor(e,t){this.resolver=t,this.auth=function AD(n){return n.wrapped()}(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return us(W0(this.auth),this.resolver.resolveSignIn(e))}}class Mi{constructor(e){this._delegate=e,this.multiFactor=function d0(n){const e=mn(n);return l0.has(e)||l0.set(e,Ly._fromUser(e)),l0.get(e)}(e)}static getOrCreate(e){return Mi.USER_MAP.has(e)||Mi.USER_MAP.set(e,new Mi(e)),Mi.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){var t=this;return(0,k.Z)(function*(){return us(t.auth,ZI(t._delegate,e))})()}linkWithPhoneNumber(e,t){var r=this;return(0,k.Z)(function*(){return p_(r.auth,function Ux(n,e,t){return m0.apply(this,arguments)}(r._delegate,e,t))})()}linkWithPopup(e){var t=this;return(0,k.Z)(function*(){return us(t.auth,function Gx(n,e,t){return Zb.apply(this,arguments)}(t._delegate,e,ba))})()}linkWithRedirect(e){var t=this;return(0,k.Z)(function*(){return yield as(Wn(t.auth)),function Yx(n,e,t){return function Kb(n,e,t){return Jy.apply(this,arguments)}(n,e,t)}(t._delegate,e,ba)})()}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){var t=this;return(0,k.Z)(function*(){return us(t.auth,vc(t._delegate,e))})()}reauthenticateWithPhoneNumber(e,t){return p_(this.auth,function $O(n,e,t){return Gb.apply(this,arguments)}(this._delegate,e,t))}reauthenticateWithPopup(e){return us(this.auth,function qb(n,e,t){return w0.apply(this,arguments)}(this._delegate,e,ba))}reauthenticateWithRedirect(e){var t=this;return(0,k.Z)(function*(){return yield as(Wn(t.auth)),function Yy(n,e,t){return function Qy(n,e,t){return S0.apply(this,arguments)}(n,e,t)}(t._delegate,e,ba)})()}sendEmailVerification(e){return function Ry(n,e){return My.apply(this,arguments)}(this._delegate,e)}unlink(e){var t=this;return(0,k.Z)(function*(){return yield function dx(n,e){return GI.apply(this,arguments)}(t._delegate,e),t})()}updateEmail(e){return function vx(n,e){const t=mn(n);return zn(t.auth.app)?Promise.reject(Cr(t.auth)):s0(t,e,null)}(this._delegate,e)}updatePassword(e){return function Ix(n,e){return s0(mn(n),null,e)}(this._delegate,e)}updatePhoneNumber(e){return function Bx(n,e){return _0.apply(this,arguments)}(this._delegate,e)}updateProfile(e){return function Yp(n,e){return r0.apply(this,arguments)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return function Db(n,e,t){return Py.apply(this,arguments)}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Mi.USER_MAP=new WeakMap;const Qh=Fe;let g_=(()=>{class n{constructor(t,r){if(this.app=t,r.isInitialized())return this._delegate=r.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:i}=t.options;Qh(i,"invalid-api-key",{appName:t.name}),Qh(i,"invalid-api-key",{appName:t.name});const a=typeof window<"u"?ba:void 0;this._delegate=r.initialize({options:{persistence:DR(i,t.name),popupRedirectResolver:a}}),this._delegate._updateErrorMap(OA),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Mi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(t){this._delegate.languageCode=t}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(t){this._delegate.tenantId=t}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(t,r){!function JA(n,e,t){const r=Wn(n);Fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,a=ab(e),{host:c,port:f}=function XA(n){const e=ab(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:RI(r.substr(a.length+1))}}{const[a,c]=r.split(":");return{host:a,port:RI(c)}}}(e),y=null===f?"":`:${f}`,E={url:`${a}//${c}${y}/`},T=Object.freeze({host:c,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Fe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Fe(bp(E,r.config.emulator)&&bp(T,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=E,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,vp(c)?(eA("Auth",!0),function Dm(n){kv.apply(this,arguments)}(`${a}//${c}${y}`)):i||function ex(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(this._delegate,t,r)}applyActionCode(t){return function Ty(n,e){return Hh.apply(this,arguments)}(this._delegate,t)}checkActionCode(t){return nr(this._delegate,t)}confirmPasswordReset(t,r){return function jh(n,e,t){return XI.apply(this,arguments)}(this._delegate,t,r)}createUserWithEmailAndPassword(t,r){var i=this;return(0,k.Z)(function*(){return us(i._delegate,function px(n,e,t){return Ay.apply(this,arguments)}(i._delegate,t,r))})()}fetchProvidersForEmail(t){return this.fetchSignInMethodsForEmail(t)}fetchSignInMethodsForEmail(t){return function yx(n,e){return n0.apply(this,arguments)}(this._delegate,t)}isSignInWithEmailLink(t){return function gx(n,e){return"EMAIL_SIGNIN"===$l.parseLink(e)?.operation}(0,t)}getRedirectResult(){var t=this;return(0,k.Z)(function*(){Qh(bD(),t._delegate,"operation-not-supported-in-this-environment");const r=yield function A0(n,e){return Xy.apply(this,arguments)}(t._delegate,ba);return r?us(t._delegate,Promise.resolve(r)):{credential:null,user:null}})()}addFrameworkForLogging(t){!function ED(n,e){Wn(n)._logFramework(e)}(this._delegate,t)}onAuthStateChanged(t,r,i){const{next:a,error:c,complete:f}=Da(t,r,i);return this._delegate.onAuthStateChanged(a,c,f)}onIdTokenChanged(t,r,i){const{next:a,error:c,complete:f}=Da(t,r,i);return this._delegate.onIdTokenChanged(a,c,f)}sendSignInLinkToEmail(t,r){return function bb(n,e,t){return xy.apply(this,arguments)}(this._delegate,t,r)}sendPasswordResetEmail(t,r){return function fx(n,e,t){return JI.apply(this,arguments)}(this._delegate,t,r||void 0)}setPersistence(t){var r=this;return(0,k.Z)(function*(){let i;switch(function wR(n,e){hg(Object.values(rr).includes(e),n,"invalid-persistence-type"),Ip()?hg(e!==rr.SESSION,n,"unsupported-persistence-type"):cu()?hg(e===rr.NONE,n,"unsupported-persistence-type"):$0()?hg(e===rr.NONE||e===rr.LOCAL&&cc(),n,"unsupported-persistence-type"):hg(e===rr.NONE||CD(),n,"unsupported-persistence-type")}(r._delegate,t),t){case rr.SESSION:i=Ec;break;case rr.LOCAL:i=(yield Zr(Wh)._isAvailable())?Wh:Vy;break;case rr.NONE:i=Fo;break;default:return Lr("argument-error",{appName:r._delegate.name})}return r._delegate.setPersistence(i)})()}signInAndRetrieveDataWithCredential(t){return this.signInWithCredential(t)}signInAnonymously(){return us(this._delegate,function lx(n){return $I.apply(this,arguments)}(this._delegate))}signInWithCredential(t){return us(this._delegate,qp(this._delegate,t))}signInWithCustomToken(t){return us(this._delegate,function TO(n,e){return Zp.apply(this,arguments)}(this._delegate,t))}signInWithEmailAndPassword(t,r){return us(this._delegate,function Cb(n,e,t){return zn(n.app)?Promise.reject(Cr(n)):qp(mn(n),py.credential(e,t)).catch(function(){var r=(0,k.Z)(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&St(n),i});return function(i){return r.apply(this,arguments)}}())}(this._delegate,t,r))}signInWithEmailLink(t,r){return us(this._delegate,function mx(n,e,t){return e0.apply(this,arguments)}(this._delegate,t,r))}signInWithPhoneNumber(t,r){return p_(this._delegate,function HO(n,e,t){return zy.apply(this,arguments)}(this._delegate,t,r))}signInWithPopup(t){var r=this;return(0,k.Z)(function*(){return Qh(bD(),r._delegate,"operation-not-supported-in-this-environment"),us(r._delegate,function Wb(n,e,t){return Zy.apply(this,arguments)}(r._delegate,t,ba))})()}signInWithRedirect(t){var r=this;return(0,k.Z)(function*(){return Qh(bD(),r._delegate,"operation-not-supported-in-this-environment"),yield as(r._delegate),function Zx(n,e,t){return function Kx(n,e,t){return T0.apply(this,arguments)}(n,e,t)}(r._delegate,t,ba)})()}updateCurrentUser(t){return this._delegate.updateCurrentUser(t)}verifyPasswordResetCode(t){return function wb(n,e){return Sy.apply(this,arguments)}(this._delegate,t)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return n.Persistence=rr,n})();function Da(n,e,t){let r=n;"function"!=typeof n&&({next:r,error:e,complete:t}=n);const i=r;return{next:c=>i(c&&Mi.getOrCreate(c)),error:e,complete:t}}function DR(n,e){const t=function z0(n,e){const t=SD();if(!t)return[];const r=so(f_,n,e);switch(t.getItem(r)){case rr.NONE:return[Fo];case rr.LOCAL:return[Wh,Ec];case rr.SESSION:return[Ec];default:return[]}}(n,e);if(typeof self<"u"&&!t.includes(Wh)&&t.push(Wh),typeof window<"u")for(const r of[Vy,Ec])t.includes(r)||t.push(r);return t.includes(Fo)||t.push(Fo),t}class RD{static credential(e,t){return ng.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new ng(W0(Yi.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}RD.PHONE_SIGN_IN_METHOD=ng.PHONE_SIGN_IN_METHOD,RD.PROVIDER_ID=ng.PROVIDER_ID;const TR=Fe;class SR{constructor(e,t,r=Yi.app()){var i;TR(null===(i=r.options)||void 0===i?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new Fx(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function xR(n){n.INTERNAL.registerComponent(new lu("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new g_(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:py,FacebookAuthProvider:BI,GithubAuthProvider:gb,GoogleAuthProvider:jI,OAuthProvider:zl,SAMLAuthProvider:gy,PhoneAuthProvider:RD,PhoneMultiFactorGenerator:uD,RecaptchaVerifier:SR,TwitterAuthProvider:mb,Auth:g_,AuthCredential:Zn,Error:os}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion("@firebase/auth-compat","0.5.25")}(Yi);var Ta=U(7579);class Bo extends Ta.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function mt(...n){const e=(0,xi.yG)(n);return(0,sn.D)(n,e)}var RR=U(6451),fg=U(5363),cs=U(4482);function br(n,e){return(0,cs.e)((t,r)=>{let i=null,a=0,c=!1;const f=()=>c&&!i&&r.complete();t.subscribe((0,on.x)(r,y=>{i?.unsubscribe();let E=0;const T=a++;(0,Ws.Xf)(n(y,T)).subscribe(i=(0,on.x)(r,S=>r.next(e?e(y,S,T,E++):S),()=>{i=null,f()}))},()=>{c=!0,f()}))})}var MD=U(6063);class PD extends Ta.x{constructor(e=1/0,t=1/0,r=MD.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:c}=this;t||(r.push(e),!i&&r.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let c=0;c<a.length&&!e.closed;c+=r?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const c=t.now();let f=0;for(let y=1;y<r.length&&r[y]<=c;y+=2)f=y;f&&r.splice(0,f+1)}}}var ND=U(3099);function Y0(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,ND.B)({connector:()=>new PD(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}const Xl=(0,U(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ji(n,e){return(0,cs.e)((t,r)=>{let i=0;t.subscribe((0,on.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var wc=U(515);function pg(n){return n<=0?()=>wc.E:(0,cs.e)((e,t)=>{let r=0;e.subscribe((0,on.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function gg(n){return(0,cs.e)((e,t)=>{let r=!1;e.subscribe((0,on.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Q0(n=MR){return(0,cs.e)((e,t)=>{let r=!1;e.subscribe((0,on.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function MR(){return new Xl}var mg=U(4671);function Cc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ji((i,a)=>n(i,a,r)):mg.y,pg(1),t?gg(e):Q0(()=>new Xl))}var OD=U(576);function J0(n,e){return(0,OD.m)(e)?br(()=>n,e):br(()=>n)}var X0=U(9468),Kr=U(2088),jo=U(2011);U(8140),U(5752),U(1617);var En=U(5578),ed=U(9357);class zR{constructor(){return(0,Kr.vb)("app-check")}}typeof window<"u"&&window;var S1=U(1274);const A1=new m.OlP("angularfire2.auth.use-emulator"),x1=new m.OlP("angularfire2.auth.settings"),R1=new m.OlP("angularfire2.auth.tenant-id"),M1=new m.OlP("angularfire2.auth.langugage-code"),P1=new m.OlP("angularfire2.auth.use-device-language"),N1=new m.OlP("angularfire.auth.persistence"),k1=(n,e,t,r,i,a,c,f)=>(0,jo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,a&&y.useDeviceLanguage(),c)for(const[E,T]of Object.entries(c))y.settings[E]=T;return f&&y.setPersistence(f),y},[t,r,i,a,c,f]);let qD=(()=>{class n{constructor(t,r,i,a,c,f,y,E,T,S,O,j){const X=new Ta.x,De=mt(void 0).pipe((0,fg.Q)(c.outsideAngular),br(()=>a.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,8463)))),(0,wt.U)(()=>(0,jo.on)(t,a,r)),(0,wt.U)(Ae=>k1(Ae,a,f,E,T,S,y,O)),Y0({bufferSize:1,refCount:!1}));if(Qo(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=mt(null);else{De.pipe(Cc()).subscribe();const Qe=De.pipe(br(Pt=>Pt.getRedirectResult().then(Kt=>Kt,()=>null)),Kr.iC,Y0({bufferSize:1,refCount:!1})),ct=De.pipe(br(Pt=>new Wi.y(Kt=>({unsubscribe:a.runOutsideAngular(()=>Pt.onAuthStateChanged(Xt=>Kt.next(Xt),Xt=>Kt.error(Xt),()=>Kt.complete()))})))),pt=De.pipe(br(Pt=>new Wi.y(Kt=>({unsubscribe:a.runOutsideAngular(()=>Pt.onIdTokenChanged(Xt=>Kt.next(Xt),Xt=>Kt.error(Xt),()=>Kt.complete()))}))));this.authState=Qe.pipe(J0(ct),(0,X0.R)(c.outsideAngular),(0,fg.Q)(c.insideAngular)),this.user=Qe.pipe(J0(pt),(0,X0.R)(c.outsideAngular),(0,fg.Q)(c.insideAngular)),this.idToken=this.user.pipe(br(Pt=>Pt?(0,sn.D)(Pt.getIdToken()):mt(null))),this.idTokenResult=this.user.pipe(br(Pt=>Pt?(0,sn.D)(Pt.getIdTokenResult()):mt(null))),this.credential=(0,RR.T)(Qe,X,this.authState.pipe(Ji(Pt=>!Pt))).pipe((0,wt.U)(Pt=>Pt?.user?Pt:null),(0,X0.R)(c.outsideAngular),(0,fg.Q)(c.insideAngular))}return(0,jo.pX)(this,De,a,{spy:{apply:(Ae,Qe,ct)=>{(Ae.startsWith("signIn")||Ae.startsWith("createUser"))&&ct.then(pt=>X.next(pt))}}})}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(jo.Dh),m.LFG(jo.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(Kr.HU),m.LFG(A1,8),m.LFG(x1,8),m.LFG(R1,8),m.LFG(M1,8),m.LFG(P1,8),m.LFG(N1,8),m.LFG(zR,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Rj=(()=>{class n{constructor(){S1.Z.registerVersion("angularfire",Kr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:[qD]}),n})(),gE=(()=>{class n{constructor(t){this.afAuth=t,this.userSubject=new Bo(null),this.user$=this.userSubject.asObservable(),this.afAuth.authState.subscribe(r=>{this.userSubject.next(r)})}signup(t,r){return this.afAuth.createUserWithEmailAndPassword(t,r)}login(t,r){return this.afAuth.signInWithEmailAndPassword(t,r)}logout(){return this.afAuth.signOut()}get currentUser(){return this.userSubject.value}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(qD))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Mj=U(9672);function O1(...n){const e=(0,xi.yG)(n),t=(0,xi.jO)(n),{args:r,keys:i}=hl(n);if(0===r.length)return(0,sn.D)([],e);const a=new Wi.y(function Pj(n,e,t=mg.y){return r=>{L1(e,()=>{const{length:i}=n,a=new Array(i);let c=i,f=i;for(let y=0;y<i;y++)L1(e,()=>{const E=(0,sn.D)(n[y],e);let T=!1;E.subscribe((0,on.x)(r,S=>{a[y]=S,T||(T=!0,f--),f||r.next(t(a.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>fl(i,c):mg.y));return t?a.pipe(Xa(t)):a}function L1(n,e,t){n?(0,Mj.f)(t,n,e):e()}var mE=U(8189);function qR(...n){return function Nj(){return(0,mE.J)(1)}()((0,sn.D)(n,(0,xi.yG)(n)))}function F1(n){return new Wi.y(e=>{(0,Ws.Xf)(n()).subscribe(e)})}var kj=U(9635);function yE(n,e){const t=(0,OD.m)(n)?n:()=>n,r=i=>i.error(t());return new Wi.y(e?i=>e.schedule(r,0,i):r)}var V1=U(727);function ZR(){return(0,cs.e)((n,e)=>{let t=null;n._refCount++;const r=(0,on.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class U1 extends Wi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,cs.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new V1.w0;const t=this.getSubject();e.add(this.source.subscribe((0,on.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=V1.w0.EMPTY)}return e}refCount(){return ZR()(this)}}function ZD(...n){const e=(0,xi.yG)(n);return(0,cs.e)((t,r)=>{(e?qR(n,t,e):qR(n,t)).subscribe(r)})}var Ms=U(5577);function ef(n,e){return(0,OD.m)(e)?(0,Ms.z)(n,e,1):(0,Ms.z)(n,1)}var ls=U(8505);function tf(n){return(0,cs.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,on.x)(t,void 0,void 0,c=>{a=(0,Ws.Xf)(n(c,tf(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function Oj(n,e,t,r,i){return(a,c)=>{let f=t,y=e,E=0;a.subscribe((0,on.x)(c,T=>{const S=E++;y=f?n(y,T,S):(f=!0,T),r&&c.next(y)},i&&(()=>{f&&c.next(y),c.complete()})))}}function _E(n,e){return(0,cs.e)(Oj(n,e,arguments.length>=2,!0))}function KR(n){return n<=0?()=>wc.E:(0,cs.e)((e,t)=>{let r=[];e.subscribe((0,on.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function B1(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ji((i,a)=>n(i,a,r)):mg.y,KR(1),t?gg(e):Q0(()=>new Xl))}function YR(n){return(0,cs.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Jt="primary",vE=Symbol("RouteTitle");class Vj{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function b_(n){return new Vj(n)}function Uj(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const c=r[a],f=n[a];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Dc(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!j1(n[i],e[i]))return!1;return!0}function j1(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function H1(n){return Array.prototype.concat.apply([],n)}function $1(n){return n.length>0?n[n.length-1]:null}function Xi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function nf(n){return(0,m.CqO)(n)?n:(0,m.QGY)(n)?(0,sn.D)(Promise.resolve(n)):mt(n)}const Hj={exact:function W1(n,e,t){if(!Ig(n.segments,e.segments)||!KD(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!W1(n.children[r],e.children[r],t))return!1;return!0},subset:q1},G1={exact:function $j(n,e){return Dc(n,e)},subset:function Gj(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>j1(n[t],e[t]))},ignored:()=>!0};function z1(n,e,t){return Hj[t.paths](n.root,e.root,t.matrixParams)&&G1[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function q1(n,e,t){return Z1(n,e,e.segments,t)}function Z1(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ig(i,t)||e.hasChildren()||!KD(i,t,r))}if(n.segments.length===t.length){if(!Ig(n.segments,t)||!KD(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!q1(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Ig(n.segments,i)&&KD(n.segments,i,r)&&n.children[Jt])&&Z1(n.children[Jt],e,a,r)}}function KD(n,e,t){return e.every((r,i)=>G1[t](n[i].parameters,r.parameters))}class vg{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=b_(this.queryParams)),this._queryParamMap}toString(){return qj.serialize(this)}}class en{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Xi(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return YD(this)}}class IE{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=b_(this.parameters)),this._parameterMap}toString(){return J1(this)}}function Ig(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let K1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:function(){return new JR},providedIn:"root"}),n})();class JR{parse(e){const t=new nH(e);return new vg(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${EE(e.root,!0)}`,r=function Yj(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${QD(t)}=${QD(i)}`).join("&"):`${QD(t)}=${QD(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function Zj(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${i}`}}const qj=new JR;function YD(n){return n.segments.map(e=>J1(e)).join("/")}function EE(n,e){if(!n.hasChildren())return YD(n);if(e){const t=n.children[Jt]?EE(n.children[Jt],!1):"",r=[];return Xi(n.children,(i,a)=>{a!==Jt&&r.push(`${a}:${EE(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Wj(n,e){let t=[];return Xi(n.children,(r,i)=>{i===Jt&&(t=t.concat(e(r,i)))}),Xi(n.children,(r,i)=>{i!==Jt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Jt?[EE(n.children[Jt],!1)]:[`${i}:${EE(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Jt]?`${YD(n)}/${t[0]}`:`${YD(n)}/(${t.join("//")})`}}function Y1(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function QD(n){return Y1(n).replace(/%3B/gi,";")}function XR(n){return Y1(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function JD(n){return decodeURIComponent(n)}function Q1(n){return JD(n.replace(/\+/g,"%20"))}function J1(n){return`${XR(n.path)}${function Kj(n){return Object.keys(n).map(e=>`;${XR(e)}=${XR(n[e])}`).join("")}(n.parameters)}`}const Qj=/^[^\/()?;=#]+/;function XD(n){const e=n.match(Qj);return e?e[0]:""}const Jj=/^[^=?&#]+/,eH=/^[^&#]+/;class nH{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new en([],{}):new en([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Jt]=new en(e,t)),r}parseSegment(){const e=XD(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new m.vHH(4009,!1);return this.capture(e),new IE(JD(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=XD(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=XD(this.remaining);i&&(r=i,this.capture(r))}e[JD(t)]=JD(r)}parseQueryParam(e){const t=function Xj(n){const e=n.match(Jj);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function tH(n){const e=n.match(eH);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Q1(t),a=Q1(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=XD(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new m.vHH(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Jt);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[Jt]:new en([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new m.vHH(4011,!1)}}function eM(n){return n.segments.length>0?new en([],{[Jt]:n}):n}function eT(n){const e={};for(const r of Object.keys(n.children)){const a=eT(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function rH(n){if(1===n.numberOfChildren&&n.children[Jt]){const e=n.children[Jt];return new en(n.segments.concat(e.segments),e.children)}return n}(new en(n.segments,e))}function Eg(n){return n instanceof vg}function oH(n,e,t,r,i){if(0===t.length)return D_(e.root,e.root,e.root,r,i);const a=function tL(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new eL(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Xi(a.outlets,(y,E)=>{f[E]="string"==typeof y?y.split("/"):y}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===c?(a.split("/").forEach((f,y)=>{0==y&&"."===f||(0==y&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new eL(t,e,r)}(t);return a.toRoot()?D_(e.root,e.root,new en([],{}),r,i):function c(y){const E=function uH(n,e,t,r){if(n.isAbsolute)return new T_(e.root,!0,0);if(-1===r)return new T_(t,t===e.root,0);return function nL(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new m.vHH(4005,!1);i=r.segments.length}return new T_(r,!1,i-a)}(t,r+(wE(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,y),T=E.processChildren?bE(E.segmentGroup,E.index,a.commands):nM(E.segmentGroup,E.index,a.commands);return D_(e.root,E.segmentGroup,T,r,i)}(n.snapshot?._lastPathIndex)}function wE(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function CE(n){return"object"==typeof n&&null!=n&&n.outlets}function D_(n,e,t,r,i){let c,a={};r&&Xi(r,(y,E)=>{a[E]=Array.isArray(y)?y.map(T=>`${T}`):`${y}`}),c=n===e?t:X1(n,e,t);const f=eM(eT(c));return new vg(f,a,i)}function X1(n,e,t){const r={};return Xi(n.children,(i,a)=>{r[a]=i===e?t:X1(i,e,t)}),new en(n.segments,r)}class eL{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&wE(r[0]))throw new m.vHH(4003,!1);const i=r.find(CE);if(i&&i!==$1(r))throw new m.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class T_{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function nM(n,e,t){if(n||(n=new en([],{})),0===n.segments.length&&n.hasChildren())return bE(n,e,t);const r=function lH(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const c=n.segments[i],f=t[r];if(CE(f))break;const y=`${f}`,E=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&E&&"object"==typeof E&&void 0===E.outlets){if(!iL(y,E,c))return a;r+=2}else{if(!iL(y,{},c))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new en(n.segments.slice(0,r.pathIndex),{});return a.children[Jt]=new en(n.segments.slice(r.pathIndex),n.children),bE(a,0,i)}return r.match&&0===i.length?new en(n.segments,{}):r.match&&!n.hasChildren()?rM(n,e,t):r.match?bE(n,0,i):rM(n,e,t)}function bE(n,e,t){if(0===t.length)return new en(n.segments,{});{const r=function cH(n){return CE(n[0])?n[0].outlets:{[Jt]:n}}(t),i={};return Xi(r,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[c]=nM(n.children[c],e,a))}),Xi(n.children,(a,c)=>{void 0===r[c]&&(i[c]=a)}),new en(n.segments,i)}}function rM(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(CE(a)){const y=dH(a.outlets);return new en(r,y)}if(0===i&&wE(t[0])){r.push(new IE(n.segments[e].path,rL(t[0]))),i++;continue}const c=CE(a)?a.outlets[Jt]:`${a}`,f=i<t.length-1?t[i+1]:null;c&&f&&wE(f)?(r.push(new IE(c,rL(f))),i+=2):(r.push(new IE(c,{})),i++)}return new en(r,{})}function dH(n){const e={};return Xi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=rM(new en([],{}),0,t))}),e}function rL(n){const e={};return Xi(n,(t,r)=>e[r]=`${t}`),e}function iL(n,e,t){return n==t.path&&Dc(e,t.parameters)}class td{constructor(e,t){this.id=e,this.url=t}}class iM extends td{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wg extends td{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class tT extends td{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class sL extends td{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hH extends td{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fH extends td{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pH extends td{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gH extends td{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mH extends td{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yH{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _H{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vH{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IH{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EH{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wH{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oL{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class aL{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=sM(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=sM(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=oM(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return oM(e,this._root).map(t=>t.value)}}function sM(n,e){if(n===e.value)return e;for(const t of e.children){const r=sM(n,t);if(r)return r}return null}function oM(n,e){if(n===e.value)return[e];for(const t of e.children){const r=oM(n,t);if(r.length)return r.unshift(e),r}return[]}class nd{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function S_(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class uL extends aL{constructor(e,t){super(e),this.snapshot=t,aM(this,e)}toString(){return this.snapshot.toString()}}function cL(n,e){const t=function bH(n,e){const c=new nT([],{},{},"",{},Jt,e,null,n.root,-1,{});return new dL("",new nd(c,[]))}(n,e),r=new Bo([new IE("",{})]),i=new Bo({}),a=new Bo({}),c=new Bo({}),f=new Bo(""),y=new Cg(r,i,c,f,a,Jt,e,t.root);return y.snapshot=t.root,new uL(new nd(y,[]),t)}class Cg{constructor(e,t,r,i,a,c,f,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this.title=this.data?.pipe((0,wt.U)(E=>E[vE]))??mt(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,wt.U)(e=>b_(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,wt.U)(e=>b_(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lL(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function DH(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class nT{constructor(e,t,r,i,a,c,f,y,E,T,S,O){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this.title=this.data?.[vE],this.routeConfig=y,this._urlSegment=E,this._lastPathIndex=T,this._correctedLastPathIndex=O??T,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=b_(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=b_(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class dL extends aL{constructor(e,t){super(t),this.url=e,aM(this,t)}toString(){return hL(this._root)}}function aM(n,e){e.value._routerState=n,e.children.forEach(t=>aM(n,t))}function hL(n){const e=n.children.length>0?` { ${n.children.map(hL).join(", ")} } `:"";return`${n.value}${e}`}function uM(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Dc(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Dc(e.params,t.params)||n.params.next(t.params),function Bj(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Dc(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Dc(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function cM(n,e){const t=Dc(n.params,e.params)&&function zj(n,e){return Ig(n,e)&&n.every((t,r)=>Dc(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||cM(n.parent,e.parent))}function DE(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function SH(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return DE(n,r,i);return DE(n,r)})}(n,e,t);return new nd(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>DE(n,f)),c}}const r=function AH(n){return new Cg(new Bo(n.url),new Bo(n.params),new Bo(n.queryParams),new Bo(n.fragment),new Bo(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>DE(n,a));return new nd(r,i)}}const lM="ngNavigationCancelingError";function fL(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Eg(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=pL(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function pL(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[lM]=!0,r.cancellationCode=e,t&&(r.url=t),r}function gL(n){return mL(n)&&Eg(n.url)}function mL(n){return n&&n[lM]}class xH{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new TE,this.attachRef=null}}let TE=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new xH,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rT=!1;let dM=(()=>{class n{constructor(t,r,i,a,c){this.parentContexts=t,this.location=r,this.changeDetector=a,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.attachEvents=new m.vpe,this.detachEvents=new m.vpe,this.name=i||Jt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new m.vHH(4012,rT);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new m.vHH(4012,rT);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new m.vHH(4012,rT);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new m.vHH(4013,rT);this._activatedRoute=t;const i=this.location,c=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,y=new RH(t,f,i.injector);if(r&&function MH(n){return!!n.resolveComponentFactory}(r)){const E=r.resolveComponentFactory(c);this.activated=i.createComponent(E,i.length,y)}else this.activated=i.createComponent(c,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(TE),m.Y36(m.s_b),m.$8M("name"),m.Y36(m.sBO),m.Y36(m.lqb))},n.\u0275dir=m.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class RH{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Cg?this.route:e===TE?this.childContexts:this.parent.get(e,t)}}let hM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=m.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[m.jDz],decls:1,vars:0,template:function(t,r){1&t&&m._UZ(0,"router-outlet")},dependencies:[dM],encapsulation:2}),n})();function yL(n,e){return n.providers&&!n._injector&&(n._injector=(0,m.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function pM(n){const e=n.children&&n.children.map(pM),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Jt&&(t.component=hM),t}function Sa(n){return n.outlet||Jt}function _L(n,e){const t=n.filter(r=>Sa(r)===e);return t.push(...n.filter(r=>Sa(r)!==e)),t}function SE(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class LH{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),uM(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=S_(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,i[c],r),delete i[c]}),Xi(i,(a,c)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=S_(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=S_(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=S_(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new wH(a.value.snapshot))}),e.children.length&&this.forwardEvent(new IH(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(uM(i),i===a)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),uM(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=SE(i.snapshot),y=f?.get(m._Vd)??null;c.attachRef=null,c.route=i,c.resolver=y,c.injector=f,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class vL{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class iT{constructor(e,t){this.component=e,this.route=t}}function FH(n,e,t){const r=n._root;return AE(r,e?e._root:null,t,[r.value])}function A_(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,m.Z0I)(n)?e.get(n):n:r}function AE(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=S_(e);return n.children.forEach(c=>{(function UH(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const y=function BH(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ig(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ig(n.url,e.url)||!Dc(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cM(n,e)||!Dc(n.queryParams,e.queryParams);default:return!cM(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new vL(r)):(a.data=c.data,a._resolvedData=c._resolvedData),AE(n,e,a.component?f?f.children:null:t,r,i),y&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new iT(f.outlet.component,c))}else c&&xE(e,f,i),i.canActivateChecks.push(new vL(r)),AE(n,null,a.component?f?f.children:null:t,r,i)})(c,a[c.value.outlet],t,r.concat([c.value]),i),delete a[c.value.outlet]}),Xi(a,(c,f)=>xE(c,t.getContext(f),i)),i}function xE(n,e,t){const r=S_(n),i=n.value;Xi(r,(a,c)=>{xE(a,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new iT(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function RE(n){return"function"==typeof n}function gM(n){return n instanceof Xl||"EmptyError"===n?.name}const sT=Symbol("INITIAL_VALUE");function x_(){return br(n=>O1(n.map(e=>e.pipe(pg(1),ZD(sT)))).pipe((0,wt.U)(e=>{for(const t of e)if(!0!==t){if(t===sT)return sT;if(!1===t||t instanceof vg)return t}return!0}),Ji(e=>e!==sT),pg(1)))}function IL(n){return(0,kj.z)((0,ls.b)(e=>{if(Eg(e))throw fL(0,e)}),(0,wt.U)(e=>!0===e))}const mM={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function EL(n,e,t,r,i){const a=yM(n,e,t);return a.matched?function r$(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?mt(i.map(c=>{const f=A_(c,n);return nf(function WH(n){return n&&RE(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(x_(),IL()):mt(!0)}(r=yL(e,r),e,t).pipe((0,wt.U)(c=>!0===c?a:{...mM})):mt(a)}function yM(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...mM}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Uj)(t,n,e);if(!i)return{...mM};const a={};Xi(i.posParams,(f,y)=>{a[y]=f.path});const c=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function oT(n,e,t,r,i="corrected"){if(t.length>0&&function o$(n,e,t){return t.some(r=>aT(n,e,r)&&Sa(r)!==Jt)}(n,t,r)){const c=new en(e,function s$(n,e,t,r){const i={};i[Jt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Sa(a)!==Jt){const c=new en([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[Sa(a)]=c}return i}(n,e,r,new en(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function a$(n,e,t){return t.some(r=>aT(n,e,r))}(n,t,r)){const c=new en(n.segments,function i$(n,e,t,r,i,a){const c={};for(const f of r)if(aT(n,t,f)&&!i[Sa(f)]){const y=new en([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===a?n.segments.length:e.length,c[Sa(f)]=y}return{...i,...c}}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const a=new en(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function aT(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function wL(n,e,t,r){return!!(Sa(n)===r||r!==Jt&&aT(e,t,n))&&("**"===n.path||yM(e,n,t).matched)}function CL(n,e,t){return 0===e.length&&!n.children[t]}const uT=!1;class cT{constructor(e){this.segmentGroup=e||null}}class bL{constructor(e){this.urlTree=e}}function ME(n){return yE(new cT(n))}function DL(n){return yE(new bL(n))}class d${constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=oT(this.urlTree.root,[],[],this.config).segmentGroup,t=new en(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Jt).pipe((0,wt.U)(a=>this.createUrlTree(eT(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(tf(a=>{if(a instanceof bL)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof cT?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Jt).pipe((0,wt.U)(i=>this.createUrlTree(eT(i),e.queryParams,e.fragment))).pipe(tf(i=>{throw i instanceof cT?this.noMatchError(i):i}))}noMatchError(e){return new m.vHH(4002,uT)}createUrlTree(e,t,r){const i=eM(e);return new vg(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,wt.U)(a=>new en([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,sn.D)(i).pipe(ef(a=>{const c=r.children[a],f=_L(t,a);return this.expandSegmentGroup(e,f,c,a).pipe((0,wt.U)(y=>({segment:y,outlet:a})))}),_E((a,c)=>(a[c.outlet]=c.segment,a),{}),B1())}expandSegment(e,t,r,i,a,c){return(0,sn.D)(r).pipe(ef(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,c).pipe(tf(E=>{if(E instanceof cT)return mt(null);throw E}))),Cc(f=>!!f),tf((f,y)=>{if(gM(f))return CL(t,i,a)?mt(new en([],{})):ME(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,c,f){return wL(i,t,a,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c):ME(t):ME(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?DL(a):this.lineralizeSegments(r,a).pipe((0,Ms.z)(c=>{const f=new en(c,{});return this.expandSegment(e,f,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){const{matched:f,consumedSegments:y,remainingSegments:E,positionalParamSegments:T}=yM(t,i,a);if(!f)return ME(t);const S=this.applyRedirectCommands(y,i.redirectTo,T);return i.redirectTo.startsWith("/")?DL(S):this.lineralizeSegments(i,S).pipe((0,Ms.z)(O=>this.expandSegment(e,t,r,O.concat(E),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=yL(r,e),r.loadChildren?(r._loadedRoutes?mt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,wt.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new en(i,{})))):mt(new en(i,{}))):EL(t,r,i,e).pipe(br(({matched:c,consumedSegments:f,remainingSegments:y})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Ms.z)(T=>{const S=T.injector??e,O=T.routes,{segmentGroup:j,slicedSegments:X}=oT(t,f,y,O),De=new en(j.segments,j.children);if(0===X.length&&De.hasChildren())return this.expandChildren(S,O,De).pipe((0,wt.U)(pt=>new en(f,pt)));if(0===O.length&&0===X.length)return mt(new en(f,{}));const Ae=Sa(r)===a;return this.expandSegment(S,De,O,X,Ae?Jt:a,!0).pipe((0,wt.U)(ct=>new en(f.concat(ct.segments),ct.children)))})):ME(t)))}getChildConfig(e,t,r){return t.children?mt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?mt({routes:t._loadedRoutes,injector:t._loadedInjector}):function n$(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?mt(!0):mt(i.map(c=>{const f=A_(c,n);return nf(function HH(n){return n&&RE(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(x_(),IL())}(e,t,r).pipe((0,Ms.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,ls.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function c$(n){return yE(pL(uT,3))}())):mt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return mt(r);if(i.numberOfChildren>1||!i.children[Jt])return yE(new m.vHH(4e3,uT));i=i.children[Jt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new vg(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Xi(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let c={};return Xi(t.children,(f,y)=>{c[y]=this.createSegmentGroup(e,f,r,i)}),new en(a,c)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new m.vHH(4001,uT);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class f${}class m${constructor(e,t,r,i,a,c,f,y){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=f,this.urlSerializer=y}recognize(){const e=oT(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Jt).pipe((0,wt.U)(t=>{if(null===t)return null;const r=new nT([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Jt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new nd(r,t),a=new dL(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=lL(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,sn.D)(Object.keys(r.children)).pipe(ef(i=>{const a=r.children[i],c=_L(t,i);return this.processSegmentGroup(e,c,a,i)}),_E((i,a)=>i&&a?(i.push(...a),i):null),function Lj(n,e=!1){return(0,cs.e)((t,r)=>{let i=0;t.subscribe((0,on.x)(r,a=>{const c=n(a,i++);(c||e)&&r.next(a),!c&&r.complete()}))})}(i=>null!==i),gg(null),B1(),(0,wt.U)(i=>{if(null===i)return null;const a=TL(i);return function y$(n){n.sort((e,t)=>e.value.outlet===Jt?-1:t.value.outlet===Jt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,sn.D)(t).pipe(ef(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,a)),Cc(c=>!!c),tf(c=>{if(gM(c))return CL(r,i,a)?mt([]):mt(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!wL(t,r,i,a))return mt(null);let c;if("**"===t.path){const f=i.length>0?$1(i).parameters:{},y=AL(r)+i.length;c=mt({snapshot:new nT(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,RL(t),Sa(t),t.component??t._loadedComponent??null,t,SL(r),y,ML(t),y),consumedSegments:[],remainingSegments:[]})}else c=EL(r,t,i,e).pipe((0,wt.U)(({matched:f,consumedSegments:y,remainingSegments:E,parameters:T})=>{if(!f)return null;const S=AL(r)+y.length;return{snapshot:new nT(y,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,RL(t),Sa(t),t.component??t._loadedComponent??null,t,SL(r),S,ML(t),S),consumedSegments:y,remainingSegments:E}}));return c.pipe(br(f=>{if(null===f)return mt(null);const{snapshot:y,consumedSegments:E,remainingSegments:T}=f;e=t._injector??e;const S=t._loadedInjector??e,O=function _$(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:j,slicedSegments:X}=oT(r,E,T,O.filter(Ae=>void 0===Ae.redirectTo),this.relativeLinkResolution);if(0===X.length&&j.hasChildren())return this.processChildren(S,O,j).pipe((0,wt.U)(Ae=>null===Ae?null:[new nd(y,Ae)]));if(0===O.length&&0===X.length)return mt([new nd(y,[])]);const De=Sa(t)===a;return this.processSegment(S,O,j,X,De?Jt:a).pipe((0,wt.U)(Ae=>null===Ae?null:[new nd(y,Ae)]))}))}}function v$(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function TL(n){const e=[],t=new Set;for(const r of n){if(!v$(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=TL(r.children);e.push(new nd(r.value,i))}return e.filter(r=>!t.has(r))}function SL(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function AL(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function RL(n){return n.data||{}}function ML(n){return n.resolve||{}}function PL(n){return"string"==typeof n.title||null===n.title}function _M(n){return br(e=>{const t=n(e);return t?(0,sn.D)(t).pipe((0,wt.U)(()=>e)):mt(e)})}let NL=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===Jt);return r}getResolvedTitleForRoute(t){return t.data[vE]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:function(){return(0,m.f3M)(kL)},providedIn:"root"}),n})(),kL=(()=>{class n extends NL{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(ua))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class S${}class x$ extends class A${shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const dT=new m.OlP("",{providedIn:"root",factory:()=>({})}),vM=new m.OlP("ROUTES");let IM=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return mt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=nf(t.loadComponent()).pipe((0,ls.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),YR(()=>{this.componentLoaders.delete(t)})),i=new U1(r,()=>new Ta.x).pipe(ZR());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return mt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,wt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,E,T=!1;Array.isArray(f)?E=f:(y=f.create(t).injector,E=H1(y.get(vM,[],m.XFs.Self|m.XFs.Optional)));return{routes:E.map(pM),injector:y}}),YR(()=>{this.childrenLoaders.delete(r)})),c=new U1(a,()=>new Ta.x).pipe(ZR());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return nf(t()).pipe((0,Ms.z)(r=>r instanceof m.YKP||Array.isArray(r)?mt(r):(0,sn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(m.zs3),m.LFG(m.Sil))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class M${}class P${shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function N$(n){throw n}function k$(n,e,t){return e.parse("/")}const O$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},L$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function LL(){const n=(0,m.f3M)(K1),e=(0,m.f3M)(TE),t=(0,m.f3M)(Ee),r=(0,m.f3M)(m.zs3),i=(0,m.f3M)(m.Sil),a=(0,m.f3M)(vM,{optional:!0})??[],c=(0,m.f3M)(dT,{optional:!0})??{},f=(0,m.f3M)(kL),y=(0,m.f3M)(NL,{optional:!0}),E=(0,m.f3M)(M$,{optional:!0}),T=(0,m.f3M)(S$,{optional:!0}),S=new Pi(null,n,e,t,r,i,H1(a));return E&&(S.urlHandlingStrategy=E),T&&(S.routeReuseStrategy=T),S.titleStrategy=y??f,function F$(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,S),S}let Pi=(()=>{class n{constructor(t,r,i,a,c,f,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ta.x,this.errorHandler=N$,this.malformedUriErrorHandler=k$,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>mt(void 0),this.urlHandlingStrategy=new P$,this.routeReuseStrategy=new x$,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(IM),this.configLoader.onLoadEndListener=O=>this.triggerEvent(new _H(O)),this.configLoader.onLoadStartListener=O=>this.triggerEvent(new yH(O)),this.ngModule=c.get(m.h0i),this.console=c.get(m.c2e);const S=c.get(m.R0b);this.isNgZoneEnabled=S instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function jj(){return new vg(new en([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=cL(this.currentUrlTree,this.rootComponentType),this.transitions=new Bo({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Ji(i=>0!==i.id),(0,wt.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),br(i=>{let a=!1,c=!1;return mt(i).pipe((0,ls.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),br(f=>{const y=this.browserUrlTree.toString(),E=!this.navigated||f.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||E)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return FL(f.source)&&(this.browserUrlTree=f.extractedUrl),mt(f).pipe(br(S=>{const O=this.transitions.getValue();return r.next(new iM(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),O!==this.transitions.getValue()?wc.E:Promise.resolve(S)}),function h$(n,e,t,r){return br(i=>function l$(n,e,t,r,i){return new d$(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,wt.U)(a=>({...i,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ls.b)(S=>{this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},i.urlAfterRedirects=S.urlAfterRedirects}),function E$(n,e,t,r,i,a){return(0,Ms.z)(c=>function g$(n,e,t,r,i,a,c="emptyOnly",f="legacy"){return new m$(n,e,t,r,i,c,f,a).recognize().pipe(br(y=>null===y?function p$(n){return new Wi.y(e=>e.error(n))}(new f$):mt(y)))}(n,e,t,c.urlAfterRedirects,r.serialize(c.urlAfterRedirects),r,i,a).pipe((0,wt.U)(f=>({...c,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ls.b)(S=>{if(i.targetSnapshot=S.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const j=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(j,S)}this.browserUrlTree=S.urlAfterRedirects}const O=new hH(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);r.next(O)}));if(E&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:j,source:X,restoredState:De,extras:Ae}=f,Qe=new iM(O,this.serializeUrl(j),X,De);r.next(Qe);const ct=cL(j,this.rootComponentType).snapshot;return mt(i={...f,targetSnapshot:ct,urlAfterRedirects:j,extras:{...Ae,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),wc.E}),(0,ls.b)(f=>{const y=new fH(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(y)}),(0,wt.U)(f=>i={...f,guards:FH(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function ZH(n,e){return(0,Ms.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?mt({...t,guardsResult:!0}):function KH(n,e,t,r){return(0,sn.D)(n).pipe((0,Ms.z)(i=>function t$(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?mt(a.map(f=>{const y=SE(e)??i,E=A_(f,y);return nf(function zH(n){return n&&RE(n.canDeactivate)}(E)?E.canDeactivate(n,e,t,r):y.runInContext(()=>E(n,e,t,r))).pipe(Cc())})).pipe(x_()):mt(!0)}(i.component,i.route,t,e,r)),Cc(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Ms.z)(f=>f&&function jH(n){return"boolean"==typeof n}(f)?function YH(n,e,t,r){return(0,sn.D)(e).pipe(ef(i=>qR(function JH(n,e){return null!==n&&e&&e(new vH(n)),mt(!0)}(i.route.parent,r),function QH(n,e){return null!==n&&e&&e(new EH(n)),mt(!0)}(i.route,r),function e$(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function VH(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>F1(()=>mt(c.guards.map(y=>{const E=SE(c.node)??t,T=A_(y,E);return nf(function GH(n){return n&&RE(n.canActivateChild)}(T)?T.canActivateChild(r,n):E.runInContext(()=>T(r,n))).pipe(Cc())})).pipe(x_())));return mt(a).pipe(x_())}(n,i.path,t),function XH(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return mt(!0);const i=r.map(a=>F1(()=>{const c=SE(e)??t,f=A_(a,c);return nf(function $H(n){return n&&RE(n.canActivate)}(f)?f.canActivate(e,n):c.runInContext(()=>f(e,n))).pipe(Cc())}));return mt(i).pipe(x_())}(n,i.route,t))),Cc(i=>!0!==i,!0))}(r,a,n,e):mt(f)),(0,wt.U)(f=>({...t,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,ls.b)(f=>{if(i.guardsResult=f.guardsResult,Eg(f.guardsResult))throw fL(0,f.guardsResult);const y=new pH(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(y)}),Ji(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),_M(f=>{if(f.guards.canActivateChecks.length)return mt(f).pipe((0,ls.b)(y=>{const E=new gH(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(E)}),br(y=>{let E=!1;return mt(y).pipe(function w$(n,e){return(0,Ms.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return mt(t);let a=0;return(0,sn.D)(i).pipe(ef(c=>function C$(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!PL(i)&&(a[vE]=i.title),function b$(n,e,t,r){const i=function D$(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return mt({});const a={};return(0,sn.D)(i).pipe((0,Ms.z)(c=>function T$(n,e,t,r){const i=SE(e)??r,a=A_(n,i);return nf(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[c],e,t,r).pipe(Cc(),(0,ls.b)(f=>{a[c]=f}))),KR(1),function Fj(n){return(0,wt.U)(()=>n)}(a),tf(c=>gM(c)?wc.E:yE(c)))}(a,n,e,r).pipe((0,wt.U)(c=>(n._resolvedData=c,n.data=lL(n,t).resolve,i&&PL(i)&&(n.data[vE]=i.title),null)))}(c.route,r,n,e)),(0,ls.b)(()=>a++),KR(1),(0,Ms.z)(c=>a===i.length?mt(t):wc.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ls.b)({next:()=>E=!0,complete:()=>{E||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,ls.b)(y=>{const E=new mH(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(E)}))}),_M(f=>{const y=E=>{const T=[];E.routeConfig?.loadComponent&&!E.routeConfig._loadedComponent&&T.push(this.configLoader.loadComponent(E.routeConfig).pipe((0,ls.b)(S=>{E.component=S}),(0,wt.U)(()=>{})));for(const S of E.children)T.push(...y(S));return T};return O1(y(f.targetSnapshot.root)).pipe(gg(),pg(1))}),_M(()=>this.afterPreactivation()),(0,wt.U)(f=>{const y=function TH(n,e,t){const r=DE(n,e._root,t?t._root:void 0);return new uL(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return i={...f,targetRouterState:y}}),(0,ls.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,wt.U)(r=>(new LH(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,ls.b)({next(){a=!0},complete(){a=!0}}),YR(()=>{a||c||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),tf(f=>{if(c=!0,mL(f)){gL(f)||(this.navigated=!0,this.restoreHistory(i,!0));const y=new tT(i.id,this.serializeUrl(i.extractedUrl),f.message,f.cancellationCode);if(r.next(y),gL(f)){const E=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),T={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||FL(i.source)};this.scheduleNavigation(E,"imperative",null,T,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const y=new sL(i.id,this.serializeUrl(i.extractedUrl),f,i.targetSnapshot??void 0);r.next(y);try{i.resolve(this.errorHandler(f))}catch(E){i.reject(E)}}return wc.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const f={...a};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(i.state=f)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,r,a,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(pM),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:c,queryParamsHandling:f,preserveFragment:y}=r,E=i||this.routerState.root,T=y?this.currentUrlTree.fragment:c;let S=null;switch(f){case"merge":S={...this.currentUrlTree.queryParams,...a};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=a||null}return null!==S&&(S=this.removeEmptyProps(S)),oH(E,this.currentUrlTree,t,S,T??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Eg(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function V$(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new m.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...O$}:!1===r?{...L$}:r,Eg(t))return z1(this.currentUrlTree,t,i);const a=this.parseUrl(t);return z1(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new wg(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,c){if(this.disposed)return Promise.resolve(!1);let f,y,E;c?(f=c.resolve,y=c.reject,E=c.promise):E=new Promise((O,j)=>{f=O,y=j});const T=++this.navigationId;let S;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),S=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):S=0,this.setTransition({id:T,targetPageId:S,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:f,reject:y,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(O=>Promise.reject(O))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const a=new tT(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){m.$Z()},n.\u0275prov=m.Yz7({token:n,factory:function(){return LL()},providedIn:"root"}),n})();function FL(n){return"imperative"!==n}let fT=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Ta.x,this.subscription=t.events.subscribe(a=>{a instanceof wg&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,m.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,m.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,m.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,a,c){return!!(0!==t||r||i||a||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(Pi),m.Y36(Cg),m.Y36(ye))},n.\u0275dir=m.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&m.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&m.uIk("target",r.target)("href",r.href,m.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[m.TTD]}),n})();class VL{}let j$=(()=>{class n{constructor(t,r,i,a,c){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Ji(t=>t instanceof wg),ef(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,m.MMx)(a.providers,t,`Route: ${a.path}`));const c=a._injector??t,f=a._loadedInjector??c;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(c,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,sn.D)(i).pipe((0,mE.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):mt(null);const a=i.pipe((0,Ms.z)(c=>null===c?mt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,sn.D)([a,c]).pipe((0,mE.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Pi),m.LFG(m.Sil),m.LFG(m.lqb),m.LFG(VL),m.LFG(IM))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wM=new m.OlP("");let UL=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof iM?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof wg&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof oL&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new oL(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){m.$Z()},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();function R_(n,e){return{\u0275kind:n,\u0275providers:e}}function CM(n){return[{provide:vM,multi:!0,useValue:n}]}function jL(){const n=(0,m.f3M)(m.zs3);return e=>{const t=n.get(m.z2F);if(e!==t.components[0])return;const r=n.get(Pi),i=n.get(HL);1===n.get(bM)&&r.initialNavigation(),n.get($L,null,m.XFs.Optional)?.setUpPreloading(),n.get(wM,null,m.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const HL=new m.OlP("",{factory:()=>new Ta.x}),bM=new m.OlP("",{providedIn:"root",factory:()=>1});function H$(){const n=[{provide:bM,useValue:0},{provide:m.ip1,multi:!0,deps:[m.zs3],useFactory:e=>{const t=e.get(G,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(a=>{const c=e.get(Pi),f=e.get(HL);(function i(a){e.get(Pi).events.pipe(Ji(f=>f instanceof wg||f instanceof tT||f instanceof sL),(0,wt.U)(f=>f instanceof wg||f instanceof tT&&(0===f.code||1===f.code)&&null),Ji(f=>null!==f),pg(1)).subscribe(()=>{a()})})(()=>{a(!0),r=!0}),c.afterPreactivation=()=>(a(!0),r||f.closed?mt(void 0):f),c.initialNavigation()}))}}];return R_(2,n)}function $$(){const n=[{provide:m.ip1,multi:!0,useFactory:()=>{const e=(0,m.f3M)(Pi);return()=>{e.setUpLocationChangeListener()}}},{provide:bM,useValue:2}];return R_(3,n)}const $L=new m.OlP("");function z$(n){return R_(0,[{provide:$L,useExisting:j$},{provide:VL,useExisting:n}])}const GL=new m.OlP("ROUTER_FORROOT_GUARD"),W$=[Ee,{provide:K1,useClass:JR},{provide:Pi,useFactory:LL},TE,{provide:Cg,useFactory:function BL(n){return n.routerState.root},deps:[Pi]},IM];function q$(){return new m.PXZ("Router",Pi)}let DM=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[W$,[],CM(t),{provide:GL,useFactory:Q$,deps:[[Pi,new m.FiY,new m.tp0]]},{provide:dT,useValue:r||{}},r?.useHash?{provide:ye,useClass:Oe}:{provide:ye,useClass:_t},{provide:wM,useFactory:()=>{const n=(0,m.f3M)(Pi),e=(0,m.f3M)(Cu),t=(0,m.f3M)(dT);return t.scrollOffset&&e.setOffset(t.scrollOffset),new UL(n,e,t)}},r?.preloadingStrategy?z$(r.preloadingStrategy).\u0275providers:[],{provide:m.PXZ,multi:!0,useFactory:q$},r?.initialNavigation?J$(r):[],[{provide:zL,useFactory:jL},{provide:m.tb,multi:!0,useExisting:zL}]]}}static forChild(t){return{ngModule:n,providers:[CM(t)]}}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(GL,8))},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[hM]}),n})();function Q$(n){return"guarded"}function J$(n){return["disabled"===n.initialNavigation?$$().\u0275providers:[],"enabledBlocking"===n.initialNavigation?H$().\u0275providers:[]]}const zL=new m.OlP("");function e3(n,e){if(1&n){const t=m.EpF();m.TgZ(0,"div",7)(1,"button",8),m.NdJ("click",function(){m.CHM(t);const i=m.oxw();return m.KtG(i.onLoginClick())}),m._uU(2,"Login / Signup"),m.qZA()()}}function t3(n,e){if(1&n){const t=m.EpF();m.TgZ(0,"div",7)(1,"span"),m._uU(2),m.qZA(),m.TgZ(3,"button",8),m.NdJ("click",function(){m.CHM(t);const i=m.oxw();return m.KtG(i.onSignOutClick())}),m._uU(4,"Sign Out"),m.qZA()()}if(2&n){const t=m.oxw();m.xp6(2),m.hij("Welcome, ",null==t.currentUser?null:t.currentUser.email,"")}}let n3=(()=>{class n{constructor(t){this.authService=t,this.currentUser=null,this.showLoginForm=new m.vpe,this.signOut=new m.vpe}ngOnInit(){this.authService.user$.subscribe(t=>{this.currentUser=t})}onLoginClick(){this.showLoginForm.emit()}onSignOutClick(){this.signOut.emit()}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(gE))},n.\u0275cmp=m.Xpm({type:n,selectors:[["app-navbar"]],inputs:{currentUser:"currentUser"},outputs:{showLoginForm:"showLoginForm",signOut:"signOut"},decls:10,vars:2,consts:[[2,"background","#eee","padding","10px"],[1,"navbar-container"],["routerLink","/",1,"logo"],[1,"nav-links"],["routerLink","/matchup"],["class","auth-section",4,"ngIf","ngIfElse"],["loggedInTemplate",""],[1,"auth-section"],[3,"click"]],template:function(t,r){if(1&t&&(m.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),m._uU(3,"NFL Predictions"),m.qZA(),m.TgZ(4,"div",3)(5,"a",4),m._uU(6,"Matchup Grid"),m.qZA()(),m.YNc(7,e3,3,0,"div",5),m.YNc(8,t3,5,1,"ng-template",null,6,m.W1O),m.qZA()()),2&t){const i=m.MAs(9);m.xp6(7),m.Q6J("ngIf",!r.currentUser)("ngIfElse",i)}},dependencies:[Ma,fT],styles:[".navbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;background-color:#fff;border-bottom:1px solid #ddd;box-shadow:0 2px 4px #0000000d;z-index:1000}.navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 24px;height:60px;max-width:1200px;margin:0 auto}.logo[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#333;text-decoration:none}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 12px;text-decoration:none;color:#555;transition:color .2s}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000}.login-btn[_ngcontent-%COMP%]{padding:6px 12px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer}.login-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.navbar-spacer[_ngcontent-%COMP%]{height:60px}.navbar-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:15px}.logo[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem;text-decoration:none;color:#000}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:10px;text-decoration:none;color:#000}.auth-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}"]}),n})();function r3(n,e){1&n&&m.GkF(0)}function i3(n,e){if(1&n&&(m.TgZ(0,"div",3),m.YNc(1,r3,1,0,"ng-container",4),m.qZA()),2&n){m.oxw();const t=m.MAs(4);m.xp6(1),m.Q6J("ngTemplateOutlet",t)}}function s3(n,e){if(1&n){const t=m.EpF();m.TgZ(0,"input",5),m.NdJ("ngModelChange",function(i){m.CHM(t);const a=m.oxw();return m.KtG(a.email=i)}),m.qZA(),m.TgZ(1,"input",6),m.NdJ("ngModelChange",function(i){m.CHM(t);const a=m.oxw();return m.KtG(a.password=i)}),m.qZA(),m._UZ(2,"br")(3,"br"),m.TgZ(4,"button",7),m.NdJ("click",function(){m.CHM(t);const i=m.oxw();return m.KtG(i.signup())}),m._uU(5,"Sign Up"),m.qZA(),m.TgZ(6,"button",7),m.NdJ("click",function(){m.CHM(t);const i=m.oxw();return m.KtG(i.login())}),m._uU(7,"Log In"),m.qZA(),m.TgZ(8,"button",7),m.NdJ("click",function(){m.CHM(t);const i=m.oxw();return m.KtG(i.showLogin=!1)}),m._uU(9,"Cancel"),m.qZA()}if(2&n){const t=m.oxw();m.Q6J("ngModel",t.email),m.xp6(1),m.Q6J("ngModel",t.password)}}let o3=(()=>{class n{constructor(t){this.auth=t,this.title="nfl-predictions",this.email="",this.password="",this.user$=this.auth.user$,this.showLogin=!1,this.currentUser=null,this.auth.user$.subscribe(r=>{this.currentUser=r})}signup(){this.auth.signup(this.email,this.password).then(()=>{this.clearForm(),this.showLogin=!1})}login(){this.auth.login(this.email,this.password).then(()=>{this.clearForm(),this.showLogin=!1})}logout(){this.auth.logout(),this.showLogin=!0}clearForm(){this.email="",this.password=""}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(gE))},n.\u0275cmp=m.Xpm({type:n,selectors:[["app-root"]],decls:5,vars:2,consts:[[3,"currentUser","showLoginForm","signOut"],["class","login-form",4,"ngIf"],["loginForm",""],[1,"login-form"],[4,"ngTemplateOutlet"],["placeholder","Email",3,"ngModel","ngModelChange"],["type","password","placeholder","Password",3,"ngModel","ngModelChange"],[3,"click"]],template:function(t,r){1&t&&(m.TgZ(0,"app-navbar",0),m.NdJ("showLoginForm",function(){return r.showLogin=!0})("signOut",function(){return r.logout()}),m.qZA(),m._UZ(1,"router-outlet"),m.YNc(2,i3,2,1,"div",1),m.YNc(3,s3,10,2,"ng-template",null,2,m.W1O)),2&t&&(m.Q6J("currentUser",r.currentUser),m.xp6(2),m.Q6J("ngIf",r.showLogin))},dependencies:[Ma,Uc,dM,Zu,Ki,uu,n3]}),n})();function h3(n,e){if(e.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+e.length+" present")}function f3(n){if(null===n||!0===n||!1===n)return NaN;var e=Number(n);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function KL(n,e){var t;h3(1,arguments);var r=f3(null!==(t=e?.additionalDigits)&&void 0!==t?t:2);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof n&&"[object String]"!==Object.prototype.toString.call(n))return new Date(NaN);var a,i=y3(n);if(i.date){var c=_3(i.date,r);a=v3(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var E,f=a.getTime(),y=0;if(i.time&&(y=I3(i.time),isNaN(y)))return new Date(NaN);if(!i.timezone){var T=new Date(f+y),S=new Date(0);return S.setFullYear(T.getUTCFullYear(),T.getUTCMonth(),T.getUTCDate()),S.setHours(T.getUTCHours(),T.getUTCMinutes(),T.getUTCSeconds(),T.getUTCMilliseconds()),S}return E=E3(i.timezone),isNaN(E)?new Date(NaN):new Date(f+y+E)}Math.pow(10,8);var mT={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},p3=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,g3=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,m3=/^([+-])(\d{2})(?::?(\d{2}))?$/;function y3(n){var r,e={},t=n.split(mT.dateTimeDelimiter);if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],mT.timeZoneDelimiter.test(e.date)&&(e.date=n.split(mT.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){var i=mT.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function _3(n,e){var t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:null===a?i:100*a,restDateString:n.slice((r[1]||r[2]).length)}}function v3(n,e){if(null===e)return new Date(NaN);var t=n.match(p3);if(!t)return new Date(NaN);var r=!!t[4],i=PE(t[1]),a=PE(t[2])-1,c=PE(t[3]),f=PE(t[4]),y=PE(t[5])-1;if(r)return function T3(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}(0,f,y)?function w3(n,e,t){var r=new Date(0);r.setUTCFullYear(n,0,4);var a=7*(e-1)+t+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+a),r}(e,f,y):new Date(NaN);var E=new Date(0);return function b3(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(C3[e]||(YL(n)?29:28))}(e,a,c)&&function D3(n,e){return e>=1&&e<=(YL(n)?366:365)}(e,i)?(E.setUTCFullYear(e,a,Math.max(i,c)),E):new Date(NaN)}function PE(n){return n?parseInt(n):1}function I3(n){var e=n.match(g3);if(!e)return NaN;var t=TM(e[1]),r=TM(e[2]),i=TM(e[3]);return function S3(n,e,t){return 24===n?0===e&&0===t:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}(t,r,i)?36e5*t+6e4*r+1e3*i:NaN}function TM(n){return n&&parseFloat(n.replace(",","."))||0}function E3(n){if("Z"===n)return 0;var e=n.match(m3);if(!e)return 0;var t="+"===e[1]?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return function A3(n,e){return e>=0&&e<=59}(0,i)?t*(36e5*r+6e4*i):NaN}var C3=[31,null,31,30,31,30,31,31,30,31,30,31];function YL(n){return n%400==0||n%4==0&&n%100!=0}class QL{}class JL{}class rd{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(c):this.headers.set(a,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof rd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new rd;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof rd?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let c=this.headers.get(t);if(!c)return;c=c.filter(f=>-1===a.indexOf(f)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class x3{encodeKey(e){return XL(e)}encodeValue(e){return XL(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const M3=/%(\d[a-f0-9])/gi,P3={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function XL(n){return encodeURIComponent(n).replace(M3,(e,t)=>P3[t]??e)}function yT(n){return`${n}`}class rf{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new x3,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function R3(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[c,f]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],y=t.get(c)||[];y.push(f),t.set(c,y)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(yT):[yT(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new rf({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(yT(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(yT(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class N3{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function eF(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function tF(n){return typeof Blob<"u"&&n instanceof Blob}function nF(n){return typeof FormData<"u"&&n instanceof FormData}class NE{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function k3(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new rd),this.context||(this.context=new N3),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+c}}else this.params=new rf,this.urlWithParams=t}serializeBody(){return null===this.body?null:eF(this.body)||tF(this.body)||nF(this.body)||function O3(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof rf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||nF(this.body)?null:tF(this.body)?this.body.type||null:eF(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof rf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let y=e.headers||this.headers,E=e.params||this.params;const T=e.context??this.context;return void 0!==e.setHeaders&&(y=Object.keys(e.setHeaders).reduce((S,O)=>S.set(O,e.setHeaders[O]),y)),e.setParams&&(E=Object.keys(e.setParams).reduce((S,O)=>S.set(O,e.setParams[O]),E)),new NE(t,r,a,{params:E,headers:y,context:T,reportProgress:f,responseType:i,withCredentials:c})}}var Yr=(()=>((Yr=Yr||{})[Yr.Sent=0]="Sent",Yr[Yr.UploadProgress=1]="UploadProgress",Yr[Yr.ResponseHeader=2]="ResponseHeader",Yr[Yr.DownloadProgress=3]="DownloadProgress",Yr[Yr.Response=4]="Response",Yr[Yr.User=5]="User",Yr))();class SM{constructor(e,t=200,r="OK"){this.headers=e.headers||new rd,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class AM extends SM{constructor(e={}){super(e),this.type=Yr.ResponseHeader}clone(e={}){return new AM({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class _T extends SM{constructor(e={}){super(e),this.type=Yr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new _T({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class rF extends SM{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function xM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let iF=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof NE)a=t;else{let y,E;y=i.headers instanceof rd?i.headers:new rd(i.headers),i.params&&(E=i.params instanceof rf?i.params:new rf({fromObject:i.params})),a=new NE(t,r,void 0!==i.body?i.body:null,{headers:y,context:i.context,params:E,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=mt(a).pipe(ef(y=>this.handler.handle(y)));if(t instanceof NE||"events"===i.observe)return c;const f=c.pipe(Ji(y=>y instanceof _T));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,wt.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return f.pipe((0,wt.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return f.pipe((0,wt.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return f.pipe((0,wt.U)(y=>y.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new rf).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,xM(i,r))}post(t,r,i={}){return this.request("POST",t,xM(i,r))}put(t,r,i={}){return this.request("PUT",t,xM(i,r))}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(QL))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();class sF{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const oF=new m.OlP("HTTP_INTERCEPTORS");let L3=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const F3=/^\)\]\}',?\n/;let aF=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Wi.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((j,X)=>i.setRequestHeader(j,X.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const j=t.detectContentTypeHeader();null!==j&&i.setRequestHeader("Content-Type",j)}if(t.responseType){const j=t.responseType.toLowerCase();i.responseType="json"!==j?j:"text"}const a=t.serializeBody();let c=null;const f=()=>{if(null!==c)return c;const j=i.statusText||"OK",X=new rd(i.getAllResponseHeaders()),De=function V3(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return c=new AM({headers:X,status:i.status,statusText:j,url:De}),c},y=()=>{let{headers:j,status:X,statusText:De,url:Ae}=f(),Qe=null;204!==X&&(Qe=typeof i.response>"u"?i.responseText:i.response),0===X&&(X=Qe?200:0);let ct=X>=200&&X<300;if("json"===t.responseType&&"string"==typeof Qe){const pt=Qe;Qe=Qe.replace(F3,"");try{Qe=""!==Qe?JSON.parse(Qe):null}catch(Pt){Qe=pt,ct&&(ct=!1,Qe={error:Pt,text:Qe})}}ct?(r.next(new _T({body:Qe,headers:j,status:X,statusText:De,url:Ae||void 0})),r.complete()):r.error(new rF({error:Qe,headers:j,status:X,statusText:De,url:Ae||void 0}))},E=j=>{const{url:X}=f(),De=new rF({error:j,status:i.status||0,statusText:i.statusText||"Unknown Error",url:X||void 0});r.error(De)};let T=!1;const S=j=>{T||(r.next(f()),T=!0);let X={type:Yr.DownloadProgress,loaded:j.loaded};j.lengthComputable&&(X.total=j.total),"text"===t.responseType&&!!i.responseText&&(X.partialText=i.responseText),r.next(X)},O=j=>{let X={type:Yr.UploadProgress,loaded:j.loaded};j.lengthComputable&&(X.total=j.total),r.next(X)};return i.addEventListener("load",y),i.addEventListener("error",E),i.addEventListener("timeout",E),i.addEventListener("abort",E),t.reportProgress&&(i.addEventListener("progress",S),null!==a&&i.upload&&i.upload.addEventListener("progress",O)),i.send(a),r.next({type:Yr.Sent}),()=>{i.removeEventListener("error",E),i.removeEventListener("abort",E),i.removeEventListener("load",y),i.removeEventListener("timeout",E),t.reportProgress&&(i.removeEventListener("progress",S),null!==a&&i.upload&&i.upload.removeEventListener("progress",O)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Bs))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const RM=new m.OlP("XSRF_COOKIE_NAME"),MM=new m.OlP("XSRF_HEADER_NAME");class uF{}let U3=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=pn(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(ge),m.LFG(m.Lbi),m.LFG(RM))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),PM=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const a=this.tokenService.getToken();return null!==a&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,a)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(uF),m.LFG(MM))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),B3=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(oF,[]);this.chain=r.reduceRight((i,a)=>new sF(i,a),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(JL),m.LFG(m.zs3))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),j3=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:PM,useClass:L3}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:RM,useValue:t.cookieName}:[],t.headerName?{provide:MM,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:[PM,{provide:oF,useExisting:PM,multi:!0},{provide:uF,useClass:U3},{provide:RM,useValue:"XSRF-TOKEN"},{provide:MM,useValue:"X-XSRF-TOKEN"}]}),n})(),H3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:[iF,{provide:QL,useClass:B3},aF,{provide:JL,useExisting:aF}],imports:[j3.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),cF=(()=>{class n{constructor(t){this.http=t,this.matchups=[],this.seasonStart=KL("2025-09-05T00:00:00Z")}loadMatchups(){return this.http.get("assets/raw-matchups.json").pipe((0,wt.U)(t=>t.map(this.transformMatchup.bind(this)).filter(r=>!!r)))}transformMatchup(t){const r=t.home_team,i=t.away_team,a=KL(t.commence_time),c=t.bookmakers?.[0]?.markets?.find(X=>"h2h"===X.key);if(!c)return null;const f=c.outcomes.find(X=>X.name===r),y=c.outcomes.find(X=>X.name===i);if(!f||!y)return null;a.getUTCDay();const T=new Date(this.seasonStart);if(a<T)return null;let S=1;const j=a.getTime()-T.getTime();return S=Math.floor(j/6048e5)+1,{week:S,home:r,away:i,homeMoneyline:f.price,awayMoneyline:y.price}}setMatchups(t){this.matchups=t}getMatchups(){return this.matchups}saveMatchup(t){const r=this.matchups.findIndex(i=>i.week===t.week&&i.home===t.home&&i.away===t.away);r>=0?this.matchups[r]={...this.matchups[r],...t}:this.matchups.push(t)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(iF))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lF_firebase={apiKey:"AIzaSyA0vnVzfdsQ0EmI-FxOdDU1d-7Qn_aa184",authDomain:"nfl-predictions-6c863.firebaseapp.com",projectId:"nfl-predictions-6c863",storageBucket:"nfl-predictions-6c863.firebasestorage.app",messagingSenderId:"838320836103",appId:"1:838320836103:web:8d6bc91928f266bc13a4a2"};var $3=U(4986);function NM(){return(0,cs.e)((n,e)=>{let t,r=!1;n.subscribe((0,on.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function z3(n,e){return n===e}U(8463),U(6101);var et,q3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mu={},kM=kM||{},$t=q3||self;function vT(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function kE(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var OM="closure_uid_"+(1e9*Math.random()>>>0),K3=0;function Y3(n,e,t){return n.call.apply(n.bind,arguments)}function Q3(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ds(n,e,t){return(ds=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Y3:Q3).apply(null,arguments)}function IT(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function sf(){this.s=this.s,this.o=this.o}sf.prototype.s=!1,sf.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Z3(n){Object.prototype.hasOwnProperty.call(n,OM)&&n[OM]||(n[OM]=++K3)}(this)},sf.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const dF=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function LM(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function hF(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(vT(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let c=0;c<a;c++)n[i+c]=r[c]}else n.push(r)}}function hs(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}hs.prototype.h=function(){this.defaultPrevented=!0};var X3=function(){if(!$t.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{$t.addEventListener("test",()=>{},e),$t.removeEventListener("test",()=>{},e)}catch{}return n}();function OE(n){return/^[\s\xa0]*$/.test(n)}function ET(){var n=$t.navigator;return n&&(n=n.userAgent)?n:""}function Tc(n){return-1!=ET().indexOf(n)}function FM(n){return FM[" "](n),n}FM[" "]=function(){};var UM,t6=Tc("Opera"),M_=Tc("Trident")||Tc("MSIE"),fF=Tc("Edge"),VM=fF||M_,pF=Tc("Gecko")&&!(-1!=ET().toLowerCase().indexOf("webkit")&&!Tc("Edge"))&&!(Tc("Trident")||Tc("MSIE"))&&!Tc("Edge"),n6=-1!=ET().toLowerCase().indexOf("webkit")&&!Tc("Edge");function gF(){var n=$t.document;return n?n.documentMode:void 0}e:{var BM="",jM=function(){var n=ET();return pF?/rv:([^\);]+)(\)|;)/.exec(n):fF?/Edge\/([\d\.]+)/.exec(n):M_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):n6?/WebKit\/(\S+)/.exec(n):t6?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(jM&&(BM=jM?jM[1]:""),M_){var HM=gF();if(null!=HM&&HM>parseFloat(BM)){UM=String(HM);break e}}UM=BM}var r6=$t.document&&M_&&(gF()||parseInt(UM,10))||void 0;function LE(n,e){if(hs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(pF){e:{try{FM(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:i6[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&LE.$.h.call(this)}}var i6={2:"touch",3:"pen",4:"mouse"};LE.prototype.h=function(){LE.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var FE="closure_listenable_"+(1e6*Math.random()|0),s6=0;function o6(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++s6,this.fa=this.ia=!1}function wT(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function GM(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function yF(n){const e={};for(const t in n)e[t]=n[t];return e}const _F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vF(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<_F.length;a++)t=_F[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function CT(n){this.src=n,this.g={},this.h=0}function zM(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=dF(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(wT(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function WM(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return i}return-1}CT.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=WM(n,e,r,i);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new o6(e,this.src,a,!!r,i)).ia=t,n.push(e)),e};var qM="closure_lm_"+(1e6*Math.random()|0),ZM={};function IF(n,e,t,r,i){if(r&&r.once)return wF(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)IF(n,e[a],t,r,i);return null}return t=JM(t),n&&n[FE]?n.O(e,t,kE(r)?!!r.capture:!!r,i):EF(n,e,t,!1,r,i)}function EF(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var c=kE(i)?!!i.capture:!!i,f=YM(n);if(f||(n[qM]=f=new CT(n)),(t=f.add(e,t,r,c,a)).proxy)return t;if(r=function u6(){const e=c6;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)X3||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(bF(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function wF(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)wF(n,e[a],t,r,i);return null}return t=JM(t),n&&n[FE]?n.P(e,t,kE(r)?!!r.capture:!!r,i):EF(n,e,t,!0,r,i)}function CF(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)CF(n,e[a],t,r,i);else r=kE(r)?!!r.capture:!!r,t=JM(t),n&&n[FE]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=WM(a=n.g[e],t,r,i))&&(wT(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=YM(n))&&(e=n.g[e.toString()],n=-1,e&&(n=WM(e,t,r,i)),(t=-1<n?e[n]:null)&&KM(t))}function KM(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[FE])zM(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(bF(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=YM(e))?(zM(t,n),0==t.h&&(t.src=null,e[qM]=null)):wT(n)}}}function bF(n){return n in ZM?ZM[n]:ZM[n]="on"+n}function c6(n,e){if(n.fa)n=!0;else{e=new LE(e,this);var t=n.listener,r=n.la||n.src;n.ia&&KM(n),n=t.call(r,e)}return n}function YM(n){return(n=n[qM])instanceof CT?n:null}var QM="__closure_events_fn_"+(1e9*Math.random()>>>0);function JM(n){return"function"==typeof n?n:(n[QM]||(n[QM]=function(e){return n.handleEvent(e)}),n[QM])}function ki(){sf.call(this),this.i=new CT(this),this.S=this,this.J=null}function es(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new hs(e,n);else if(e instanceof hs)e.target=e.target||n;else{var i=e;vF(e=new hs(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];i=bT(c,r,!0,e)&&i}if(i=bT(c=e.g=n,r,!0,e)&&i,i=bT(c,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=bT(c=e.g=t[a],r,!1,e)&&i}function bT(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.fa&&c.capture==t){var f=c.listener,y=c.la||c.src;c.ia&&zM(n.i,c),i=!1!==f.call(y,r)&&i}}return i&&!r.defaultPrevented}ki.prototype[FE]=!0,ki.prototype.removeEventListener=function(n,e,t,r){CF(this,n,e,t,r)},ki.prototype.N=function(){if(ki.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)wT(t[r]);delete n.g[e],n.h--}}this.J=null},ki.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ki.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var XM=$t.JSON.stringify;class l6{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function d6(){var n=eP;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}class h6{constructor(){this.h=this.g=null}add(e,t){const r=DF.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}}var DF=new l6(()=>new f6,n=>n.reset());class f6{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function p6(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function g6(n){$t.setTimeout(()=>{throw n},0)}let VE,UE=!1,eP=new h6,TF=()=>{const n=$t.Promise.resolve(void 0);VE=()=>{n.then(m6)}};var m6=()=>{for(var n;n=d6();){try{n.h.call(n.g)}catch(t){g6(t)}var e=DF;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}UE=!1};function DT(n,e){ki.call(this),this.h=n||1,this.g=e||$t,this.j=ds(this.qb,this),this.l=Date.now()}function tP(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function nP(n,e,t){if("function"==typeof n)t&&(n=ds(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ds(n.handleEvent,n)}return 2147483647<Number(e)?-1:$t.setTimeout(n,e||0)}function SF(n){n.g=nP(()=>{n.g=null,n.i&&(n.i=!1,SF(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}(et=DT.prototype).ga=!1,et.T=null,et.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),es(this,"tick"),this.ga&&(tP(this),this.start()))}},et.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},et.N=function(){DT.$.N.call(this),tP(this),delete this.g};class y6 extends sf{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:SF(this)}N(){super.N(),this.g&&($t.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function BE(n){sf.call(this),this.h=n,this.g={}}var AF=[];function xF(n,e,t,r){Array.isArray(t)||(t&&(AF[0]=t.toString()),t=AF);for(var i=0;i<t.length;i++){var a=IF(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function RF(n){GM(n.g,function(e,t){this.g.hasOwnProperty(t)&&KM(e)},n),n.g={}}function TT(){this.g=!0}function P_(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function E6(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<i.length;c++)i[c]=""}}}return XM(t)}catch{return e}}(n,t)+(r?" "+r:"")})}BE.prototype.N=function(){BE.$.N.call(this),RF(this)},BE.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},TT.prototype.Ea=function(){this.g=!1},TT.prototype.info=function(){};var bg={},MF=null;function ST(){return MF=MF||new ki}function PF(n){hs.call(this,bg.Ta,n)}function jE(n){const e=ST();es(e,new PF(e))}function NF(n,e){hs.call(this,bg.STAT_EVENT,n),this.stat=e}function Ps(n){const e=ST();es(e,new NF(e,n))}function kF(n,e){hs.call(this,bg.Ua,n),this.size=e}function HE(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return $t.setTimeout(function(){n()},e)}bg.Ta="serverreachability",bg.STAT_EVENT="statevent",bg.Ua="timingevent";var AT={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},OF={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function FF(){}var oP,$E={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function iP(){hs.call(this,"d")}function sP(){hs.call(this,"c")}function xT(){}function GE(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new BE(this),this.P=w6,this.V=new DT(n=VM?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new VF}function VF(){this.i=null,this.g="",this.h=!1}xT.prototype.g=function(){return new XMLHttpRequest},xT.prototype.i=function(){return{}},oP=new xT;var w6=45e3,aP={},RT={};function uP(n,e,t){n.L=1,n.v=kT(id(e)),n.s=t,n.S=!0,UF(n,null)}function UF(n,e){n.G=Date.now(),zE(n),n.A=id(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),KF(t.i,"t",r),n.C=0,t=n.l.J,n.h=new VF,n.g=v2(n.l,t?e:null,!n.s),0<n.O&&(n.M=new y6(ds(n.Pa,n,n.g),n.O)),xF(n.U,n.g,"readystatechange",n.nb),e=n.I?yF(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),jE(),function _6(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var c="",f=a.split("&"),y=0;y<f.length;y++){var E=f[y].split("=");if(1<E.length){var T=E[0];E=E[1];var S=T.split("_");c=2<=S.length&&"type"==S[1]?c+(T+"=")+E+"&":c+(T+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function BF(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function jF(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=C6(n,t),i==RT){4==e&&(n.o=4,Ps(14),r=!1),P_(n.j,n.m,null,"[Incomplete Response]");break}if(i==aP){n.o=4,Ps(15),P_(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}P_(n.j,n.m,i,null),cP(n,i)}BF(n)&&i!=RT&&i!=aP&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ps(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),mP(e),e.M=!0,Ps(11))):(P_(n.j,n.m,t,"[Invalid Chunked Response]"),Dg(n),WE(n))}function C6(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?RT:(t=Number(e.substring(t,r)),isNaN(t)?aP:(r+=1)+t>e.length?RT:(e=e.slice(r,r+t),n.C=r+t,e))}function zE(n){n.Y=Date.now()+n.P,HF(n,n.P)}function HF(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=HE(ds(n.lb,n),e)}function MT(n){n.B&&($t.clearTimeout(n.B),n.B=null)}function WE(n){0==n.l.H||n.J||g2(n.l,n)}function Dg(n){MT(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,tP(n.V),RF(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function cP(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||lP(t.i,n)))if(!n.K&&lP(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;BT(t),VT(t)}gP(t),Ps(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=HE(ds(t.ib,t),6e3));if(1>=JF(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Sg(t,11)}else if((n.K||t.g==n)&&BT(t),!OE(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let E=i[e];if(t.V=E[0],E=E[1],2==t.H)if("c"==E[0]){t.K=E[1],t.pa=E[2];const T=E[3];null!=T&&(t.ra=T,t.l.info("VER="+t.ra));const S=E[4];null!=S&&(t.Ga=S,t.l.info("SVER="+t.Ga));const O=E[5];null!=O&&"number"==typeof O&&0<O&&(t.L=r=1.5*O,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const j=n.g;if(j){const X=j.g?j.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(X){var a=r.i;a.g||-1==X.indexOf("spdy")&&-1==X.indexOf("quic")&&-1==X.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(dP(a,a.h),a.h=null))}if(r.F){const De=j.g?j.g.getResponseHeader("X-HTTP-Session-Id"):null;De&&(r.Da=De,ir(r.I,r.F,De))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=_2(r,r.J?r.pa:null,r.Y),c.K){XF(r.i,c);var f=c,y=r.L;y&&f.setTimeout(y),f.B&&(MT(f),zE(f)),r.g=c}else f2(r);0<t.j.length&&UT(t)}else"stop"!=E[0]&&"close"!=E[0]||Sg(t,7);else 3==t.H&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?Sg(t,7):pP(t):"noop"!=E[0]&&t.h&&t.h.Aa(E),t.A=0)}jE()}catch{}}function $F(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(vT(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function D6(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(vT(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function b6(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(vT(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(et=GE.prototype).setTimeout=function(n){this.P=n},et.nb=function(n){n=n.target;const e=this.M;e&&3==Sc(n)?e.l():this.Pa(n)},et.Pa=function(n){try{if(n==this.g)e:{const T=Sc(this.g);var e=this.g.Ia();if(this.g.da(),!(3>T)&&(3!=T||VM||this.g&&(this.h.h||this.g.ja()||a2(this.g)))){this.J||4!=T||7==e||jE(),MT(this);var t=this.g.da();this.ca=t;t:if(BF(this)){var r=a2(this.g);n="";var i=r.length,a=4==Sc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Dg(this),WE(this);var c="";break t}this.h.i=new $t.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function v6(n,e,t,r,i,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.W,T,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,y=this.g;if((f=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!OE(f)){var E=f;break t}}E=null}if(!(t=E)){this.i=!1,this.o=3,Ps(12),Dg(this),WE(this);break e}P_(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cP(this,t)}this.S?(jF(this,T,c),VM&&this.i&&3==T&&(xF(this.U,this.V,"tick",this.mb),this.V.start())):(P_(this.j,this.m,c,null),cP(this,c)),4==T&&Dg(this),this.i&&!this.J&&(4==T?g2(this.l,this):(this.i=!1,zE(this)))}else(function $6(n){const e={};n=(n.g&&2<=Sc(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(OE(n[r]))continue;var t=p6(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const a=e[i]||[];e[i]=a,a.push(t)}!function a6(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Ps(12)):(this.o=0,Ps(13)),Dg(this),WE(this)}}}catch{}},et.mb=function(){if(this.g){var n=Sc(this.g),e=this.g.ja();this.C<e.length&&(MT(this),jF(this,n,e),this.i&&4!=n&&zE(this))}},et.cancel=function(){this.J=!0,Dg(this)},et.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function I6(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(jE(),Ps(17)),Dg(this),this.o=2,WE(this)):HF(this,this.Y-n)};var GF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tg(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Tg){this.h=n.h,PT(this,n.j),this.s=n.s,this.g=n.g,NT(this,n.m),this.l=n.l;var e=n.i,t=new KE;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),zF(this,t),this.o=n.o}else n&&(e=String(n).match(GF))?(this.h=!1,PT(this,e[1]||"",!0),this.s=qE(e[2]||""),this.g=qE(e[3]||"",!0),NT(this,e[4]),this.l=qE(e[5]||"",!0),zF(this,e[6]||"",!0),this.o=qE(e[7]||"")):(this.h=!1,this.i=new KE(null,this.h))}function id(n){return new Tg(n)}function PT(n,e,t){n.j=t?qE(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function NT(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function zF(n,e,t){e instanceof KE?(n.i=e,function P6(n,e){e&&!n.j&&(af(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(qF(this,r),KF(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=ZE(e,R6)),n.i=new KE(e,n.h))}function ir(n,e,t){n.i.set(e,t)}function kT(n){return ir(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function qE(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ZE(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,S6),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function S6(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Tg.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ZE(e,WF,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ZE(e,WF,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(ZE(t,"/"==t.charAt(0)?x6:A6,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ZE(t,M6)),n.join("")};var WF=/[#\/\?@]/g,A6=/[#\?:]/g,x6=/[#\?]/g,R6=/[#\?@]/g,M6=/#/g;function KE(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function af(n){n.g||(n.g=new Map,n.h=0,n.i&&function T6(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function qF(n,e){af(n),e=N_(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function ZF(n,e){return af(n),e=N_(n,e),n.g.has(e)}function KF(n,e,t){qF(n,e),0<t.length&&(n.i=null,n.g.set(N_(n,e),LM(t)),n.h+=t.length)}function N_(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function YF(n){this.l=n||k6,n=$t.PerformanceNavigationTiming?0<(n=$t.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!($t.g&&$t.g.Ka&&$t.g.Ka()&&$t.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(et=KE.prototype).add=function(n,e){af(this),this.i=null,n=N_(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},et.forEach=function(n,e){af(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},et.ta=function(){af(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},et.Z=function(n){af(this);let e=[];if("string"==typeof n)ZF(this,n)&&(e=e.concat(this.g.get(N_(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},et.set=function(n,e){return af(this),this.i=null,ZF(this,n=N_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},et.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},et.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var i=a;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var k6=10;function QF(n){return!!n.h||!!n.g&&n.g.size>=n.j}function JF(n){return n.h?1:n.g?n.g.size:0}function lP(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function dP(n,e){n.g?n.g.add(e):n.h=e}function XF(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function e2(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return LM(n.i)}function L6(){this.g=new class{stringify(n){return $t.JSON.stringify(n,void 0)}parse(n){return $t.JSON.parse(n,void 0)}}}function F6(n,e,t){const r=t||"";try{$F(n,function(i,a){let c=i;kE(i)&&(c=XM(i)),e.push(r+a+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function OT(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function YE(n){this.l=n.fc||null,this.j=n.ob||!1}function LT(n,e){ki.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=hP,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}YF.prototype.cancel=function(){if(this.i=e2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},YE.prototype.g=function(){return new LT(this.l,this.j)},YE.prototype.i=function(n){return function(){return n}}({});var hP=0;function t2(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function QE(n){n.readyState=4,n.l=null,n.j=null,n.A=null,JE(n)}function JE(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(et=LT.prototype).open=function(n,e){if(this.readyState!=hP)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,JE(this)},et.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||$t).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,QE(this)),this.readyState=hP},et.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,JE(this)),this.g&&(this.readyState=3,JE(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof $t.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;t2(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},et.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?QE(this):JE(this),3==this.readyState&&t2(this)}},et.Za=function(n){this.g&&(this.response=this.responseText=n,QE(this))},et.Ya=function(n){this.g&&(this.response=n,QE(this))},et.ka=function(){this.g&&QE(this)},et.setRequestHeader=function(n,e){this.v.append(n,e)},et.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},et.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")};var U6=$t.JSON.parse;function Dr(n){ki.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=n2,this.L=this.M=!1}var n2="",B6=/^https?$/i,j6=["POST","PUT"];function r2(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,i2(n),FT(n)}function i2(n){n.F||(n.F=!0,es(n,"complete"),es(n,"error"))}function s2(n){if(n.h&&typeof kM<"u"&&(!n.C[1]||4!=Sc(n)||2!=n.da()))if(n.v&&4==Sc(n))nP(n.La,0,n);else if(es(n,"readystatechange"),4==Sc(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===c){var i=String(n.I).match(GF)[1]||null;!i&&$t.self&&$t.self.location&&(i=$t.self.location.protocol.slice(0,-1)),r=!B6.test(i?i.toLowerCase():"")}t=r}if(t)es(n,"complete"),es(n,"success");else{n.m=6;try{var a=2<Sc(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",i2(n)}}finally{FT(n)}}}function FT(n,e){if(n.g){o2(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||es(n,"ready");try{t.onreadystatechange=r}catch{}}}function o2(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&($t.clearTimeout(n.A),n.A=null)}function Sc(n){return n.g?n.g.readyState:0}function a2(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case n2:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function u2(n){let e="";return GM(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function fP(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=u2(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ir(n,e,t))}function XE(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function c2(n){this.Ga=0,this.j=[],this.l=new TT,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=XE("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=XE("baseRetryDelayMs",5e3,n),this.hb=XE("retryDelaySeedMs",1e4,n),this.eb=XE("forwardChannelMaxRetries",2,n),this.xa=XE("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new YF(n&&n.concurrentRequestLimit),this.Ja=new L6,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function pP(n){if(l2(n),3==n.H){var e=n.W++,t=id(n.I);if(ir(t,"SID",n.K),ir(t,"RID",e),ir(t,"TYPE","terminate"),ew(n,t),(e=new GE(n,n.l,e)).L=2,e.v=kT(id(t)),t=!1,$t.navigator&&$t.navigator.sendBeacon)try{t=$t.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&$t.Image&&((new Image).src=e.v,t=!0),t||(e.g=v2(e.l,null),e.g.ha(e.v)),e.G=Date.now(),zE(e)}y2(n)}function VT(n){n.g&&(mP(n),n.g.cancel(),n.g=null)}function l2(n){VT(n),n.u&&($t.clearTimeout(n.u),n.u=null),BT(n),n.i.cancel(),n.m&&("number"==typeof n.m&&$t.clearTimeout(n.m),n.m=null)}function UT(n){if(!QF(n.i)&&!n.m){n.m=!0;var e=n.Na;VE||TF(),UE||(VE(),UE=!0),eP.add(e,n),n.C=0}}function d2(n,e){var t;t=e?e.m:n.W++;const r=id(n.I);ir(r,"SID",n.K),ir(r,"RID",t),ir(r,"AID",n.V),ew(n,r),n.o&&n.s&&fP(r,n.o,n.s),t=new GE(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=h2(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),dP(n.i,t),uP(t,r,e)}function ew(n,e){n.na&&GM(n.na,function(t,r){ir(e,r,t)}),n.h&&$F({},function(t,r){ir(e,r,t)})}function h2(n,e,t){t=Math.min(n.j.length,t);var r=n.h?ds(n.h.Va,n.h,n):null;e:{var i=n.j;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=i[0].g,c.push("ofs="+a)):a=0:c.push("ofs="+a);let f=!0;for(let y=0;y<t;y++){let E=i[y].g;const T=i[y].map;if(E-=a,0>E)a=Math.max(0,i[y].g-100),f=!1;else try{F6(T,c,"req"+E+"_")}catch{r&&r(T)}}if(f){r=c.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function f2(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;VE||TF(),UE||(VE(),UE=!0),eP.add(e,n),n.A=0}}function gP(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=HE(ds(n.Ma,n),m2(n,n.A)),n.A++,0))}function mP(n){null!=n.B&&($t.clearTimeout(n.B),n.B=null)}function p2(n){n.g=new GE(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=id(n.wa);ir(e,"RID","rpc"),ir(e,"SID",n.K),ir(e,"AID",n.V),ir(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&ir(e,"TO",n.qa),ir(e,"TYPE","xmlhttp"),ew(n,e),n.o&&n.s&&fP(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=kT(id(e)),t.s=null,t.S=!0,UF(t,n)}function BT(n){null!=n.v&&($t.clearTimeout(n.v),n.v=null)}function g2(n,e){var t=null;if(n.g==e){BT(n),mP(n),n.g=null;var r=2}else{if(!lP(n.i,e))return;t=e.F,XF(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;es(r=ST(),new kF(r,t)),UT(n)}else f2(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function G6(n,e){return!(JF(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=HE(ds(n.Na,n,e),m2(n,n.C)),n.C++,0)))}(n,e)||2==r&&gP(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Sg(n,5);break;case 4:Sg(n,10);break;case 3:Sg(n,6);break;default:Sg(n,2)}}function m2(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Sg(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=ds(n.pb,n);t||(t=new Tg("//www.google.com/images/cleardot.gif"),$t.location&&"http"==$t.location.protocol||PT(t,"https"),kT(t)),function V6(n,e){const t=new TT;if($t.Image){const r=new Image;r.onload=IT(OT,t,r,"TestLoadImage: loaded",!0,e),r.onerror=IT(OT,t,r,"TestLoadImage: error",!1,e),r.onabort=IT(OT,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=IT(OT,t,r,"TestLoadImage: timeout",!1,e),$t.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ps(2);n.H=0,n.h&&n.h.za(e),y2(n),l2(n)}function y2(n){if(n.H=0,n.ma=[],n.h){const e=e2(n.i);(0!=e.length||0!=n.j.length)&&(hF(n.ma,e),hF(n.ma,n.j),n.i.i.length=0,LM(n.j),n.j.length=0),n.h.ya()}}function _2(n,e,t){var r=t instanceof Tg?id(t):new Tg(t);if(""!=r.g)e&&(r.g=e+"."+r.g),NT(r,r.m);else{var i=$t.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new Tg(null);r&&PT(a,r),e&&(a.g=e),i&&NT(a,i),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&ir(r,t,e),ir(r,"VER",n.ra),ew(n,r),r}function v2(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Dr(t&&n.Ha&&!n.va?new YE({ob:!0}):n.va)).Oa(n.J),e}function jT(){if(M_&&!(10<=Number(r6)))throw Error("Environmental error: no available transport.")}function Ho(n,e){ki.call(this),this.g=new c2(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!OE(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!OE(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new k_(this)}function E2(n){iP.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function w2(){sP.call(this),this.status=1}function k_(n){this.g=n}function yu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function yP(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],c=(e=n.g[0])+(a^(t=n.g[1])&((i=n.g[2])^a))+r[0]+3614090360&4294967295;c=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=t+(c<<7&4294967295|c>>>25))+((c=a+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=a+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=a+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=a+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(i^a&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^a&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^a&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^a&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=i+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=i+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^a)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=i+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^a^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=i+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(i^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((a=(e=t+((c=e+(i^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((i=a+((c=i+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+a&4294967295}function Nn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var a=0|n[i];r&&a==e||(t[i]=a,r=!1)}this.g=t}(et=Dr.prototype).Oa=function(n){this.M=n},et.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():oP.g(),this.C=function LF(n){return n.h||(n.h=n.i())}(this.u?this.u:oP),this.g.onreadystatechange=ds(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void r2(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=$t.FormData&&n instanceof $t.FormData,!(0<=dF(j6,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of t)this.g.setRequestHeader(a,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{o2(this),0<this.B&&((this.L=function H6(n){return M_&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ds(this.ua,this)):this.A=nP(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){r2(this,a)}},et.ua=function(){typeof kM<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,es(this,"timeout"),this.abort(8))},et.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,es(this,"complete"),es(this,"abort"),FT(this))},et.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),FT(this,!0)),Dr.$.N.call(this)},et.La=function(){this.s||(this.G||this.v||this.l?s2(this):this.kb())},et.kb=function(){s2(this)},et.isActive=function(){return!!this.g},et.da=function(){try{return 2<Sc(this)?this.g.status:-1}catch{return-1}},et.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},et.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),U6(e)}},et.Ia=function(){return this.m},et.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(et=c2.prototype).ra=8,et.H=1,et.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new GE(this,this.l,n);let a=this.s;if(this.U&&(a?(a=yF(a),vF(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=h2(this,i,e),ir(t=id(this.I),"RID",n),ir(t,"CVER",22),this.F&&ir(t,"X-HTTP-Session-Id",this.F),ew(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(u2(a)))+"&"+e:this.o&&fP(t,this.o,a)),dP(this.i,i),this.bb&&ir(t,"TYPE","init"),this.P?(ir(t,"$req",e),ir(t,"SID","null"),i.aa=!0,uP(i,t,null)):uP(i,t,e),this.H=2}}else 3==this.H&&(n?d2(this,n):0==this.j.length||QF(this.i)||d2(this))},et.Ma=function(){if(this.u=null,p2(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=HE(ds(this.jb,this),n)}},et.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ps(10),VT(this),p2(this))},et.ib=function(){null!=this.v&&(this.v=null,VT(this),gP(this),Ps(19))},et.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Ps(2)):(this.l.info("Failed to ping google.com"),Ps(1))},et.isActive=function(){return!!this.h&&this.h.isActive(this)},(et=function I2(){}.prototype).Ba=function(){},et.Aa=function(){},et.za=function(){},et.ya=function(){},et.isActive=function(){return!0},et.Va=function(){},jT.prototype.g=function(n,e){return new Ho(n,e)},Ho.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Ps(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=_2(n,null,n.Y),UT(n)},Ho.prototype.close=function(){pP(this.g)},Ho.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=XM(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&UT(e)},Ho.prototype.N=function(){this.g.h=null,delete this.j,pP(this.g),delete this.g,Ho.$.N.call(this)},k_.prototype.Ba=function(){es(this.g,"a")},k_.prototype.Aa=function(n){es(this.g,new E2(n))},k_.prototype.za=function(n){es(this.g,new w2)},k_.prototype.ya=function(){es(this.g,"b")},yu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},yu.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,a=0;a<e;){if(0==i)for(;a<=t;)yP(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[i++]=n.charCodeAt(a++),i==this.blockSize){yP(this,r),i=0;break}}else for(;a<e;)if(r[i++]=n[a++],i==this.blockSize){yP(this,r),i=0;break}}this.h=i,this.i+=e},yu.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var W6={};function _P(n){return-128<=n&&128>n?function e6(n,e){var t=W6;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Nn([0|e],0>e?-1:0)}):new Nn([0|n],0>n?-1:0)}function Ac(n){if(isNaN(n)||!isFinite(n))return O_;if(0>n)return ts(Ac(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=vP;return new Nn(e,0)}var vP=4294967296,O_=_P(0),IP=_P(1),b2=_P(16777216);function sd(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Aa(n){return-1==n.h}function ts(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Nn(t,~n.h).add(IP)}function HT(n,e){return n.add(ts(e))}function $T(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function tw(n,e){this.g=n,this.h=e}function GT(n,e){if(sd(e))throw Error("division by zero");if(sd(n))return new tw(O_,O_);if(Aa(n))return e=GT(ts(n),e),new tw(ts(e.g),ts(e.h));if(Aa(e))return e=GT(n,ts(e)),new tw(ts(e.g),e.h);if(30<n.g.length){if(Aa(n)||Aa(e))throw Error("slowDivide_ only works with positive integers.");for(var t=IP,r=e;0>=r.X(n);)t=D2(t),r=D2(r);var i=L_(t,1),a=L_(r,1);for(r=L_(r,2),t=L_(t,2);!sd(r);){var c=a.add(r);0>=c.X(n)&&(i=i.add(t),a=c),r=L_(r,1),t=L_(t,1)}return e=HT(n,i.R(e)),new tw(i,e)}for(i=O_;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(a=Ac(t)).R(e);Aa(c)||0<c.X(n);)c=(a=Ac(t-=r)).R(e);sd(a)&&(a=IP),i=i.add(a),n=HT(n,c)}return new tw(i,n)}function D2(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Nn(t,n.h)}function L_(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],a=0;a<r;a++)i[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new Nn(i,n.h)}(et=Nn.prototype).ea=function(){if(Aa(this))return-ts(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:vP+r)*e,e*=vP}return n},et.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(sd(this))return"0";if(Aa(this))return"-"+ts(this).toString(n);for(var e=Ac(Math.pow(n,6)),t=this,r="";;){var i=GT(t,e).g,a=((0<(t=HT(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(sd(t=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},et.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},et.X=function(n){return Aa(n=HT(this,n))?-1:sd(n)?0:1},et.abs=function(){return Aa(this)?ts(this):this},et.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var a=r+(65535&this.D(i))+(65535&n.D(i)),c=(a>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=c>>>16,t[i]=(c&=65535)<<16|(a&=65535)}return new Nn(t,-2147483648&t[t.length-1]?-1:0)},et.R=function(n){if(sd(this)||sd(n))return O_;if(Aa(this))return Aa(n)?ts(this).R(ts(n)):ts(ts(this).R(n));if(Aa(n))return ts(this.R(ts(n)));if(0>this.X(b2)&&0>n.X(b2))return Ac(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var a=this.D(r)>>>16,c=65535&this.D(r),f=n.D(i)>>>16,y=65535&n.D(i);t[2*r+2*i]+=c*y,$T(t,2*r+2*i),t[2*r+2*i+1]+=a*y,$T(t,2*r+2*i+1),t[2*r+2*i+1]+=c*f,$T(t,2*r+2*i+1),t[2*r+2*i+2]+=a*f,$T(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Nn(t,0)},et.gb=function(n){return GT(this,n).h},et.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Nn(t,this.h&n.h)},et.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Nn(t,this.h|n.h)},et.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Nn(t,this.h^n.h)},jT.prototype.createWebChannel=jT.prototype.g,Ho.prototype.send=Ho.prototype.u,Ho.prototype.open=Ho.prototype.m,Ho.prototype.close=Ho.prototype.close,AT.NO_ERROR=0,AT.TIMEOUT=8,AT.HTTP_ERROR=6,OF.COMPLETE="complete",FF.EventType=$E,$E.OPEN="a",$E.CLOSE="b",$E.ERROR="c",$E.MESSAGE="d",ki.prototype.listen=ki.prototype.O,Dr.prototype.listenOnce=Dr.prototype.P,Dr.prototype.getLastError=Dr.prototype.Sa,Dr.prototype.getLastErrorCode=Dr.prototype.Ia,Dr.prototype.getStatus=Dr.prototype.da,Dr.prototype.getResponseJson=Dr.prototype.Wa,Dr.prototype.getResponseText=Dr.prototype.ja,Dr.prototype.send=Dr.prototype.ha,Dr.prototype.setWithCredentials=Dr.prototype.Oa,yu.prototype.digest=yu.prototype.l,yu.prototype.reset=yu.prototype.reset,yu.prototype.update=yu.prototype.j,Nn.prototype.add=Nn.prototype.add,Nn.prototype.multiply=Nn.prototype.R,Nn.prototype.modulo=Nn.prototype.gb,Nn.prototype.compare=Nn.prototype.X,Nn.prototype.toNumber=Nn.prototype.ea,Nn.prototype.toString=Nn.prototype.toString,Nn.prototype.getBits=Nn.prototype.D,Nn.fromNumber=Ac,Nn.fromString=function C2(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return ts(C2(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ac(Math.pow(e,8)),r=O_,i=0;i<n.length;i+=8){var a=Math.min(8,n.length-i),c=parseInt(n.substring(i,i+a),e);8>a?(a=Ac(Math.pow(e,a)),r=r.R(a).add(Ac(c))):r=(r=r.R(t)).add(Ac(c))}return r};var q6=mu.createWebChannelTransport=function(){return new jT},Z6=mu.getStatEventTarget=function(){return ST()},EP=mu.ErrorCode=AT,K6=mu.EventType=OF,Y6=mu.Event=bg,T2=mu.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Q6=mu.FetchXmlHttpFactory=YE,zT=mu.WebChannel=FF,J6=mu.XhrIo=Dr,X6=mu.Md5=yu,F_=mu.Integer=Nn;class Oi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Oi.UNAUTHENTICATED=new Oi(null),Oi.GOOGLE_CREDENTIALS=new Oi("google-credentials-uid"),Oi.FIRST_PARTY=new Oi("first-party-uid"),Oi.MOCK_USER=new Oi("mock-user");let V_="9.23.0";const uf=new ed.Yd("@firebase/firestore");function wP(){return uf.logLevel}function Ve(n,...e){if(uf.logLevel<=ed.in.DEBUG){const t=e.map(CP);uf.debug(`Firestore (${V_}): ${n}`,...t)}}function Vr(n,...e){if(uf.logLevel<=ed.in.ERROR){const t=e.map(CP);uf.error(`Firestore (${V_}): ${n}`,...t)}}function xa(n,...e){if(uf.logLevel<=ed.in.WARN){const t=e.map(CP);uf.warn(`Firestore (${V_}): ${n}`,...t)}}function CP(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${V_}) INTERNAL ASSERTION FAILED: `+n;throw Vr(e),new Error(e)}function It(n,e){n||rt()}function Xe(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends En.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class n4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Oi.UNAUTHENTICATED))}shutdown(){}}class s4{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Oi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class o4{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new s4(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Oi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}function u4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class R2{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=u4(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function jt(n,e){return n<e?-1:n>e?1:0}function U_(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class hr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Re(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return hr.fromMillis(Date.now())}static fromDate(e){return hr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new hr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bt(e)}static min(){return new bt(new hr(0,0))}static max(){return new bt(new hr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class nw{constructor(e,t,r){void 0===t?t=0:t>e.length&&rt(),void 0===r?r=e.length-t:r>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===nw.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof nw?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),c=t.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class yn extends nw{construct(e,t,r){return new yn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new yn(t)}static emptyPath(){return new yn([])}}const c4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tr extends nw{construct(e,t,r){return new Tr(e,t,r)}static isValidIdentifier(e){return c4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Tr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Re(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Re(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Re(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===f?(c=!c,i++):"."!==f||c?(r+=f,i++):(a(),i++)}if(a(),c)throw new Re(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tr(t)}static emptyPath(){return new Tr([])}}class Je{constructor(e){this.path=e}static fromPath(e){return new Je(yn.fromString(e))}static fromName(e){return new Je(yn.fromString(e).popFirst(5))}static empty(){return new Je(yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===yn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return yn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Je(new yn(e.slice()))}}function N2(n){return new $o(n.readTime,n.key,-1)}class $o{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new $o(bt.min(),Je.empty(),-1)}static max(){return new $o(bt.max(),Je.empty(),-1)}}function DP(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Je.comparator(n.documentKey,e.documentKey),0!==t?t:jt(n.largestBatchId,e.largestBatchId))}const k2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function cf(n){return TP.apply(this,arguments)}function TP(){return TP=(0,k.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==k2)throw n;Ve("LocalStore","Unexpectedly lost primary lease")}),TP.apply(this,arguments)}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,r)=>{t(e)})}static reject(e){return new ae((t,r)=>{r(e)})}static waitFor(e){return new ae((t,r)=>{let i=0,a=0,c=!1;e.forEach(f=>{++i,f.next(()=>{++a,c&&a===i&&t()},y=>r(y))}),c=!0,a===i&&t()})}static or(e){let t=ae.resolve(!1);for(const r of e)t=t.next(i=>i?ae.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new ae((r,i)=>{const a=e.length,c=new Array(a);let f=0;for(let y=0;y<a;y++){const E=y;t(e[E]).next(T=>{c[E]=T,++f,f===a&&r(c)},T=>i(T))}})}static doWhile(e,t){return new ae((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}function lf(n){return"IndexedDbTransactionError"===n.name}let Go=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function sw(n){return null==n}function ow(n){return 0===n&&1/n==-1/0}function G2(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function df(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function z2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Kn{constructor(e,t){this.comparator=e,this.root=t||ns.EMPTY}insert(e,t){return new Kn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ns.BLACK,null,null))}remove(e){return new Kn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ns.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new YT(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new YT(this.root,e,this.comparator,!1)}getReverseIterator(){return new YT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new YT(this.root,e,this.comparator,!0)}}class YT{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ns{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??ns.RED,this.left=i??ns.EMPTY,this.right=a??ns.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new ns(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ns.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ns.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ns.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ns.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}ns.EMPTY=null,ns.RED=!0,ns.BLACK=!1,ns.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ns(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class sr{constructor(e){this.comparator=e,this.data=new Kn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new W2(this.data.getIterator())}getIteratorFrom(e){return new W2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof sr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new sr(this.comparator);return t.data=e,t}}class W2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class co{constructor(e){this.fields=e,e.sort(Tr.comparator)}static empty(){return new co([])}unionWith(e){let t=new sr(Tr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new co(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return U_(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class q2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new q2("Invalid base64 string: "+i):i}}(e);return new mi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new mi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mi.EMPTY_BYTE_STRING=new mi("");const O4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hf(n){if(It(!!n),"string"==typeof n){let e=0;const t=O4.exec(n);if(It(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Sr(n.seconds),nanos:Sr(n.nanos)}}function Sr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function od(n){return"string"==typeof n?mi.fromBase64String(n):mi.fromUint8Array(n)}function QT(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function JT(n){const e=n.mapValue.fields.__previous_value__;return QT(e)?JT(e):e}function aw(n){const e=hf(n.mapValue.fields.__local_write_time__.timestampValue);return new hr(e.seconds,e.nanos)}class L4{constructor(e,t,r,i,a,c,f,y,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=y,this.useFetchStreams=E}}class ff{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ff("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ff&&e.projectId===this.projectId&&e.database===this.database}}const pf_mapValue={fields:{__type__:{stringValue:"__max__"}}};function gf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?QT(n)?4:Q2(n)?9007199254740991:10:rt()}function Rc(n,e){if(n===e)return!0;const t=gf(n);if(t!==gf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return aw(n).isEqual(aw(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=hf(r.timestampValue),c=hf(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,od(n.bytesValue).isEqual(od(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Sr(r.geoPointValue.latitude)===Sr(i.geoPointValue.latitude)&&Sr(r.geoPointValue.longitude)===Sr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Sr(r.integerValue)===Sr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Sr(r.doubleValue),c=Sr(i.doubleValue);return a===c?ow(a)===ow(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return U_(n.arrayValue.values||[],e.arrayValue.values||[],Rc);case 10:return function(r,i){const a=r.mapValue.fields||{},c=i.mapValue.fields||{};if(G2(a)!==G2(c))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===c[f]||!Rc(a[f],c[f])))return!1;return!0}(n,e);default:return rt()}var i}function uw(n,e){return void 0!==(n.values||[]).find(t=>Rc(t,e))}function mf(n,e){if(n===e)return 0;const t=gf(n),r=gf(e);if(t!==r)return jt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return jt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const c=Sr(i.integerValue||i.doubleValue),f=Sr(a.integerValue||a.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return Z2(n.timestampValue,e.timestampValue);case 4:return Z2(aw(n),aw(e));case 5:return jt(n.stringValue,e.stringValue);case 6:return function(i,a){const c=od(i),f=od(a);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),f=a.split("/");for(let y=0;y<c.length&&y<f.length;y++){const E=jt(c[y],f[y]);if(0!==E)return E}return jt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const c=jt(Sr(i.latitude),Sr(a.latitude));return 0!==c?c:jt(Sr(i.longitude),Sr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const c=i.values||[],f=a.values||[];for(let y=0;y<c.length&&y<f.length;++y){const E=mf(c[y],f[y]);if(E)return E}return jt(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===pf_mapValue&&a===pf_mapValue)return 0;if(i===pf_mapValue)return 1;if(a===pf_mapValue)return-1;const c=i.fields||{},f=Object.keys(c),y=a.fields||{},E=Object.keys(y);f.sort(),E.sort();for(let T=0;T<f.length&&T<E.length;++T){const S=jt(f[T],E[T]);if(0!==S)return S;const O=mf(c[f[T]],y[E[T]]);if(0!==O)return O}return jt(f.length,E.length)}(n.mapValue,e.mapValue);default:throw rt()}}function Z2(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return jt(n,e);const t=hf(n),r=hf(e),i=jt(t.seconds,r.seconds);return 0!==i?i:jt(t.nanos,r.nanos)}function j_(n){return xP(n)}function xP(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=hf(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?od(n.bytesValue).toBase64():"referenceValue"in n?Je.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const c of r.values||[])a?a=!1:i+=",",i+=xP(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const f of i)c?c=!1:a+=",",a+=`${f}:${xP(r.fields[f])}`;return a+"}"}(n.mapValue):rt();var e}function Rg(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function RP(n){return!!n&&"integerValue"in n}function cw(n){return!!n&&"arrayValue"in n}function K2(n){return!!n&&"nullValue"in n}function Y2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function tS(n){return!!n&&"mapValue"in n}function lw(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return df(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=lw(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lw(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Q2(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class rs{constructor(e){this.value=e}static empty(){return new rs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!tS(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lw(t)}setAll(e){let t=Tr.emptyPath(),r={},i=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=f.popLast()}c?r[f.lastSegment()]=lw(c):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());tS(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Rc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];tS(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){df(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new rs(lw(this.value))}}function eV(n){const e=[];return df(n.fields,(t,r)=>{const i=new Tr([t]);if(tS(r)){const a=eV(r.mapValue).fields;if(0===a.length)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new co(e)}class or{constructor(e,t,r,i,a,c,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=c,this.documentState=f}static newInvalidDocument(e){return new or(e,0,bt.min(),bt.min(),bt.min(),rs.empty(),0)}static newFoundDocument(e,t,r,i){return new or(e,1,t,bt.min(),r,i,0)}static newNoDocument(e,t){return new or(e,2,t,bt.min(),bt.min(),rs.empty(),0)}static newUnknownDocument(e,t){return new or(e,3,t,bt.min(),bt.min(),rs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(bt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof or&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new or(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yf{constructor(e,t){this.position=e,this.inclusive=t}}function tV(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],c=n.position[i];if(r=a.field.isKeyField()?Je.comparator(Je.fromName(c.referenceValue),t.key):mf(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function nV(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Rc(n.position[t],e.position[t]))return!1;return!0}class H_{constructor(e,t="asc"){this.field=e,this.dir=t}}function U4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class rV{}class an extends rV{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new B4(e,t,r):"array-contains"===t?new $4(e,r):"in"===t?new cV(e,r):"not-in"===t?new G4(e,r):"array-contains-any"===t?new z4(e,r):new an(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new j4(e,r):new H4(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(mf(t,this.value)):null!==t&&gf(this.value)===gf(t)&&this.matchesComparison(mf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class kn extends rV{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new kn(e,t)}matches(e){return $_(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function $_(n){return"and"===n.op}function PP(n){return function iV(n){for(const e of n.filters)if(e instanceof kn)return!1;return!0}(n)&&$_(n)}function NP(n){if(n instanceof an)return n.field.canonicalString()+n.op.toString()+j_(n.value);if(PP(n))return n.filters.map(e=>NP(e)).join(",");{const e=n.filters.map(t=>NP(t)).join(",");return`${n.op}(${e})`}}function sV(n,e){return n instanceof an?(t=n,(r=e)instanceof an&&t.op===r.op&&t.field.isEqual(r.field)&&Rc(t.value,r.value)):n instanceof kn?function(t,r){return r instanceof kn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,c)=>i&&sV(a,r.filters[c]),!0)}(n,e):void rt();var t,r}function aV(n){return n instanceof an?function(e){return`${e.field.canonicalString()} ${e.op} ${j_(e.value)}`}(n):n instanceof kn?function(e){return e.op.toString()+" {"+e.getFilters().map(aV).join(" ,")+"}"}(n):"Filter"}class B4 extends an{constructor(e,t,r){super(e,t,r),this.key=Je.fromName(r.referenceValue)}matches(e){const t=Je.comparator(e.key,this.key);return this.matchesComparison(t)}}class j4 extends an{constructor(e,t){super(e,"in",t),this.keys=uV(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class H4 extends an{constructor(e,t){super(e,"not-in",t),this.keys=uV(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function uV(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Je.fromName(r.referenceValue))}class $4 extends an{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cw(t)&&uw(t.arrayValue,this.value)}}class cV extends an{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&uw(this.value.arrayValue,t)}}class G4 extends an{constructor(e,t){super(e,"not-in",t)}matches(e){if(uw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!uw(this.value.arrayValue,t)}}class z4 extends an{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>uw(this.value.arrayValue,r))}}class W4{constructor(e,t=null,r=[],i=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=f,this.dt=null}}function kP(n,e=null,t=[],r=[],i=null,a=null,c=null){return new W4(n,e,t,r,i,a,c)}function Mg(n){const e=Xe(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>NP(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),sw(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>j_(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>j_(r)).join(",")),e.dt=t}return e.dt}function dw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!U4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!sV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!nV(n.startAt,e.startAt)&&nV(n.endAt,e.endAt)}function nS(n){return Je.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ad{constructor(e,t=null,r=[],i=[],a=null,c="F",f=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=y,this.wt=null,this._t=null}}function G_(n){return new ad(n)}function fV(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function OP(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function iS(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function LP(n){return null!==n.collectionGroup}function Pg(n){const e=Xe(n);if(null===e.wt){e.wt=[];const t=iS(e),r=OP(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new H_(t)),e.wt.push(new H_(Tr.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new H_(Tr.keyField(),a))}}}return e.wt}function Ns(n){const e=Xe(n);if(!e._t)if("F"===e.limitType)e._t=kP(e.path,e.collectionGroup,Pg(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Pg(e))t.push(new H_(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new yf(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new yf(e.startAt.position,e.startAt.inclusive):null;e._t=kP(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function FP(n,e){e.getFirstInequalityField(),iS(n);const t=n.filters.concat([e]);return new ad(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function sS(n,e,t){return new ad(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hw(n,e){return dw(Ns(n),Ns(e))&&n.limitType===e.limitType}function pV(n){return`${Mg(Ns(n))}|lt:${n.limitType}`}function VP(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>aV(r)).join(", ")}]`),sw(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>j_(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>j_(r)).join(",")),`Target(${t})`}(Ns(n))}; limitType=${n.limitType})`}function fw(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Je.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Pg(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,c){const f=tV(i,a,c);return i.inclusive?f<=0:f<0}(t.startAt,Pg(t),r)||t.endAt&&!function(i,a,c){const f=tV(i,a,c);return i.inclusive?f>=0:f>0}(t.endAt,Pg(t),r)));var t,r}function mV(n){return(e,t)=>{let r=!1;for(const i of Pg(n)){const a=q4(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function q4(n,e,t){const r=n.field.isKeyField()?Je.comparator(e.key,t.key):function(i,a,c){const f=a.data.field(i),y=c.data.field(i);return null!==f&&null!==y?mf(f,y):rt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}class ud{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){df(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return z2(this.inner)}size(){return this.innerSize}}const Z4=new Kn(Je.comparator);function lo(){return Z4}const yV=new Kn(Je.comparator);function pw(...n){let e=yV;for(const t of n)e=e.insert(t.key,t);return e}function _V(n){let e=yV;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Mc(){return gw()}function vV(){return gw()}function gw(){return new ud(n=>n.toString(),(n,e)=>n.isEqual(e))}const K4=new Kn(Je.comparator),Y4=new sr(Je.comparator);function Zt(...n){let e=Y4;for(const t of n)e=e.add(t);return e}const Q4=new sr(jt);function IV(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ow(e)?"-0":e}}function EV(n){return{integerValue:""+n}}function wV(n,e){return function F2(n){return"number"==typeof n&&Number.isInteger(n)&&!ow(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?EV(e):IV(n,e)}class oS{constructor(){this._=void 0}}function J4(n,e,t){return n instanceof z_?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&QT(i)&&(i=JT(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Ng?bV(n,e):n instanceof kg?DV(n,e):function(r,i){const a=CV(r,i),c=TV(a)+TV(r.gt);return RP(a)&&RP(r.gt)?EV(c):IV(r.serializer,c)}(n,e)}function X4(n,e,t){return n instanceof Ng?bV(n,e):n instanceof kg?DV(n,e):t}function CV(n,e){return n instanceof W_?RP(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class z_ extends oS{}class Ng extends oS{constructor(e){super(),this.elements=e}}function bV(n,e){const t=SV(e);for(const r of n.elements)t.some(i=>Rc(i,r))||t.push(r);return{arrayValue:{values:t}}}class kg extends oS{constructor(e){super(),this.elements=e}}function DV(n,e){let t=SV(e);for(const r of n.elements)t=t.filter(i=>!Rc(i,r));return{arrayValue:{values:t}}}class W_ extends oS{constructor(e,t){super(),this.serializer=e,this.gt=t}}function TV(n){return Sr(n.integerValue||n.doubleValue)}function SV(n){return cw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class tG{constructor(e,t){this.version=e,this.transformResults=t}}class fr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function aS(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class uS{}function AV(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Z_(n.key,fr.none()):new q_(n.key,n.data,fr.none());{const t=n.data,r=rs.empty();let i=new sr(Tr.comparator);for(let a of e.fields)if(!i.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?r.delete(a):r.set(a,c),i=i.add(a)}return new cd(n.key,r,new co(i.toArray()),fr.none())}}function nG(n,e,t){n instanceof q_?function(r,i,a){const c=r.value.clone(),f=MV(r.fieldTransforms,i,a.transformResults);c.setAll(f),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof cd?function(r,i,a){if(!aS(r.precondition,i))return void i.convertToUnknownDocument(a.version);const c=MV(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(RV(r)),f.setAll(c),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function yw(n,e,t,r){return n instanceof q_?function(i,a,c,f){if(!aS(i.precondition,a))return c;const y=i.value.clone(),E=PV(i.fieldTransforms,f,a);return y.setAll(E),a.convertToFoundDocument(a.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof cd?function(i,a,c,f){if(!aS(i.precondition,a))return c;const y=PV(i.fieldTransforms,f,a),E=a.data;return E.setAll(RV(i)),E.setAll(y),a.convertToFoundDocument(a.version,E).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(T=>T.field))}(n,e,t,r):(c=t,aS(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function rG(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=CV(r.transform,i||null);null!=a&&(null===t&&(t=rs.empty()),t.set(r.field,a))}return t||null}function xV(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&U_(t,r,(i,a)=>function eG(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ng&&r instanceof Ng||t instanceof kg&&r instanceof kg?U_(t.elements,r.elements,Rc):t instanceof W_&&r instanceof W_?Rc(t.gt,r.gt):t instanceof z_&&r instanceof z_);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class q_ extends uS{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class cd extends uS{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function RV(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function MV(n,e,t){const r=new Map;It(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],c=a.transform,f=e.data.field(a.field);r.set(a.field,X4(c,f,t[i]))}return r}function PV(n,e,t){const r=new Map;for(const i of n){const a=i.transform,c=t.data.field(i.field);r.set(i.field,J4(a,c,e))}return r}class Z_ extends uS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BP extends uS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jP{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&nG(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=yw(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=yw(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=vV();return this.mutations.forEach(i=>{const a=e.get(i.key),c=a.overlayedDocument;let f=this.applyToLocalView(c,a.mutatedFields);f=t.has(i.key)?null:f;const y=AV(c,f);null!==y&&r.set(i.key,y),c.isValidDocument()||c.convertToNoDocument(bt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Zt())}isEqual(e){return this.batchId===e.batchId&&U_(this.mutations,e.mutations,(t,r)=>xV(t,r))&&U_(this.baseMutations,e.baseMutations,(t,r)=>xV(t,r))}}class HP{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){It(e.mutations.length===r.length);let i=K4;const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new HP(e,t,r,i)}}class $P{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class sG{constructor(e,t){this.count=e,this.unchangedNames=t}}var Qr,_n;function NV(n){switch(n){default:return rt();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function kV(n){if(void 0===n)return Vr("GRPC error has no .code"),de.UNKNOWN;switch(n){case Qr.OK:return de.OK;case Qr.CANCELLED:return de.CANCELLED;case Qr.UNKNOWN:return de.UNKNOWN;case Qr.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Qr.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Qr.INTERNAL:return de.INTERNAL;case Qr.UNAVAILABLE:return de.UNAVAILABLE;case Qr.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Qr.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Qr.NOT_FOUND:return de.NOT_FOUND;case Qr.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Qr.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Qr.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Qr.ABORTED:return de.ABORTED;case Qr.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Qr.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Qr.DATA_LOSS:return de.DATA_LOSS;default:return rt()}}(_n=Qr||(Qr={}))[_n.OK=0]="OK",_n[_n.CANCELLED=1]="CANCELLED",_n[_n.UNKNOWN=2]="UNKNOWN",_n[_n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_n[_n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_n[_n.NOT_FOUND=5]="NOT_FOUND",_n[_n.ALREADY_EXISTS=6]="ALREADY_EXISTS",_n[_n.PERMISSION_DENIED=7]="PERMISSION_DENIED",_n[_n.UNAUTHENTICATED=16]="UNAUTHENTICATED",_n[_n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_n[_n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_n[_n.ABORTED=10]="ABORTED",_n[_n.OUT_OF_RANGE=11]="OUT_OF_RANGE",_n[_n.UNIMPLEMENTED=12]="UNIMPLEMENTED",_n[_n.INTERNAL=13]="INTERNAL",_n[_n.UNAVAILABLE=14]="UNAVAILABLE",_n[_n.DATA_LOSS=15]="DATA_LOSS";class GP{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return cS}static getOrCreateInstance(){return null===cS&&(cS=new GP),cS}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let cS=null;const oG=new F_([4294967295,4294967295],0);function LV(n){const e=function OV(){return new TextEncoder}().encode(n),t=new X6;return t.update(e),new Uint8Array(t.digest())}function FV(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new F_([t,r],0),new F_([i,a],0)]}class zP{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new _w(`Invalid padding: ${t}`);if(r<0)throw new _w(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new _w(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new _w(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=F_.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(F_.fromNumber(r)));return 1===i.compare(oG)&&(i=new F_([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=LV(e),[r,i]=FV(t);for(let a=0;a<this.hashCount;a++){const c=this.Et(r,i,a);if(!this.At(c))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new zP(a,i,t);return r.forEach(f=>c.insert(f)),c}insert(e){if(0===this.It)return;const t=LV(e),[r,i]=FV(t);for(let a=0;a<this.hashCount;a++){const c=this.Et(r,i,a);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class _w extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vw{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Iw.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new vw(bt.min(),i,new Kn(jt),lo(),Zt())}}class Iw{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Iw(r,t,Zt(),Zt(),Zt())}}class lS{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class VV{constructor(e,t){this.targetId=e,this.Vt=t}}class UV{constructor(e,t,r=mi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class BV{constructor(){this.St=0,this.Dt=HV(),this.Ct=mi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Zt(),t=Zt(),r=Zt();return this.Dt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:rt()}}),new Iw(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=HV()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class aG{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=lo(),this.zt=jV(),this.Wt=new Kn(jt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,a=this.se(r);if(a){const c=a.target;if(nS(c))if(0===i){const f=new Je(c.path);this.Yt(r,f,or.newNoDocument(f,bt.min()))}else It(1===i);else{const f=this.ie(r);if(f!==i){const y=this.re(e,f);0!==y&&(this.ee(r),this.Wt=this.Wt.insert(r,2===y?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=GP.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(E,T,S){var O,j,X,De,Ae,Qe;const ct={localCacheCount:T,existenceFilterCount:S.count},pt=S.unchangedNames;return pt&&(ct.bloomFilter={applied:0===E,hashCount:null!==(O=pt?.hashCount)&&void 0!==O?O:0,bitmapLength:null!==(De=null===(X=null===(j=pt?.bits)||void 0===j?void 0:j.bitmap)||void 0===X?void 0:X.length)&&void 0!==De?De:0,padding:null!==(Qe=null===(Ae=pt?.bits)||void 0===Ae?void 0:Ae.padding)&&void 0!==Qe?Qe:0}),ct}(y,f,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:c=0},hashCount:f=0}=r;let y,E;try{y=od(a).toUint8Array()}catch(T){if(T instanceof q2)return xa("Decoding the base64 bloom filter in existence filter failed ("+T.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw T}try{E=new zP(y,c,f)}catch(T){return xa(T instanceof _w?"BloomFilter error: ":"Applying bloom filter failed: ",T),1}return 0===E.It?1:i!==t-this.oe(e.targetId,E)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(a=>{const c=this.Gt.ue(),f=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;t.vt(f)||(this.Yt(e,a,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((a,c)=>{const f=this.se(c);if(f){if(a.current&&nS(f.target)){const y=new Je(f.target.path);null!==this.jt.get(y)||this.ae(c,y)||this.Yt(c,y,or.newNoDocument(y,e))}a.Mt&&(t.set(c,a.Ot()),a.Ft())}});let r=Zt();this.zt.forEach((a,c)=>{let f=!0;c.forEachWhile(y=>{const E=this.se(y);return!E||"TargetPurposeLimboResolution"===E.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.jt.forEach((a,c)=>c.setReadTime(e));const i=new vw(e,t,this.Wt,this.jt,r);return this.jt=lo(),this.zt=jV(),this.Wt=new Kn(jt),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new BV,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new sr(jt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ve("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new BV),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function jV(){return new Kn(Je.comparator)}function HV(){return new Kn(Je.comparator)}const uG=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),cG=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),lG=(()=>({and:"AND",or:"OR"}))();class dG{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function WP(n,e){return n.useProto3Json||sw(e)?e:{value:e}}function K_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $V(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function hG(n,e){return K_(n,e.toTimestamp())}function Ur(n){return It(!!n),bt.fromTimestamp(function(e){const t=hf(e);return new hr(t.seconds,t.nanos)}(n))}function qP(n,e){return(t=n,new yn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function GV(n){const e=yn.fromString(n);return It(XV(e)),e}function Ew(n,e){return qP(n.databaseId,e.path)}function Pc(n,e){const t=GV(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Je(WV(t))}function ZP(n,e){return qP(n.databaseId,e)}function ww(n){return new yn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function WV(n){return It(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function qV(n,e,t){return{name:Ew(n,e),fields:t.value.mapValue.fields}}function KV(n,e){return{documents:[ZP(n,e.path)]}}function YP(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=ZP(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ZP(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0!==y.length)return JV(kn.create(y,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(y){if(0!==y.length)return y.map(E=>{return{field:_f((T=E).field),direction:yG(T.dir)};var T})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=WP(n,e.limit);var f,y;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function YV(n){let e=function zV(n){const e=GV(n);return 4===e.length?yn.emptyPath():WV(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){It(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let a=[];t.where&&(a=function(T){const S=QV(T);return S instanceof kn&&PP(S)?S.getFilters():[S]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(T=>{return new H_(Y_((S=T).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let f=null;t.limit&&(f=function(T){let S;return S="object"==typeof T?T.value:T,sw(S)?null:S}(t.limit));let y=null;var T;t.startAt&&(y=new yf((T=t.startAt).values||[],!!T.before));let E=null;return t.endAt&&(E=function(T){return new yf(T.values||[],!T.before)}(t.endAt)),function hV(n,e,t,r,i,a,c,f){return new ad(n,e,t,r,i,a,c,f)}(e,i,c,a,f,"F",y,E)}function QV(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Y_(e.unaryFilter.field);return an.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Y_(e.unaryFilter.field);return an.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Y_(e.unaryFilter.field);return an.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Y_(e.unaryFilter.field);return an.create(a,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}(n):void 0!==n.fieldFilter?function(e){return an.create(Y_(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(e.fieldFilter.op),e.fieldFilter.value)}(n):void 0!==n.compositeFilter?function(e){return kn.create(e.compositeFilter.filters.map(t=>QV(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return rt()}}(e.compositeFilter.op))}(n):rt()}function yG(n){return uG[n]}function _G(n){return cG[n]}function vG(n){return lG[n]}function _f(n){return{fieldPath:n.canonicalString()}}function Y_(n){return Tr.fromServerFormat(n.fieldPath)}function JV(n){return n instanceof an?function(e){if("=="===e.op){if(Y2(e.value))return{unaryFilter:{field:_f(e.field),op:"IS_NAN"}};if(K2(e.value))return{unaryFilter:{field:_f(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Y2(e.value))return{unaryFilter:{field:_f(e.field),op:"IS_NOT_NAN"}};if(K2(e.value))return{unaryFilter:{field:_f(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_f(e.field),op:_G(e.op),value:e.value}}}(n):n instanceof kn?function(e){const t=e.getFilters().map(r=>JV(r));return 1===t.length?t[0]:{compositeFilter:{op:vG(e.op),filters:t}}}(n):rt()}function IG(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function XV(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ld{constructor(e,t,r,i,a=bt.min(),c=bt.min(),f=mi.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=y}withSequenceNumber(e){return new ld(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ld(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ld(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ld(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class eU{constructor(e){this.fe=e}}function QP(n){const e=YV({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?sS(e,e.limit,"L"):e}class Vg{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Sr(e.integerValue));else if("doubleValue"in e){const r=Sr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),ow(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(od(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?Q2(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):rt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),Je.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Vg.Ve=new Vg;class xG{constructor(){this.rn=new rN}addToCollectionParentIndex(e,t){return this.rn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve($o.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve($o.min())}updateCollectionGroup(e,t,r){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class rN{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new sr(yn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new sr(yn.comparator)).toArray()}}class ps{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ps(e,ps.DEFAULT_COLLECTION_PERCENTILE,ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ps.DEFAULT_COLLECTION_PERCENTILE=10,ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ps.DEFAULT=new ps(41943040,ps.DEFAULT_COLLECTION_PERCENTILE,ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ps.DISABLED=new ps(-1,0,0);class Bg{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Bg(0)}static Mn(){return new Bg(-1)}}class FG{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class SU{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&yw(r.mutation,i,co.empty(),hr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Zt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Zt()){const i=Mc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let c=pw();return a.forEach((f,y)=>{c=c.insert(f,y.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Mc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Zt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,r,i){let a=lo();const c=gw(),f=gw();return t.forEach((y,E)=>{const T=r.get(E.key);i.has(E.key)&&(void 0===T||T.mutation instanceof cd)?a=a.insert(E.key,E):void 0!==T?(c.set(E.key,T.mutation.getFieldMask()),yw(T.mutation,E,T.mutation.getFieldMask(),hr.now())):c.set(E.key,co.empty())}),this.recalculateAndSaveOverlays(e,a).next(y=>(y.forEach((E,T)=>c.set(E,T)),t.forEach((E,T)=>{var S;return f.set(E,new FG(T,null!==(S=c.get(E))&&void 0!==S?S:null))}),f))}recalculateAndSaveOverlays(e,t){const r=gw();let i=new Kn((c,f)=>c-f),a=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(y=>{const E=t.get(y);if(null===E)return;let T=r.get(y)||co.empty();T=f.applyToLocalView(E,T),r.set(y,T);const S=(i.get(f.batchId)||Zt()).add(y);i=i.insert(f.batchId,S)})}).next(()=>{const c=[],f=i.getReverseIterator();for(;f.hasNext();){const y=f.getNext(),E=y.key,T=y.value,S=vV();T.forEach(O=>{if(!a.has(O)){const j=AV(t.get(O),r.get(O));null!==j&&S.set(O,j),a=a.add(O)}}),c.push(this.documentOverlayCache.saveOverlays(e,E,S))}return ae.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Je.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):LP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const c=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ae.resolve(Mc());let f=-1,y=a;return c.next(E=>ae.forEach(E,(T,S)=>(f<S.largestBatchId&&(f=S.largestBatchId),a.get(T)?ae.resolve():this.remoteDocumentCache.getEntry(e,T).next(O=>{y=y.insert(T,O)}))).next(()=>this.populateOverlays(e,E,a)).next(()=>this.computeViews(e,y,E,Zt())).next(T=>({batchId:f,changes:_V(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Je(t)).next(r=>{let i=pw();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=pw();return this.indexManager.getCollectionParents(e,i).next(c=>ae.forEach(c,f=>{const y=(E=t,T=f.child(i),new ad(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt));var E,T;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(E=>{E.forEach((T,S)=>{a=a.insert(T,S)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(a=>{i.forEach((f,y)=>{const E=y.getKey();null===a.get(E)&&(a=a.insert(E,or.newInvalidDocument(E)))});let c=pw();return a.forEach((f,y)=>{const E=i.get(f);void 0!==E&&yw(E.mutation,y,co.empty(),hr.now()),fw(t,y)&&(c=c.insert(f,y))}),c})}}class VG{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ae.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Ur(r.createTime)}),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:QP(r.bundledQuery),readTime:Ur(r.readTime)}),ae.resolve();var r}}class UG{constructor(){this.overlays=new Kn(Je.comparator),this.ls=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Mc();return ae.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.we(e,t,a)}),ae.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(r)),ae.resolve()}getOverlaysForCollection(e,t,r){const i=Mc(),a=t.length+1,c=new Je(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const y=f.getNext().value,E=y.getKey();if(!t.isPrefixOf(E.path))break;E.path.length===a&&y.largestBatchId>r&&i.set(y.getKey(),y)}return ae.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Kn((E,T)=>E-T);const c=this.overlays.getIterator();for(;c.hasNext();){const E=c.getNext().value;if(E.getKey().getCollectionGroup()===t&&E.largestBatchId>r){let T=a.get(E.largestBatchId);null===T&&(T=Mc(),a=a.insert(E.largestBatchId,T)),T.set(E.getKey(),E)}}const f=Mc(),y=a.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((E,T)=>f.set(E,T)),!(f.size()>=i)););return ae.resolve(f)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new $P(t,r));let a=this.ls.get(t);void 0===a&&(a=Zt(),this.ls.set(t,a)),this.ls.set(t,a.add(r.key))}}class iN{constructor(){this.fs=new sr(Fi.ds),this.ws=new sr(Fi._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Fi(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Fi(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Je(new yn([])),r=new Fi(t,e),i=new Fi(t,e+1),a=[];return this.ws.forEachInRange([r,i],c=>{this.ys(c),a.push(c.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Je(new yn([])),r=new Fi(t,e),i=new Fi(t,e+1);let a=Zt();return this.ws.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Fi(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Fi{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Je.comparator(e.key,t.key)||jt(e.As,t.As)}static _s(e,t){return jt(e.As,t.As)||Je.comparator(e.key,t.key)}}class BG{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new sr(Fi.ds)}checkEmpty(e){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.vs;this.vs++;const c=new jP(a,t,r,i);this.mutationQueue.push(c);for(const f of i)this.Rs=this.Rs.add(new Fi(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,t){return ae.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),a=i<0?0:i;return ae.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Fi(t,0),i=new Fi(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],c=>{const f=this.Ps(c.As);a.push(f)}),ae.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new sr(jt);return t.forEach(i=>{const a=new Fi(i,0),c=new Fi(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,c],f=>{r=r.add(f.As)})}),ae.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Je.isDocumentKey(a)||(a=a.child(""));const c=new Fi(new Je(a),0);let f=new sr(jt);return this.Rs.forEachWhile(y=>{const E=y.key.path;return!!r.isPrefixOf(E)&&(E.length===i&&(f=f.add(y.As)),!0)},c),ae.resolve(this.Vs(f))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){It(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ae.forEach(t.mutations,i=>{const a=new Fi(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Fi(t,0),i=this.Rs.firstAfterOrEqual(r);return ae.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ae.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class jG{constructor(e){this.Ds=e,this.docs=new Kn(Je.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,c=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ae.resolve(r?r.document.mutableCopy():or.newInvalidDocument(t))}getEntries(e,t){let r=lo();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():or.newInvalidDocument(i))}),ae.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=lo();const c=t.path,f=new Je(c.child("")),y=this.docs.getIteratorFrom(f);for(;y.hasNext();){const{key:E,value:{document:T}}=y.getNext();if(!c.isPrefixOf(E.path))break;E.path.length>c.length+1||DP(N2(T),r)<=0||(i.has(T.key)||fw(t,T))&&(a=a.insert(T.key,T.mutableCopy()))}return ae.resolve(a)}getAllFromCollectionGroup(e,t,r,i){rt()}Cs(e,t){return ae.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new HG(this)}getSize(e){return ae.resolve(this.size)}}class HG extends class wU{constructor(){this.changes=new ud(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,or.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ae.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),ae.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class $G{constructor(e){this.persistence=e,this.xs=new ud(t=>Mg(t),dw),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new iN,this.targetCount=0,this.Ms=Bg.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),ae.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Bg(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Fn(t),ae.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.xs.forEach((c,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.xs.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),ae.waitFor(a).next(()=>i)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return ae.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),ae.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),ae.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return ae.resolve(r)}containsKey(e,t){return ae.resolve(this.ks.containsKey(t))}}class sN{constructor(e,t){this.$s={},this.overlays={},this.Os=new Go(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new $G(this),this.indexManager=new xG,this.remoteDocumentCache=new jG(r=>this.referenceDelegate.Ls(r)),this.serializer=new eU(t),this.qs=new VG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new UG,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new BG(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Ve("MemoryPersistence","Starting transaction:",e);const i=new GG(this.Os.next());return this.referenceDelegate.Us(),r(i).next(a=>this.referenceDelegate.Ks(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Gs(e,t){return ae.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class GG extends class O2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class vS{constructor(e){this.persistence=e,this.Qs=new iN,this.js=null}static zs(e){return new vS(e)}get Ws(){if(this.js)return this.js;throw rt()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),ae.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ws.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Ws,r=>{const i=Je.fromPath(r);return this.Hs(e,i).next(a=>{a||t.removeEntry(i,bt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ae.or([()=>ae.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class cN{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=Zt(),i=Zt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new cN(e,t.fromCache,r,i)}}class xU{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(a=>a||this.Gi(e,t,i,r)).next(a=>a||this.Qi(e,t))}Ki(e,t){if(fV(t))return ae.resolve(null);let r=Ns(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=sS(t,null,"F"),r=Ns(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const c=Zt(...a);return this.Ui.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,r).next(y=>{const E=this.ji(t,f);return this.zi(t,E,c,y.readTime)?this.Ki(e,sS(t,null,"F")):this.Wi(e,E,t,y)}))})))}Gi(e,t,r,i){return fV(t)||i.isEqual(bt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(a=>{const c=this.ji(t,a);return this.zi(t,c,r,i)?this.Qi(e,t):(wP()<=ed.in.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),VP(t)),this.Wi(e,c,t,function P2(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=bt.fromTimestamp(1e9===r?new hr(t+1,0):new hr(t,r));return new $o(i,Je.empty(),e)}(i,-1)))})}ji(e,t){let r=new sr(mV(e));return t.forEach((i,a)=>{fw(e,a)&&(r=r.add(a))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Qi(e,t){return wP()<=ed.in.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",VP(t)),this.Ui.getDocumentsMatchingQuery(e,t,$o.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class WG{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Kn(jt),this.Yi=new ud(a=>Mg(a),dw),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SU(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function MU(n,e){return lN.apply(this,arguments)}function lN(){return lN=(0,k.Z)(function*(n,e){const t=Xe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],f=[];let y=Zt();for(const E of i){c.push(E.batchId);for(const T of E.mutations)y=y.add(T.key)}for(const E of a){f.push(E.batchId);for(const T of E.mutations)y=y.add(T.key)}return t.localDocuments.getDocuments(r,y).next(E=>({er:E,removedBatchIds:c,addedBatchIds:f}))})})}),lN.apply(this,arguments)}function qG(n,e){const t=Xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Zi.newChangeBuffer({trackRemovals:!0});return function(c,f,y,E){const T=y.batch,S=T.keys();let O=ae.resolve();return S.forEach(j=>{O=O.next(()=>E.getEntry(f,j)).next(X=>{const De=y.docVersions.get(j);It(null!==De),X.version.compareTo(De)<0&&(T.applyToRemoteDocument(X,y),X.isValidDocument()&&(X.setReadTime(y.commitVersion),E.addEntry(X)))})}),O.next(()=>c.mutationQueue.removeMutationBatch(f,T))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=Zt();for(let y=0;y<c.mutationResults.length;++y)c.mutationResults[y].transformResults.length>0&&(f=f.add(c.batch.mutations[y].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function PU(n){const e=Xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function ZG(n,e){const t=Xe(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const f=[];e.targetChanges.forEach((T,S)=>{const O=i.get(S);if(!O)return;f.push(t.Bs.removeMatchingKeys(a,T.removedDocuments,S).next(()=>t.Bs.addMatchingKeys(a,T.addedDocuments,S)));let j=O.withSequenceNumber(a.currentSequenceNumber);var X,De,Ae;null!==e.targetMismatches.get(S)?j=j.withResumeToken(mi.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):T.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(T.resumeToken,r)),i=i.insert(S,j),De=j,Ae=T,(0===(X=O).resumeToken.approximateByteSize()||De.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=3e8||Ae.addedDocuments.size+Ae.modifiedDocuments.size+Ae.removedDocuments.size>0)&&f.push(t.Bs.updateTargetData(a,j))});let y=lo(),E=Zt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,T))}),f.push(function NU(n,e,t){let r=Zt(),i=Zt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let c=lo();return t.forEach((f,y)=>{const E=a.get(f);y.isFoundDocument()!==E.isFoundDocument()&&(i=i.add(f)),y.isNoDocument()&&y.version.isEqual(bt.min())?(e.removeEntry(f,y.readTime),c=c.insert(f,y)):!E.isValidDocument()||y.version.compareTo(E.version)>0||0===y.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(y),c=c.insert(f,y)):Ve("LocalStore","Ignoring outdated watch update for ",f,". Current version:",E.version," Watch version:",y.version)}),{nr:c,sr:i}})}(a,c,e.documentUpdates).next(T=>{y=T.nr,E=T.sr})),!r.isEqual(bt.min())){const T=t.Bs.getLastRemoteSnapshotVersion(a).next(S=>t.Bs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(T)}return ae.waitFor(f).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,y,E)).next(()=>y)}).then(a=>(t.Ji=i,a))}function KG(n,e){const t=Xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function X_(n,e){const t=Xe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(a=>a?(i=a,ae.resolve(i)):t.Bs.allocateTargetId(r).next(c=>(i=new ld(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function ev(n,e,t){return dN.apply(this,arguments)}function dN(){return dN=(0,k.Z)(function*(n,e,t){const r=Xe(n),i=r.Ji.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!lf(c))throw c;Ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),dN.apply(this,arguments)}function wS(n,e,t){const r=Xe(n);let i=bt.min(),a=Zt();return r.persistence.runTransaction("Execute query","readonly",c=>function(f,y,E){const T=Xe(f),S=T.Yi.get(E);return void 0!==S?ae.resolve(T.Ji.get(S)):T.Bs.getTargetData(y,E)}(r,c,Ns(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(c,f.targetId).next(y=>{a=y})}).next(()=>r.Hi.getDocumentsMatchingQuery(c,e,t?i:bt.min(),t?a:Zt())).next(f=>(function LU(n,e,t){let r=n.Xi.get(e)||bt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Xi.set(e,r)}(r,function gV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),f),{documents:f,ir:a})))}class mN{constructor(){this.activeTargetIds=function UP(){return Q4}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UU{constructor(){this.Hr=new mN,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new mN,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class JG{Yr(e){}shutdown(){}}class BU{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let DS=null;function _N(){return null===DS?DS=268435456+Math.round(2147483648*Math.random()):DS++,"0x"+DS.toString(16)}const XG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ez{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const gs="WebChannelConnection";class tz extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,a){const c=_N(),f=this.To(e,t);Ve("RestConnection",`Sending RPC '${e}' ${c}:`,f,r);const y={};return this.Eo(y,i,a),this.Ao(e,f,y,r).then(E=>(Ve("RestConnection",`Received RPC '${e}' ${c}: `,E),E),E=>{throw xa("RestConnection",`RPC '${e}' ${c} failed with error: `,E,"url: ",f,"request:",r),E})}vo(e,t,r,i,a,c){return this.Io(e,t,r,i,a)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+V_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}To(e,t){return`${this.mo}/v1/${t}:${XG[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const a=_N();return new Promise((c,f)=>{const y=new J6;y.setWithCredentials(!0),y.listenOnce(K6.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case EP.NO_ERROR:const T=y.getResponseJson();Ve(gs,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(T)),c(T);break;case EP.TIMEOUT:Ve(gs,`RPC '${e}' ${a} timed out`),f(new Re(de.DEADLINE_EXCEEDED,"Request time out"));break;case EP.HTTP_ERROR:const S=y.getStatus();if(Ve(gs,`RPC '${e}' ${a} failed with status:`,S,"response text:",y.getResponseText()),S>0){let O=y.getResponseJson();Array.isArray(O)&&(O=O[0]);const j=O?.error;if(j&&j.status&&j.message){const X=function(De){const Ae=De.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(Ae)>=0?Ae:de.UNKNOWN}(j.status);f(new Re(X,j.message))}else f(new Re(de.UNKNOWN,"Server responded with status "+y.getStatus()))}else f(new Re(de.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Ve(gs,`RPC '${e}' ${a} completed.`)}});const E=JSON.stringify(i);Ve(gs,`RPC '${e}' ${a} sending request:`,i),y.send(t,"POST",E,r,15)})}Ro(e,t,r){const i=_N(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=q6(),f=Z6(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;void 0!==E&&(y.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(y.xmlHttpFactory=new Q6({})),this.Eo(y.initMessageHeaders,t,r),y.encodeInitMessageHeaders=!0;const T=a.join("");Ve(gs,`Creating RPC '${e}' stream ${i}: ${T}`,y);const S=c.createWebChannel(T,y);let O=!1,j=!1;const X=new ez({ro:Ae=>{j?Ve(gs,`Not sending because RPC '${e}' stream ${i} is closed:`,Ae):(O||(Ve(gs,`Opening RPC '${e}' stream ${i} transport.`),S.open(),O=!0),Ve(gs,`RPC '${e}' stream ${i} sending:`,Ae),S.send(Ae))},oo:()=>S.close()}),De=(Ae,Qe,ct)=>{Ae.listen(Qe,pt=>{try{ct(pt)}catch(Pt){setTimeout(()=>{throw Pt},0)}})};return De(S,zT.EventType.OPEN,()=>{j||Ve(gs,`RPC '${e}' stream ${i} transport opened.`)}),De(S,zT.EventType.CLOSE,()=>{j||(j=!0,Ve(gs,`RPC '${e}' stream ${i} transport closed`),X.wo())}),De(S,zT.EventType.ERROR,Ae=>{j||(j=!0,xa(gs,`RPC '${e}' stream ${i} transport errored:`,Ae),X.wo(new Re(de.UNAVAILABLE,"The operation could not be completed")))}),De(S,zT.EventType.MESSAGE,Ae=>{var Qe;if(!j){const ct=Ae.data[0];It(!!ct);const pt=ct,Pt=pt.error||(null===(Qe=pt[0])||void 0===Qe?void 0:Qe.error);if(Pt){Ve(gs,`RPC '${e}' stream ${i} received error:`,Pt);const Kt=Pt.status;let Xt=function(pd){const fv=Qr[pd];if(void 0!==fv)return kV(fv)}(Kt),yi=Pt.message;void 0===Xt&&(Xt=de.INTERNAL,yi="Unknown error status: "+Kt+" with message "+Pt.message),j=!0,X.wo(new Re(Xt,yi)),S.close()}else Ve(gs,`RPC '${e}' stream ${i} received:`,ct),X._o(ct)}}),De(f,Y6.STAT_EVENT,Ae=>{Ae.stat===T2.PROXY?Ve(gs,`RPC '${e}' stream ${i} detected buffering proxy`):Ae.stat===T2.NOPROXY&&Ve(gs,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{X.fo()},0),X}}function TS(){return typeof document<"u"?document:null}function Pw(n){return new dG(n,!0)}class vN{constructor(e,t,r=1e3,i=1.5,a=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class HU{constructor(e,t,r,i,a,c,f,y){this.ii=e,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=y,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new vN(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,k.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,k.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,k.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(Vr(t.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===de.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Re(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,k.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nz extends HU{constructor(e,t,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.serializer=a}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function pG(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:rt(),i=e.targetChange.targetIds||[],a=function(y,E){return y.useProto3Json?(It(void 0===E||"string"==typeof E),mi.fromBase64String(E||"")):(It(void 0===E||E instanceof Uint8Array),mi.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(y){const E=void 0===y.code?de.UNKNOWN:kV(y.code);return new Re(E,y.message||"")}(c);t=new UV(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Pc(n,r.document.name),a=Ur(r.document.updateTime),c=r.document.createTime?Ur(r.document.createTime):bt.min(),f=new rs({mapValue:{fields:r.document.fields}}),y=or.newFoundDocument(i,a,c,f);t=new lS(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,i=Pc(n,r.document),a=r.readTime?Ur(r.readTime):bt.min(),c=or.newNoDocument(i,a);t=new lS([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=Pc(n,r.document);t=new lS([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return rt();{const r=e.filter,{count:i=0,unchangedNames:a}=r,c=new sG(i,a);t=new VV(r.targetId,c)}}var y;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return bt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?bt.min():a.readTime?Ur(a.readTime):bt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=ww(this.serializer),t.addTarget=function(i,a){let c;const f=a.target;if(c=nS(f)?{documents:KV(i,f)}:{query:YP(i,f)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=$V(i,a.resumeToken);const y=WP(i,a.expectedCount);null!==y&&(c.expectedCount=y)}else if(a.snapshotVersion.compareTo(bt.min())>0){c.readTime=K_(i,a.snapshotVersion.toTimestamp());const y=WP(i,a.expectedCount);null!==y&&(c.expectedCount=y)}return c}(this.serializer,e);const r=function mG(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=ww(this.serializer),t.removeTarget=e,this.Wo(t)}}class rz extends HU{constructor(e,t,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(It(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function gG(n,e){return n&&n.length>0?(It(void 0!==e),n.map(t=>function(r,i){let a=Ur(r.updateTime?r.updateTime:i);return a.isEqual(bt.min())&&(a=Ur(i)),new tG(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Ur(e.commitTime);return this.listener.cu(r,t)}return It(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=ww(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Cw(n,e){let t;if(e instanceof q_)t={update:qV(n,e.key,e.value)};else if(e instanceof Z_)t={delete:Ew(n,e.key)};else if(e instanceof cd)t={update:qV(n,e.key,e.data),updateMask:IG(e.fieldMask)};else{if(!(e instanceof BP))return rt();t={verify:Ew(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const c=a.transform;if(c instanceof z_)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ng)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof kg)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof W_)return{fieldPath:a.field.canonicalString(),increment:c.gt};throw rt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:hG(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:rt()),t;var i}(this.serializer,r))};this.Wo(t)}}class iz extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Re(de.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Io(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Re(de.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.vo(e,t,r,a,c,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Re(de.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class oz{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Vr(t),this.mu=!1):Ve("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class az{constructor(e,t,r,i,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(f=>{r.enqueueAndForget((0,k.Z)(function*(){var y;wf(c)&&(Ve("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,k.Z)(function*(E){const T=Xe(E);T.vu.add(4),yield tv(T),T.bu.set("Unknown"),T.vu.delete(4),yield Nw(T)}),function(E){return y.apply(this,arguments)})(c))}))}),this.bu=new oz(r,i)}}function Nw(n){return EN.apply(this,arguments)}function EN(){return EN=(0,k.Z)(function*(n){if(wf(n))for(const e of n.Ru)yield e(!0)}),EN.apply(this,arguments)}function tv(n){return wN.apply(this,arguments)}function wN(){return wN=(0,k.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),wN.apply(this,arguments)}function SS(n,e){const t=Xe(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),DN(t)?bN(t):rv(t).Ko()&&CN(t,e))}function kw(n,e){const t=Xe(n),r=rv(t);t.Au.delete(e),r.Ko()&&$U(t,e),0===t.Au.size&&(r.Ko()?r.jo():wf(t)&&t.bu.set("Unknown"))}function CN(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}rv(n).su(e)}function $U(n,e){n.Vu.qt(e),rv(n).iu(e)}function bN(n){n.Vu=new aG({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),rv(n).start(),n.bu.gu()}function DN(n){return wf(n)&&!rv(n).Uo()&&n.Au.size>0}function wf(n){return 0===Xe(n).vu.size}function GU(n){n.Vu=void 0}function uz(n){return TN.apply(this,arguments)}function TN(){return TN=(0,k.Z)(function*(n){n.Au.forEach((e,t)=>{CN(n,e)})}),TN.apply(this,arguments)}function cz(n,e){return SN.apply(this,arguments)}function SN(){return SN=(0,k.Z)(function*(n,e){GU(n),DN(n)?(n.bu.Iu(e),bN(n)):n.bu.set("Unknown")}),SN.apply(this,arguments)}function lz(n,e,t){return AN.apply(this,arguments)}function AN(){return AN=(0,k.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof UV&&2===e.state&&e.cause)try{yield(r=(0,k.Z)(function*(i,a){const c=a.cause;for(const f of a.targetIds)i.Au.has(f)&&(yield i.remoteSyncer.rejectListen(f,c),i.Au.delete(f),i.Vu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield AS(n,r)}else if(e instanceof lS?n.Vu.Ht(e):e instanceof VV?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(bt.min()))try{const r=yield PU(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const c=i.Vu.ce(a);return c.targetChanges.forEach((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const E=i.Au.get(y);E&&i.Au.set(y,E.withResumeToken(f.resumeToken,a))}}),c.targetMismatches.forEach((f,y)=>{const E=i.Au.get(f);if(!E)return;i.Au.set(f,E.withResumeToken(mi.EMPTY_BYTE_STRING,E.snapshotVersion)),$U(i,f);const T=new ld(E.target,f,y,E.sequenceNumber);CN(i,T)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Ve("RemoteStore","Failed to raise snapshot:",r),yield AS(n,r)}var r}),AN.apply(this,arguments)}function AS(n,e,t){return xN.apply(this,arguments)}function xN(){return xN=(0,k.Z)(function*(n,e,t){if(!lf(e))throw e;n.vu.add(1),yield tv(n),n.bu.set("Offline"),t||(t=()=>PU(n.localStore)),n.asyncQueue.enqueueRetryable((0,k.Z)(function*(){Ve("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Nw(n)}))}),xN.apply(this,arguments)}function zU(n,e){return e().catch(t=>AS(n,t,e))}function nv(n){return RN.apply(this,arguments)}function RN(){return RN=(0,k.Z)(function*(n){const e=Xe(n),t=Cf(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;dz(e);)try{const i=yield KG(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,hz(e,i)}catch(i){yield AS(e,i)}WU(e)&&qU(e)}),RN.apply(this,arguments)}function dz(n){return wf(n)&&n.Eu.length<10}function hz(n,e){n.Eu.push(e);const t=Cf(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function WU(n){return wf(n)&&!Cf(n).Uo()&&n.Eu.length>0}function qU(n){Cf(n).start()}function fz(n){return MN.apply(this,arguments)}function MN(){return MN=(0,k.Z)(function*(n){Cf(n).hu()}),MN.apply(this,arguments)}function pz(n){return PN.apply(this,arguments)}function PN(){return PN=(0,k.Z)(function*(n){const e=Cf(n);for(const t of n.Eu)e.uu(t.mutations)}),PN.apply(this,arguments)}function gz(n,e,t){return NN.apply(this,arguments)}function NN(){return NN=(0,k.Z)(function*(n,e,t){const r=n.Eu.shift(),i=HP.from(r,e,t);yield zU(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield nv(n)}),NN.apply(this,arguments)}function mz(n,e){return kN.apply(this,arguments)}function kN(){return kN=(0,k.Z)(function*(n,e){var t;e&&Cf(n).ou&&(yield(t=(0,k.Z)(function*(r,i){if(NV(a=i.code)&&a!==de.ABORTED){const c=r.Eu.shift();Cf(r).Qo(),yield zU(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield nv(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),WU(n)&&qU(n)}),kN.apply(this,arguments)}function ZU(n,e){return ON.apply(this,arguments)}function ON(){return ON=(0,k.Z)(function*(n,e){const t=Xe(n);t.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const r=wf(t);t.vu.add(3),yield tv(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Nw(t)}),ON.apply(this,arguments)}function FN(){return FN=(0,k.Z)(function*(n,e){const t=Xe(n);e?(t.vu.delete(2),yield Nw(t)):e||(t.vu.add(2),yield tv(t),t.bu.set("Unknown"))}),FN.apply(this,arguments)}function rv(n){return n.Su||(n.Su=function(e,t,r){const i=Xe(e);return i.fu(),new nz(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:uz.bind(null,n),ao:cz.bind(null,n),nu:lz.bind(null,n)}),n.Ru.push(function(){var e=(0,k.Z)(function*(t){t?(n.Su.Qo(),DN(n)?bN(n):n.bu.set("Unknown")):(yield n.Su.stop(),GU(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Cf(n){return n.Du||(n.Du=function(e,t,r){const i=Xe(e);return i.fu(),new rz(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:fz.bind(null,n),ao:mz.bind(null,n),au:pz.bind(null,n),cu:gz.bind(null,n)}),n.Ru.push(function(){var e=(0,k.Z)(function*(t){t?(n.Du.Qo(),yield nv(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ve("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class VN{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,a){const c=Date.now()+r,f=new VN(e,t,c,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iv(n,e){if(Vr("AsyncQueue",`${e}: ${n}`),lf(n))return new Re(de.UNAVAILABLE,`${e}: ${n}`);throw n}class sv{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Je.comparator(t.key,r.key):(t,r)=>Je.comparator(t.key,r.key),this.keyedMap=pw(),this.sortedSet=new Kn(this.comparator)}static emptySet(e){return new sv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sv)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new sv;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class KU{constructor(){this.Cu=new Kn(Je.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):rt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class ov{constructor(e,t,r,i,a,c,f,y,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=y,this.hasCachedResults=E}static fromInitialDocuments(e,t,r,i,a){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new ov(e,t,sv.emptySet(t),c,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class yz{constructor(){this.Nu=void 0,this.listeners=[]}}class _z{constructor(){this.queries=new ud(e=>pV(e),hw),this.onlineState="Unknown",this.ku=new Set}}function UN(n,e){return BN.apply(this,arguments)}function BN(){return BN=(0,k.Z)(function*(n,e){const t=Xe(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new yz),i)try{a.Nu=yield t.onListen(r)}catch(c){const f=iv(c,`Initialization of query '${VP(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Mu(t.onlineState),a.Nu&&e.$u(a.Nu)&&$N(t)}),BN.apply(this,arguments)}function jN(n,e){return HN.apply(this,arguments)}function HN(){return HN=(0,k.Z)(function*(n,e){const t=Xe(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),HN.apply(this,arguments)}function vz(n,e){const t=Xe(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const f of c.listeners)f.$u(i)&&(r=!0);c.Nu=i}}r&&$N(t)}function Iz(n,e,t){const r=Xe(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function $N(n){n.ku.forEach(e=>{e.next()})}class GN{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new ov(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=ov.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class JU{constructor(e){this.key=e}}class XU{constructor(e){this.key=e}}class eB{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Zt(),this.mutatedKeys=Zt(),this.tc=mV(e),this.ec=new sv(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new KU,i=t?t.ec:this.ec;let a=t?t.mutatedKeys:this.mutatedKeys,c=i,f=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,E="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,S)=>{const O=i.get(T),j=fw(this.query,S)?S:null,X=!!O&&this.mutatedKeys.has(O.key),De=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Ae=!1;O&&j?O.data.isEqual(j.data)?X!==De&&(r.track({type:3,doc:j}),Ae=!0):this.rc(O,j)||(r.track({type:2,doc:j}),Ae=!0,(y&&this.tc(j,y)>0||E&&this.tc(j,E)<0)&&(f=!0)):!O&&j?(r.track({type:0,doc:j}),Ae=!0):O&&!j&&(r.track({type:1,doc:O}),Ae=!0,(y||E)&&(f=!0)),Ae&&(j?(c=c.add(j),a=De?a.add(T):a.delete(T)):(c=c.delete(T),a=a.delete(T)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const T="F"===this.query.limitType?c.last():c.first();c=c.delete(T.key),a=a.delete(T.key),r.track({type:1,doc:T})}return{ec:c,ic:r,zi:f,mutatedKeys:a}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((E,T)=>function(S,O){const j=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return j(S)-j(O)}(E.type,T.type)||this.tc(E.doc,T.doc)),this.oc(r);const c=t?this.uc():[],f=0===this.Zu.size&&this.current?1:0,y=f!==this.Xu;return this.Xu=f,0!==a.length||y?{snapshot:new ov(this.query,e.ec,i,a,e.mutatedKeys,0===f,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new KU,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Zt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new XU(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new JU(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Zt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return ov.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Cz{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class bz{constructor(e){this.key=e,this.fc=!1}}class Dz{constructor(e,t,r,i,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new ud(f=>pV(f),hw),this._c=new Map,this.mc=new Set,this.gc=new Kn(Je.comparator),this.yc=new Map,this.Ic=new iN,this.Tc={},this.Ec=new Map,this.Ac=Bg.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Tz(n,e){return zN.apply(this,arguments)}function zN(){return zN=(0,k.Z)(function*(n,e){const t=pk(n);let r,i;const a=t.wc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.lc();else{const c=yield X_(t.localStore,Ns(e)),f=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield WN(t,e,r,"current"===f,c.resumeToken),t.isPrimaryClient&&SS(t.remoteStore,c)}return i}),zN.apply(this,arguments)}function WN(n,e,t,r,i){return qN.apply(this,arguments)}function qN(){return qN=(0,k.Z)(function*(n,e,t,r,i){n.Rc=(S,O,j)=>{return(X=(0,k.Z)(function*(De,Ae,Qe,ct){let pt=Ae.view.sc(Qe);pt.zi&&(pt=yield wS(De.localStore,Ae.query,!1).then(({documents:Xt})=>Ae.view.sc(Xt,pt)));const Pt=ct&&ct.targetChanges.get(Ae.targetId),Kt=Ae.view.applyChanges(pt,De.isPrimaryClient,Pt);return rk(De,Ae.targetId,Kt.cc),Kt.snapshot}),function(De,Ae,Qe,ct){return X.apply(this,arguments)})(n,S,O,j);var X};const a=yield wS(n.localStore,e,!0),c=new eB(e,a.ir),f=c.sc(a.documents),y=Iw.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),E=c.applyChanges(f,n.isPrimaryClient,y);rk(n,t,E.cc);const T=new Cz(e,t,c);return n.wc.set(e,T),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),E.snapshot}),qN.apply(this,arguments)}function Sz(n,e){return ZN.apply(this,arguments)}function ZN(){return ZN=(0,k.Z)(function*(n,e){const t=Xe(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(a=>!hw(a,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ev(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),kw(t.remoteStore,r.targetId),av(t,r.targetId)}).catch(cf))):(av(t,r.targetId),yield ev(t.localStore,r.targetId,!0))}),ZN.apply(this,arguments)}function KN(){return KN=(0,k.Z)(function*(n,e,t){const r=gk(n);try{const i=yield function(a,c){const f=Xe(a),y=hr.now(),E=c.reduce((O,j)=>O.add(j.key),Zt());let T,S;return f.persistence.runTransaction("Locally write mutations","readwrite",O=>{let j=lo(),X=Zt();return f.Zi.getEntries(O,E).next(De=>{j=De,j.forEach((Ae,Qe)=>{Qe.isValidDocument()||(X=X.add(Ae))})}).next(()=>f.localDocuments.getOverlayedDocuments(O,j)).next(De=>{T=De;const Ae=[];for(const Qe of c){const ct=rG(Qe,T.get(Qe.key).overlayedDocument);null!=ct&&Ae.push(new cd(Qe.key,ct,eV(ct.value.mapValue),fr.exists(!0)))}return f.mutationQueue.addMutationBatch(O,y,Ae,c)}).next(De=>{S=De;const Ae=De.applyToLocalDocumentSet(T,X);return f.documentOverlayCache.saveOverlays(O,De.batchId,Ae)})}).then(()=>({batchId:S.batchId,changes:_V(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,f){let y=a.Tc[a.currentUser.toKey()];y||(y=new Kn(jt)),y=y.insert(c,f),a.Tc[a.currentUser.toKey()]=y}(r,i.batchId,t),yield dd(r,i.changes),yield nv(r.remoteStore)}catch(i){const a=iv(i,"Failed to persist write");t.reject(a)}}),KN.apply(this,arguments)}function tB(n,e){return YN.apply(this,arguments)}function YN(){return YN=(0,k.Z)(function*(n,e){const t=Xe(n);try{const r=yield ZG(t.localStore,e);e.targetChanges.forEach((i,a)=>{const c=t.yc.get(a);c&&(It(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.fc=!0:i.modifiedDocuments.size>0?It(c.fc):i.removedDocuments.size>0&&(It(c.fc),c.fc=!1))}),yield dd(t,r,e)}catch(r){yield cf(r)}}),YN.apply(this,arguments)}function nB(n,e,t){const r=Xe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((a,c)=>{const f=c.view.Mu(e);f.snapshot&&i.push(f.snapshot)}),function(a,c){const f=Xe(a);f.onlineState=c;let y=!1;f.queries.forEach((E,T)=>{for(const S of T.listeners)S.Mu(c)&&(y=!0)}),y&&$N(f)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function xz(n,e,t){return QN.apply(this,arguments)}function QN(){return QN=(0,k.Z)(function*(n,e,t){const r=Xe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),a=i&&i.key;if(a){let c=new Kn(Je.comparator);c=c.insert(a,or.newNoDocument(a,bt.min()));const f=Zt().add(a),y=new vw(bt.min(),new Map,new Kn(jt),c,f);yield tB(r,y),r.gc=r.gc.remove(a),r.yc.delete(e),ik(r)}else yield ev(r.localStore,e,!1).then(()=>av(r,e,t)).catch(cf)}),QN.apply(this,arguments)}function Rz(n,e){return JN.apply(this,arguments)}function JN(){return JN=(0,k.Z)(function*(n,e){const t=Xe(n),r=e.batch.batchId;try{const i=yield qG(t.localStore,e);nk(t,r,null),tk(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield dd(t,i)}catch(i){yield cf(i)}}),JN.apply(this,arguments)}function Mz(n,e,t){return XN.apply(this,arguments)}function XN(){return XN=(0,k.Z)(function*(n,e,t){const r=Xe(n);try{const i=yield function(a,c){const f=Xe(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return f.mutationQueue.lookupMutationBatch(y,c).next(T=>(It(null!==T),E=T.keys(),f.mutationQueue.removeMutationBatch(y,T))).next(()=>f.mutationQueue.performConsistencyCheck(y)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(y,E,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>f.localDocuments.getDocuments(y,E))})}(r.localStore,e);nk(r,e,t),tk(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield dd(r,i)}catch(i){yield cf(i)}}),XN.apply(this,arguments)}function tk(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function nk(n,e,t){const r=Xe(n);let i=r.Tc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function av(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||rB(n,r)})}function rB(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(kw(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),ik(n))}function rk(n,e,t){for(const r of t)r instanceof JU?(n.Ic.addReference(r.key,e),Nz(n,r)):r instanceof XU?(Ve("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||rB(n,r.key)):rt()}function Nz(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Ve("SyncEngine","New document in limbo: "+t),n.mc.add(r),ik(n))}function ik(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Je(yn.fromString(e)),r=n.Ac.next();n.yc.set(r,new bz(t)),n.gc=n.gc.insert(t,r),SS(n.remoteStore,new ld(Ns(G_(t.path)),r,"TargetPurposeLimboResolution",Go.ct))}}function dd(n,e,t){return sk.apply(this,arguments)}function sk(){return sk=(0,k.Z)(function*(n,e,t){const r=Xe(n),i=[],a=[],c=[];var f;r.wc.isEmpty()||(r.wc.forEach((f,y)=>{c.push(r.Rc(y,e,t).then(E=>{if((E||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,E?.fromCache?"not-current":"current"),E){i.push(E);const T=cN.Li(y.targetId,E);a.push(T)}}))}),yield Promise.all(c),r.dc.nu(i),yield(f=(0,k.Z)(function*(y,E){const T=Xe(y);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ae.forEach(E,O=>ae.forEach(O.Fi,j=>T.persistence.referenceDelegate.addReference(S,O.targetId,j)).next(()=>ae.forEach(O.Bi,j=>T.persistence.referenceDelegate.removeReference(S,O.targetId,j)))))}catch(S){if(!lf(S))throw S;Ve("LocalStore","Failed to update sequence numbers: "+S)}for(const S of E){const O=S.targetId;if(!S.fromCache){const j=T.Ji.get(O),De=j.withLastLimboFreeSnapshotVersion(j.snapshotVersion);T.Ji=T.Ji.insert(O,De)}}}),function(y,E){return f.apply(this,arguments)})(r.localStore,a))}),sk.apply(this,arguments)}function kz(n,e){return ok.apply(this,arguments)}function ok(){return ok=(0,k.Z)(function*(n,e){const t=Xe(n);if(!t.currentUser.isEqual(e)){Ve("SyncEngine","User change. New user:",e.toKey());const r=yield MU(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(c=>{c.forEach(f=>{f.reject(new Re(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield dd(t,r.er)}var i}),ok.apply(this,arguments)}function Oz(n,e){const t=Xe(n),r=t.yc.get(e);if(r&&r.fc)return Zt().add(r.key);{let i=Zt();const a=t._c.get(e);if(!a)return i;for(const c of a){const f=t.wc.get(c);i=i.unionWith(f.view.nc)}return i}}function pk(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=tB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Oz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xz.bind(null,e),e.dc.nu=vz.bind(null,e.eventManager),e.dc.Pc=Iz.bind(null,e.eventManager),e}function gk(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Mz.bind(null,e),e}class Ow{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,k.Z)(function*(){t.serializer=Pw(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function RU(n,e,t,r){return new WG(n,e,t,r)}(this.persistence,new xU,e.initialUser,this.serializer)}createPersistence(e){return new sN(vS.zs,this.serializer)}createSharedClientState(e){return new UU}terminate(){var e=this;return(0,k.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class uv{initialize(e,t){var r=this;return(0,k.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>nB(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=kz.bind(null,r.syncEngine),yield function LN(n,e){return FN.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new _z}createDatastore(e){const t=Pw(e.databaseInfo.databaseId),r=new tz(e.databaseInfo);return new iz(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>nB(this.syncEngine,f,0),c=BU.D()?new BU:new JG,new az(t,r,i,a,c);var t,r,i,a,c}createSyncEngine(e,t){return function(r,i,a,c,f,y,E){const T=new Dz(r,i,a,c,f,y);return E&&(T.vc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return function(){var e=(0,k.Z)(function*(t){const r=Xe(t);Ve("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield tv(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}class xS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Vr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Zz{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Oi.UNAUTHENTICATED,this.clientId=R2.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,k.Z)(function*(f){Ve("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Ve("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,k.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,k.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=iv(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function RS(n,e){return yk.apply(this,arguments)}function yk(){return yk=(0,k.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,k.Z)(function*(a){r.isEqual(a)||(yield MU(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),yk.apply(this,arguments)}function _k(n,e){return vk.apply(this,arguments)}function vk(){return vk=(0,k.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Ik(n);Ve("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>ZU(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>ZU(e.remoteStore,a)),n._onlineComponents=e}),vk.apply(this,arguments)}function uB(n){return"FirebaseError"===n.name?n.code===de.FAILED_PRECONDITION||n.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function Ik(n){return Ek.apply(this,arguments)}function Ek(){return Ek=(0,k.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ve("FirestoreClient","Using user provided OfflineComponentProvider");try{yield RS(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!uB(t))throw t;xa("Error using user provided cache. Falling back to memory cache: "+t),yield RS(n,new Ow)}}else Ve("FirestoreClient","Using default OfflineComponentProvider"),yield RS(n,new Ow);return n._offlineComponents}),Ek.apply(this,arguments)}function MS(n){return wk.apply(this,arguments)}function wk(){return wk=(0,k.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ve("FirestoreClient","Using user provided OnlineComponentProvider"),yield _k(n,n._uninitializedComponentsProvider._online)):(Ve("FirestoreClient","Using default OnlineComponentProvider"),yield _k(n,new uv))),n._onlineComponents}),wk.apply(this,arguments)}function PS(n){return Ik(n).then(e=>e.localStore)}function cv(n){return bk.apply(this,arguments)}function bk(){return bk=(0,k.Z)(function*(n){const e=yield MS(n),t=e.eventManager;return t.onListen=Tz.bind(null,e.syncEngine),t.onUnlisten=Sz.bind(null,e.syncEngine),t}),bk.apply(this,arguments)}function hB(n,e,t={}){const r=new gi;return n.asyncQueue.enqueueAndForget((0,k.Z)(function*(){return function(i,a,c,f,y){const E=new xS({next:S=>{a.enqueueAndForget(()=>jN(i,T));const O=S.docs.has(c);!O&&S.fromCache?y.reject(new Re(de.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&S.fromCache&&f&&"server"===f.source?y.reject(new Re(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new GN(G_(c.path),E,{includeMetadataChanges:!0,Ku:!0});return UN(i,T)}(yield cv(n),n.asyncQueue,e,t,r)})),r.promise}function fB(n,e,t={}){const r=new gi;return n.asyncQueue.enqueueAndForget((0,k.Z)(function*(){return function(i,a,c,f,y){const E=new xS({next:S=>{a.enqueueAndForget(()=>jN(i,T)),S.fromCache&&"server"===f.source?y.reject(new Re(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new GN(c,E,{includeMetadataChanges:!0,Ku:!0});return UN(i,T)}(yield cv(n),n.asyncQueue,e,t,r)})),r.promise}function pB(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const gB=new Map;function Dk(n,e,t){if(!t)throw new Re(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function yB(n){if(!Je.isDocumentKey(n))throw new Re(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _B(n){if(Je.isDocumentKey(n))throw new Re(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function NS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}function un(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=NS(n);throw new Re(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function vB(n,e){if(e<=0)throw new Re(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class IB{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Re(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Re(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function mB(n,e,t,r){if(!0===e&&!0===r)throw new Re(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=pB(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Re(de.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Re(de.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Re(de.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lw{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IB({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Re(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Re(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IB(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new n4;switch(t.type){case"firstParty":return new o4(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Re(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=gB.get(e);t&&(Ve("ComponentProvider","Removing Datastore"),gB.delete(e),t.terminate())}(this),Promise.resolve()}}class ar{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ar(this.firestore,e,this._key)}}class is{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new is(this.firestore,e,this._query)}}class Nc extends is{constructor(e,t,r){super(e,t,G_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ar(this.firestore,null,new Je(e))}withConverter(e){return new Nc(this.firestore,e,this._path)}}function kS(n,e,...t){if(n=(0,En.m9)(n),1===arguments.length&&(e=R2.A()),Dk("doc","path",e),n instanceof Lw){const r=yn.fromString(e,...t);return yB(r),new ar(n,null,new Je(r))}{if(!(n instanceof ar||n instanceof Nc))throw new Re(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(yn.fromString(e,...t));return yB(r),new ar(n.firestore,n instanceof Nc?n.converter:null,new Je(r))}}function CB(n,e){return n=(0,En.m9)(n),e=(0,En.m9)(e),(n instanceof ar||n instanceof Nc)&&(e instanceof ar||e instanceof Nc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Tk(n,e){return n=(0,En.m9)(n),e=(0,En.m9)(e),n instanceof is&&e instanceof is&&n.firestore===e.firestore&&hw(n._query,e._query)&&n.converter===e.converter}class iW{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new vN(this,"async_queue_retry"),this.Xc=()=>{const t=TS();t&&Ve("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=TS();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=TS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new gi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,k.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!lf(t))throw t;Ve("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Vr("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=VN.createAndSchedule(this,e,t,r,a=>this.na(a));return this.zc.push(i),i}Zc(){this.Wc&&rt()}verifyOperationInProgress(){}sa(){var e=this;return(0,k.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Sk(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class ur extends Lw{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new iW,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||bB(this),this._firestoreClient.terminate()}}function Br(n){return n._firestoreClient||bB(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function bB(n){var e,t,r;const i=n._freezeSettings(),a=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new L4(n._databaseId,f,n._persistenceKey,(E=i).host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,pB(E.experimentalLongPollingOptions),E.useFetchStreams));var f,E;n._firestoreClient=new Zz(n._authCredentials,n._appCheckCredentials,n._queue,a),(null===(t=i.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class kc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kc(mi.fromBase64String(e))}catch(t){throw new Re(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new kc(mi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class hd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Re(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hg{constructor(e){this._methodName=e}}class OS{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}}const mW=/^__.*__$/;class yW{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new cd(e,this.data,this.fieldMask,t,this.fieldTransforms):new q_(e,this.data,t,this.fieldTransforms)}}class SB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new cd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function AB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class LS{constructor(e,t,r,i,a,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new LS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return US(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(AB(this.ca)&&mW.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class _W{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Pw(e)}ya(e,t,r,i=!1){return new LS({ca:e,methodName:t,ga:r,path:Tr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $g(n){const e=n._freezeSettings(),t=Pw(n._databaseId);return new _W(n._databaseId,!!e.ignoreUndefinedProperties,t)}function FS(n,e,t,r,i,a={}){const c=n.ya(a.merge||a.mergeFields?2:0,e,t,i);Mk("Data must be an object, but it was:",c,r);const f=MB(r,c);let y,E;if(a.merge)y=new co(c.fieldMask),E=c.fieldTransforms;else if(a.mergeFields){const T=[];for(const S of a.mergeFields){const O=Uw(e,S,t);if(!c.contains(O))throw new Re(de.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);NB(T,O)||T.push(O)}y=new co(T),E=c.fieldTransforms.filter(S=>y.covers(S.field))}else y=null,E=c.fieldTransforms;return new yW(new rs(f),y,E)}class Vw extends Hg{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vw}}function RB(n,e,t,r=!1){return Gg(t,n.ya(r?4:3,e))}function Gg(n,e){if(PB(n=(0,En.m9)(n)))return Mk("Unsupported field value:",e,n),MB(n,e);if(n instanceof Hg)return function(t,r){if(!AB(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const c of t){let f=Gg(c,r.wa(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,En.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return wV(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=hr.fromDate(t);return{timestampValue:K_(r.serializer,i)}}if(t instanceof hr){const i=new hr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:K_(r.serializer,i)}}if(t instanceof OS)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof kc)return{bytesValue:$V(r.serializer,t._byteString)};if(t instanceof ar){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:qP(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${NS(t)}`)}(n,e)}function MB(n,e){const t={};return z2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):df(n,(r,i)=>{const a=Gg(i,e.ha(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function PB(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof hr||n instanceof OS||n instanceof kc||n instanceof ar||n instanceof Hg)}function Mk(n,e,t){if(!PB(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=NS(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Uw(n,e,t){if((e=(0,En.m9)(e))instanceof hd)return e._internalPath;if("string"==typeof e)return VS(n,e);throw US("Field path arguments must be of type string or ",n,!1,void 0,t)}const wW=new RegExp("[~\\*/\\[\\]]");function VS(n,e,t){if(e.search(wW)>=0)throw US(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new hd(...e.split("."))._internalPath}catch{throw US(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function US(n,e,t,r,i){const a=r&&!r.isEmpty(),c=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(a||c)&&(y+=" (found",a&&(y+=` in field ${r}`),c&&(y+=` in document ${i}`),y+=")"),new Re(de.INVALID_ARGUMENT,f+n+y)}function NB(n,e){return n.some(t=>t.isEqual(e))}class Bw{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ar(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new CW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(BS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class CW extends Bw{data(){return super.data()}}function BS(n,e){return"string"==typeof e?VS(n,e):e instanceof hd?e._internalPath:e._delegate._internalPath}function kB(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Re(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pk{}class jw extends Pk{}function bf(n,e,...t){let r=[];e instanceof Pk&&r.push(e),r=r.concat(t),function(i){const a=i.filter(f=>f instanceof lv).length,c=i.filter(f=>f instanceof Hw).length;if(a>1||a>0&&c>0)throw new Re(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Hw extends jw{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Hw(e,t,r)}_apply(e){const t=this._parse(e);return VB(e._query,t),new is(e.firestore,e.converter,FP(e._query,t))}_parse(e){const t=$g(e.firestore);return function(i,a,c,f,y,E,T){let S;if(y.isKeyField()){if("array-contains"===E||"array-contains-any"===E)throw new Re(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if("in"===E||"not-in"===E){FB(T,E);const O=[];for(const j of T)O.push(LB(f,i,j));S={arrayValue:{values:O}}}else S=LB(f,i,T)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||FB(T,E),S=RB(c,"where",T,"in"===E||"not-in"===E);return an.create(y,E,S)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class lv extends Pk{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new lv(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:kn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let a=r;const c=i.getFlattenedFilters();for(const f of c)VB(a,f),a=FP(a,f)}(e._query,t),new is(e.firestore,e.converter,FP(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Nk extends jw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Nk(e,t)}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Re(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Re(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new H_(i,a);return function(f,y){if(null===OP(f)){const E=iS(f);null!==E&&UB(0,E,y.field)}}(r,c),c}(e._query,this._field,this._direction);return new is(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new ad(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class jS extends jw{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new jS(e,t,r)}_apply(e){return new is(e.firestore,e.converter,sS(e._query,this._limit,this._limitType))}}class HS extends jw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new HS(e,t,r)}_apply(e){const t=OB(e,this.type,this._docOrFields,this._inclusive);return new is(e.firestore,e.converter,(i=t,new ad((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class $S extends jw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new $S(e,t,r)}_apply(e){const t=OB(e,this.type,this._docOrFields,this._inclusive);return new is(e.firestore,e.converter,(i=t,new ad((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function OB(n,e,t,r){if(t[0]=(0,En.m9)(t[0]),t[0]instanceof Bw)return function(i,a,c,f,y){if(!f)throw new Re(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const E=[];for(const T of Pg(i))if(T.field.isKeyField())E.push(Rg(a,f.key));else{const S=f.data.field(T.field);if(QT(S))throw new Re(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const O=T.field.canonicalString();throw new Re(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}E.push(S)}return new yf(E,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=$g(n.firestore);return function(a,c,f,y,E,T){const S=a.explicitOrderBy;if(E.length>S.length)throw new Re(de.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let j=0;j<E.length;j++){const X=E[j];if(S[j].field.isKeyField()){if("string"!=typeof X)throw new Re(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof X}`);if(!LP(a)&&-1!==X.indexOf("/"))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${X}' contains a slash.`);const De=a.path.child(yn.fromString(X));if(!Je.isDocumentKey(De))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${De}' is not because it contains an odd number of segments.`);const Ae=new Je(De);O.push(Rg(c,Ae))}else{const De=RB(f,y,X);O.push(De)}}return new yf(O,T)}(n._query,n.firestore._databaseId,i,e,t,r)}}function LB(n,e,t){if("string"==typeof(t=(0,En.m9)(t))){if(""===t)throw new Re(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LP(e)&&-1!==t.indexOf("/"))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(yn.fromString(t));if(!Je.isDocumentKey(r))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Rg(n,new Je(r))}if(t instanceof ar)return Rg(n,t._key);throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${NS(t)}.`)}function FB(n,e){if(!Array.isArray(n)||0===n.length)throw new Re(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VB(n,e){if(e.isInequality()){const r=iS(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Re(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=OP(n);null!==a&&UB(0,i,a)}const t=function(r,i){for(const a of r)for(const c of a.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Re(de.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function UB(n,e,t){if(!t.isEqual(e))throw new Re(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class kk{convertValue(e,t="none"){switch(gf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Sr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(od(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return df(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new OS(Sr(e.latitude),Sr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=JT(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(aw(e));default:return null}}convertTimestamp(e){const t=hf(e);return new hr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=yn.fromString(e);It(XV(r));const i=new ff(r.get(1),r.get(3)),a=new Je(r.popFirst(5));return i.isEqual(t)||Vr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function GS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class zg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fd extends Bw{constructor(e,t,r,i,a,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new $w(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(BS("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class $w extends fd{data(e={}){return super.data(e)}}class Df{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new zg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new $w(this._firestore,this._userDataWriter,r.key,r,new zg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new $w(r._firestore,r._userDataWriter,c.doc.key,c.doc,new zg(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const f=new $w(r._firestore,r._userDataWriter,c.doc.key,c.doc,new zg(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,E=-1;return 0!==c.type&&(y=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),E=a.indexOf(c.doc.key)),{type:kW(c.type),doc:f,oldIndex:y,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function kW(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function jB(n,e){return n instanceof fd&&e instanceof fd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Df&&e instanceof Df&&n._firestore===e._firestore&&Tk(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Tf extends kk{constructor(e){super(),this.firestore=e}convertBytes(e){return new kc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ar(this.firestore,null,t)}}function HB(n,e,t){n=un(n,ar);const r=un(n.firestore,ur),i=GS(n.converter,e,t);return dv(r,[FS($g(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,fr.none())])}function $B(n,e,t,...r){n=un(n,ar);const i=un(n.firestore,ur),a=$g(i);let c;return c="string"==typeof(e=(0,En.m9)(e))||e instanceof hd?function Rk(n,e,t,r,i,a){const c=n.ya(1,e,t),f=[Uw(e,r,t)],y=[i];if(a.length%2!=0)throw new Re(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<a.length;O+=2)f.push(Uw(e,a[O])),y.push(a[O+1]);const E=[],T=rs.empty();for(let O=f.length-1;O>=0;--O)if(!NB(E,f[O])){const j=f[O];let X=y[O];X=(0,En.m9)(X);const De=c.da(j);if(X instanceof Vw)E.push(j);else{const Ae=Gg(X,De);null!=Ae&&(E.push(j),T.set(j,Ae))}}const S=new co(E);return new SB(T,S,c.fieldTransforms)}(a,"updateDoc",n._key,e,t,r):function xk(n,e,t,r){const i=n.ya(1,e,t);Mk("Data must be an object, but it was:",i,r);const a=[],c=rs.empty();df(r,(y,E)=>{const T=VS(e,y,t);E=(0,En.m9)(E);const S=i.da(T);if(E instanceof Vw)a.push(T);else{const O=Gg(E,S);null!=O&&(a.push(T),c.set(T,O))}});const f=new co(a);return new SB(c,f,i.fieldTransforms)}(a,"updateDoc",n._key,e),dv(i,[c.toMutation(n._key,fr.exists(!0))])}function GB(n,...e){var t,r,i;n=(0,En.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||Sk(e[c])||(a=e[c],c++);const f={includeMetadataChanges:a.includeMetadataChanges};if(Sk(e[c])){const S=e[c];e[c]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[c+1]=null===(r=S.error)||void 0===r?void 0:r.bind(S),e[c+2]=null===(i=S.complete)||void 0===i?void 0:i.bind(S)}let y,E,T;if(n instanceof ar)E=un(n.firestore,ur),T=G_(n._key.path),y={next:S=>{e[c]&&e[c](Ok(E,n,S))},error:e[c+1],complete:e[c+2]};else{const S=un(n,is);E=un(S.firestore,ur),T=S._query;const O=new Tf(E);y={next:j=>{e[c]&&e[c](new Df(E,O,S,j))},error:e[c+1],complete:e[c+2]},kB(n._query)}return function(S,O,j,X){const De=new xS(X),Ae=new GN(O,De,j);return S.asyncQueue.enqueueAndForget((0,k.Z)(function*(){return UN(yield cv(S),Ae)})),()=>{De.Dc(),S.asyncQueue.enqueueAndForget((0,k.Z)(function*(){return jN(yield cv(S),Ae)}))}}(Br(E),T,f,y)}function dv(n,e){return function(t,r){const i=new gi;return t.asyncQueue.enqueueAndForget((0,k.Z)(function*(){return function Az(n,e,t){return KN.apply(this,arguments)}(yield function Ck(n){return MS(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(Br(n),e)}function Ok(n,e,t){const r=t.docs.get(e._key),i=new Tf(n);return new fd(n,i,e._key,r,new zg(t.hasPendingWrites,t.fromCache),e.converter)}function qB(){if(typeof Uint8Array>"u")throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function ZB(){if(!function k4(){return typeof atob<"u"}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Gw{constructor(e){this._delegate=e}static fromBase64String(e){return ZB(),new Gw(kc.fromBase64String(e))}static fromUint8Array(e){return qB(),new Gw(kc.fromUint8Array(e))}toBase64(){return ZB(),this._delegate.toBase64()}toUint8Array(){return qB(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Fk(n){return function u5(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class zS extends kk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gw(new kc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ra.forKey(t,this.firestore,null)}}class Wg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new $w(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ww(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Wg.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new Wg(e,new zS(e),t),i.set(t,a)),a}}Wg.INSTANCES=new WeakMap;class Ra{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new zS(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ra(t,new ar(t._delegate,r,new Je(e)))}static forKey(e,t,r){return new Ra(t,new ar(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new hv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new hv(this.firestore,function wB(n,e,...t){if(n=(0,En.m9)(n),Dk("collection","path",e),n instanceof Lw){const r=yn.fromString(e,...t);return _B(r),new Nc(n,null,r)}{if(!(n instanceof ar||n instanceof Nc))throw new Re(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(yn.fromString(e,...t));return _B(r),new Nc(n.firestore,null,r)}}(this._delegate,e))}catch(t){throw ks(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,En.m9)(e))instanceof ar&&CB(this._delegate,e)}set(e,t){t=function Lk(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}("DocumentReference.set",t);try{return t?HB(this._delegate,e,t):HB(this._delegate,e)}catch(r){throw ks(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?$B(this._delegate,e):$B(this._delegate,e,t,...r)}catch(i){throw ks(i,"updateDoc()","DocumentReference.update()")}}delete(){return function jW(n){return dv(un(n.firestore,ur),[new Z_(n._key,fr.none())])}(this._delegate)}onSnapshot(...e){const t=JB(e),r=XB(e,i=>new zw(this.firestore,new fd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return GB(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function LW(n){n=un(n,ar);const e=un(n.firestore,ur),t=Br(e),r=new Tf(e);return function Qz(n,e){const t=new gi;return n.asyncQueue.enqueueAndForget((0,k.Z)(function*(){return(r=(0,k.Z)(function*(i,a,c){try{const f=yield function(y,E){const T=Xe(y);return T.persistence.runTransaction("read document","readonly",S=>T.localDocuments.getDocument(S,E))}(i,a);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new Re(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const y=iv(f,`Failed to get document '${a} from cache`);c.reject(y)}}),function(i,a,c){return r.apply(this,arguments)})(yield PS(n),e,t);var r})),t.promise}(t,n._key).then(i=>new fd(e,r,n._key,i,new zg(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function FW(n){n=un(n,ar);const e=un(n.firestore,ur);return hB(Br(e),n._key,{source:"server"}).then(t=>Ok(e,n,t))}(this._delegate):function OW(n){n=un(n,ar);const e=un(n.firestore,ur);return hB(Br(e),n._key).then(t=>Ok(e,n,t))}(this._delegate),t.then(r=>new zw(this.firestore,new fd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ra(this.firestore,this._delegate.withConverter(e?Wg.getInstance(this.firestore,e):null))}}function ks(n,e,t){return n.message=n.message.replace(e,t),n}function JB(n){for(const e of n)if("object"==typeof e&&!Fk(e))return e;return{}}function XB(n,e){var t,r;let i;return i=Fk(n[0])?n[0]:Fk(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class zw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ra(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return jB(this._delegate,e._delegate)}}class Ww extends zw{data(e){const t=this._delegate.data(e);return function t4(n,e){n||rt()}(void 0!==t),t}}class Os{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new zS(e)}where(e,t,r){try{return new Os(this.firestore,bf(this._delegate,function bW(n,e,t){const r=e,i=BS("where",n);return Hw._create(i,r,t)}(e,t,r)))}catch(i){throw ks(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Os(this.firestore,bf(this._delegate,function DW(n,e="asc"){const t=e,r=BS("orderBy",n);return Nk._create(r,t)}(e,t)))}catch(r){throw ks(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Os(this.firestore,bf(this._delegate,function TW(n){return vB("limit",n),jS._create("limit",n,"F")}(e)))}catch(t){throw ks(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Os(this.firestore,bf(this._delegate,function SW(n){return vB("limitToLast",n),jS._create("limitToLast",n,"L")}(e)))}catch(t){throw ks(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Os(this.firestore,bf(this._delegate,function AW(...n){return HS._create("startAt",n,!0)}(...e)))}catch(t){throw ks(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Os(this.firestore,bf(this._delegate,function xW(...n){return HS._create("startAfter",n,!1)}(...e)))}catch(t){throw ks(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Os(this.firestore,bf(this._delegate,function RW(...n){return $S._create("endBefore",n,!1)}(...e)))}catch(t){throw ks(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Os(this.firestore,bf(this._delegate,function MW(...n){return $S._create("endAt",n,!0)}(...e)))}catch(t){throw ks(t,"endAt()","Query.endAt()")}}isEqual(e){return Tk(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function UW(n){n=un(n,is);const e=un(n.firestore,ur),t=Br(e),r=new Tf(e);return function Jz(n,e){const t=new gi;return n.asyncQueue.enqueueAndForget((0,k.Z)(function*(){return(r=(0,k.Z)(function*(i,a,c){try{const f=yield wS(i,a,!0),y=new eB(a,f.ir),E=y.sc(f.documents),T=y.applyChanges(E,!1);c.resolve(T.snapshot)}catch(f){const y=iv(f,`Failed to execute query '${a} against cache`);c.reject(y)}}),function(i,a,c){return r.apply(this,arguments)})(yield PS(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Df(e,r,n,i))}(this._delegate):"server"===e?.source?function BW(n){n=un(n,is);const e=un(n.firestore,ur),t=Br(e),r=new Tf(e);return fB(t,n._query,{source:"server"}).then(i=>new Df(e,r,n,i))}(this._delegate):function VW(n){n=un(n,is);const e=un(n.firestore,ur),t=Br(e),r=new Tf(e);return kB(n._query),fB(t,n._query).then(i=>new Df(e,r,n,i))}(this._delegate),t.then(r=>new Vk(this.firestore,new Df(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=JB(e),r=XB(e,i=>new Vk(this.firestore,new Df(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return GB(this._delegate,t,r)}withConverter(e){return new Os(this.firestore,this._delegate.withConverter(e?Wg.getInstance(this.firestore,e):null))}}class d5{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ww(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Vk{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Os(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ww(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new d5(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Ww(this._firestore,r))})}isEqual(e){return jB(this._delegate,e._delegate)}}class hv extends Os{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ra(this.firestore,e):null}doc(e){try{return new Ra(this.firestore,void 0===e?kS(this._delegate):kS(this._delegate,e))}catch(t){throw ks(t,"doc()","CollectionReference.doc()")}}add(e){return function HW(n,e){const t=un(n.firestore,ur),r=kS(n),i=GS(n.converter,e);return dv(t,[FS($g(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,fr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ra(this.firestore,t))}isEqual(e){return CB(this._delegate,e._delegate)}withConverter(e){return new hv(this.firestore,this._delegate.withConverter(e?Wg.getInstance(this.firestore,e):null))}}function ej(n,e){return function g5(n,e=$3.z){return new Wi.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function Bk(n,e){return ej(n,e).pipe((0,wt.U)(t=>({payload:t,type:"query"})))}function WS(n,e){return Bk(n,e).pipe(ZD(void 0),NM(),(0,wt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,f)=>{const y=i.find(T=>T.doc.ref.isEqual(c.ref)),E=t?.payload.docs.find(T=>T.ref.isEqual(c.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(c.metadata)||!y&&E&&JSON.stringify(E.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:c}})}),a}))}function tj(n,e,t){return WS(n,t).pipe(_E((r,i)=>function y5(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function _5(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return jk(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return jk(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return jk(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),function G3(n,e=mg.y){return n=n??z3,(0,cs.e)((t,r)=>{let i,a=!0;t.subscribe((0,on.x)(r,c=>{const f=e(c);(a||!n(i,f))&&(a=!1,i=f,r.next(c))}))})}(),(0,wt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function jk(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function nj(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class rj{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=WS(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,wt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(ZD(void 0),NM(),Ji(([r,i])=>i.length>0||!r),(0,wt.U)(([r,i])=>i),Kr.iC)}auditTrail(e){return this.stateChanges(e).pipe(_E((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=nj(e);return tj(this.query,t,this.afs.schedulers.outsideAngular).pipe(Kr.iC)}valueChanges(e={}){return Bk(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Kr.iC)}get(e){return(0,sn.D)(this.query.get(e)).pipe(Kr.iC)}add(e){return this.ref.add(e)}doc(e){return new ij(this.ref.doc(e),this.afs)}}class ij{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=aj(r,t);return new rj(i,a,this.afs)}snapshotChanges(){return function m5(n,e){return ej(n,e).pipe(ZD(void 0),NM(),(0,wt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Kr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,wt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,sn.D)(this.ref.get(e)).pipe(Kr.iC)}}class v5{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?WS(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ji(t=>t.length>0),Kr.iC):WS(this.query,this.afs.schedulers.outsideAngular).pipe(Kr.iC)}auditTrail(e){return this.stateChanges(e).pipe(_E((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=nj(e);return tj(this.query,t,this.afs.schedulers.outsideAngular).pipe(Kr.iC)}valueChanges(e={}){return Bk(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Kr.iC)}get(e){return(0,sn.D)(this.query.get(e)).pipe(Kr.iC)}}const sj=new m.OlP("angularfire2.enableFirestorePersistence"),oj=new m.OlP("angularfire2.firestore.persistenceSettings"),I5=new m.OlP("angularfire2.firestore.settings"),E5=new m.OlP("angularfire2.firestore.use-emulator");function aj(n,e=(t=>t)){return{query:e(n),ref:n}}let Hk=(()=>{class n{constructor(t,r,i,a,c,f,y,E,T,S,O,j,X,De,Ae,Qe,ct){this.schedulers=y;const pt=(0,jo.on)(t,f,r),Pt=T;S&&k1(pt,f,O,X,De,Ae,j,Qe),[this.firestore,this.persistenceEnabled$]=(0,jo.cc)(`${pt.name}.firestore`,"AngularFirestore",pt.name,()=>{const Kt=f.runOutsideAngular(()=>pt.firestore());if(a&&Kt.settings(a),Pt&&Kt.useEmulator(...Pt),i&&!Qo(c)){const Xt=()=>{try{return(0,sn.D)(Kt.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch(yi){return typeof console<"u"&&console.warn(yi),mt(!1)}};return[Kt,f.runOutsideAngular(Xt)]}return[Kt,mt(!1)]},[a,Pt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=aj(i,r),f=this.schedulers.ngZone.run(()=>a);return new rj(f,c,this)}collectionGroup(t,r){const i=r||(c=>c),a=this.firestore.collectionGroup(t);return new v5(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new ij(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(jo.Dh),m.LFG(jo.xv,8),m.LFG(sj,8),m.LFG(I5,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(Kr.HU),m.LFG(oj,8),m.LFG(E5,8),m.LFG(qD,8),m.LFG(A1,8),m.LFG(x1,8),m.LFG(R1,8),m.LFG(M1,8),m.LFG(P1,8),m.LFG(N1,8),m.LFG(zR,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),w5=(()=>{class n{constructor(){S1.Z.registerVersion("angularfire",Kr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:sj,useValue:!0},{provide:oj,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:[Hk]}),n})(),C5=(()=>{class n{constructor(t,r,i){this.firestore=t,this.auth=r,this.afs=i}addItem(t){return this.firestore.collection("match-selections").add(t)}addOrUpdateItem(t,r){return this.firestore.collection("match-selections").doc(t).set(r,{merge:!0})}setItem(t,r){return this.firestore.collection("items").doc(t).set(r)}getItem(t){return this.firestore.collection("items").doc(t).get()}loadSelections(){return this.afs.collection("match-selections",t=>t.where("username","==",this.auth.userSubject.getValue()?.email)).valueChanges({idField:"id"})}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Hk),m.LFG(gE),m.LFG(Hk))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function b5(n,e){if(1&n&&(m.TgZ(0,"th"),m._uU(1),m.qZA()),2&n){const t=e.$implicit;m.xp6(1),m.hij("Week ",t,"")}}function D5(n,e){if(1&n&&(m.ynx(0),m._uU(1),m.TgZ(2,"span",3),m._uU(3),m.qZA(),m.BQk()),2&n){const t=m.oxw().ngIf,r=m.oxw(3);m.xp6(1),m.hij(" vs ",r.stripCity(t.away)," "),m.xp6(2),m.hij("(",r.formatVegasOdds(t.homeMoneyline),")")}}function T5(n,e){if(1&n&&(m.ynx(0),m._uU(1),m.TgZ(2,"span",3),m._uU(3),m.qZA(),m.BQk()),2&n){const t=m.oxw().ngIf,r=m.oxw(3);m.xp6(1),m.hij(" @ ",r.stripCity(t.home)," "),m.xp6(2),m.hij("(",r.formatVegasOdds(t.awayMoneyline),")")}}const S5=function(n,e,t){return{winner:n,loser:e,neutral:t}};function A5(n,e){if(1&n){const t=m.EpF();m.ynx(0),m.TgZ(1,"button",2),m.NdJ("click",function(){const a=m.CHM(t).ngIf,c=m.oxw(2).$implicit,f=m.oxw();return m.KtG(f.clickCell(a,c))}),m.YNc(2,D5,4,2,"ng-container",1),m.YNc(3,T5,4,2,"ng-container",1),m.qZA(),m.BQk()}if(2&n){const t=e.ngIf,r=m.oxw(2).$implicit,i=m.oxw();m.xp6(1),m.Q6J("ngClass",m.kEZ(3,S5,i.isWinner(t,r),i.isLoser(t,r),!t.winner)),m.xp6(1),m.Q6J("ngIf",t.home===r),m.xp6(1),m.Q6J("ngIf",t.away===r)}}function x5(n,e){if(1&n&&(m.TgZ(0,"td"),m.YNc(1,A5,4,7,"ng-container",1),m.qZA()),2&n){const t=e.$implicit,r=m.oxw().$implicit,i=m.oxw();m.xp6(1),m.Q6J("ngIf",i.getMatchup(t,r))}}function R5(n,e){if(1&n&&(m.TgZ(0,"tr")(1,"td"),m._uU(2),m.qZA(),m.YNc(3,x5,2,1,"td",0),m.TgZ(4,"td"),m._uU(5),m.qZA()()),2&n){const t=e.$implicit,r=m.oxw();m.xp6(2),m.Oqu(t),m.xp6(1),m.Q6J("ngForOf",r.weeks),m.xp6(2),m.AsE("",r.getTeamWins(t)," - ",r.getTeamLosses(t),"")}}let M5=(()=>{class n{constructor(t,r,i){this.matchupService=t,this.data=r,this.auth=i,this.matchups=[],this.teams=[],this.weeks=[]}ngOnInit(){this.auth.user$.subscribe(t=>{!t||(this.matchupService.loadMatchups().subscribe(r=>{this.matchups=r,this.matchupService.setMatchups(r),this.teams=this.getUniqueTeams(this.matchups),this.weeks=[...new Set(this.matchups.map(i=>i.week))].sort((i,a)=>i-a)}),this.data.loadSelections().subscribe(r=>{r.forEach(i=>{this.matchups=this.matchups.map(a=>a.home==i.homeTeam&&a.away==i.awayTeam?{...a,...i}:a)})}))})}add(t,r,i){this.data.addItem({username:this.auth.userSubject.getValue()?.email,homeTeam:t,awayTeam:r,winner:i}).then(a=>console.log("Added with ID:",a.id))}getUniqueTeams(t){const r=new Set;return t.forEach(i=>{r.add(i.home),r.add(i.away)}),Array.from(r).sort()}getMatchup(t,r){return this.matchups.find(i=>i.week===t&&(i.home===r||i.away===r))}clickCell(t,r){t.winner===r?(t.winner=void 0,this.data.addOrUpdateItem(this.auth.userSubject.getValue()?.email+t.home+t.away,{username:this.auth.userSubject.getValue()?.email,homeTeam:t.home,awayTeam:t.away,winner:""})):(t.winner=r,this.data.addOrUpdateItem(this.auth.userSubject.getValue()?.email+t.home+t.away,{username:this.auth.userSubject.getValue()?.email,homeTeam:t.home,awayTeam:t.away,winner:r})),this.matchupService.saveMatchup(t)}isWinner(t,r){return t.winner===r}isLoser(t,r){return!!t.winner&&t.winner!==r&&(t.home===r||t.away===r)}getTeamWins(t){return this.matchups.filter(r=>r.winner===t).length}getTeamLosses(t){return this.matchups.filter(r=>(r.home===t||r.away===t)&&r.winner&&r.winner!==t).length}stripCity(t){const r=t.split(" ");return 1===r.length?t:r.slice(-1).join(" ")}formatVegasOdds(t){return null==t?"":t>=0?`+${t}`:`${t}`}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(cF),m.Y36(C5),m.Y36(gE))},n.\u0275cmp=m.Xpm({type:n,selectors:[["app-matchup-grid"]],decls:10,vars:2,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"ngClass","click"],[1,"moneyline"]],template:function(t,r){1&t&&(m.TgZ(0,"table")(1,"thead")(2,"tr")(3,"th"),m._uU(4,"Team"),m.qZA(),m.YNc(5,b5,2,1,"th",0),m.TgZ(6,"th"),m._uU(7,"W-L"),m.qZA()()(),m.TgZ(8,"tbody"),m.YNc(9,R5,6,4,"tr",0),m.qZA()()),2&t&&(m.xp6(5),m.Q6J("ngForOf",r.weeks),m.xp6(4),m.Q6J("ngForOf",r.teams))},dependencies:[Ui,Fs,Ma],styles:["table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;font-size:14px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ccc;padding:4px;text-align:center}button[_ngcontent-%COMP%]{padding:4px 6px;width:100%;height:100%;font-size:12px;background-color:#eee;border:none;cursor:pointer}button.winner[_ngcontent-%COMP%]{background-color:#c8f7c5}button.loser[_ngcontent-%COMP%]{background-color:#f7c5c5}button.neutral[_ngcontent-%COMP%]{background-color:#ddd}.moneyline[_ngcontent-%COMP%]{font-size:.8em;color:#666;display:block}"]}),n})();const P5=[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){console.log("HomePage loaded")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=m.Xpm({type:n,selectors:[["app-home-page"]],decls:2,vars:0,template:function(t,r){1&t&&(m.TgZ(0,"h1"),m._uU(1,"Welcome to the Home Page"),m.qZA())}}),n})()},{path:"matchup",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=m.Xpm({type:n,selectors:[["app-matchup-grid-page"]],decls:1,vars:0,template:function(t,r){1&t&&m._UZ(0,"app-matchup-grid")},dependencies:[M5]}),n})(),canActivate:[(()=>{class n{constructor(t,r){this.router=t,this.auth=r,console.log("AuthGuard instantiated")}canActivate(t,r){const i=this.auth.userSubject.getValue();return console.log(i),!!i||this.router.parseUrl("/")}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Pi),m.LFG(gE))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()]},{path:"**",redirectTo:"",pathMatch:"full"}];let N5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[DM.forRoot(P5),DM]}),n})(),k5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n,bootstrap:[o3]}),n.\u0275inj=m.cJS({providers:[cF],imports:[Hd,DM.forRoot([]),mp,N5,H3,jo.hO.initializeApp(lF_firebase),w5,Rj]}),n})();(0,m.G48)(),Bu().bootstrapModule(k5).catch(n=>console.error(n))},9751:(yt,Me,U)=>{U.d(Me,{y:()=>ge});var P=U(2961),m=U(727),V=U(8822),re=U(9635),ce=U(2416),pe=U(576),Ie=U(2806);let ge=(()=>{class K{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const Ce=new K;return Ce.source=this,Ce.operator=Pe,Ce}subscribe(Pe,Ce,lt){const ve=function G(K){return K&&K instanceof P.Lv||function q(K){return K&&(0,pe.m)(K.next)&&(0,pe.m)(K.error)&&(0,pe.m)(K.complete)}(K)&&(0,m.Nn)(K)}(Pe)?Pe:new P.Hp(Pe,Ce,lt);return(0,Ie.x)(()=>{const{operator:ye,source:gt}=this;ve.add(ye?ye.call(ve,gt):gt?this._subscribe(ve):this._trySubscribe(ve))}),ve}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(Ce){Pe.error(Ce)}}forEach(Pe,Ce){return new(Ce=me(Ce))((lt,ve)=>{const ye=new P.Hp({next:gt=>{try{Pe(gt)}catch(_t){ve(_t),ye.unsubscribe()}},error:ve,complete:lt});this.subscribe(ye)})}_subscribe(Pe){var Ce;return null===(Ce=this.source)||void 0===Ce?void 0:Ce.subscribe(Pe)}[V.L](){return this}pipe(...Pe){return(0,re.U)(Pe)(this)}toPromise(Pe){return new(Pe=me(Pe))((Ce,lt)=>{let ve;this.subscribe(ye=>ve=ye,ye=>lt(ye),()=>Ce(ve))})}}return K.create=$e=>new K($e),K})();function me(K){var $e;return null!==($e=K??ce.v.Promise)&&void 0!==$e?$e:Promise}},7579:(yt,Me,U)=>{U.d(Me,{x:()=>Ie});var P=U(9751),m=U(727);const re=(0,U(3888).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=U(8737),pe=U(2806);let Ie=(()=>{class me extends P.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const K=new ge(this,this);return K.operator=G,K}_throwIfClosed(){if(this.closed)throw new re}next(G){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next(G)}})}error(G){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:K}=this;for(;K.length;)K.shift().error(G)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:K,isStopped:$e,observers:Pe}=this;return K||$e?m.Lc:(this.currentObservers=null,Pe.push(G),new m.w0(()=>{this.currentObservers=null,(0,ce.P)(Pe,G)}))}_checkFinalizedStatuses(G){const{hasError:K,thrownError:$e,isStopped:Pe}=this;K?G.error($e):Pe&&G.complete()}asObservable(){const G=new P.y;return G.source=this,G}}return me.create=(q,G)=>new ge(q,G),me})();class ge extends Ie{constructor(q,G){super(),this.destination=q,this.source=G}next(q){var G,K;null===(K=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===K||K.call(G,q)}error(q){var G,K;null===(K=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===K||K.call(G,q)}complete(){var q,G;null===(G=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===G||G.call(q)}_subscribe(q){var G,K;return null!==(K=null===(G=this.source)||void 0===G?void 0:G.subscribe(q))&&void 0!==K?K:m.Lc}}},2961:(yt,Me,U)=>{U.d(Me,{Hp:()=>lt,Lv:()=>K});var P=U(576),m=U(727),V=U(2416),re=U(7849);function ce(){}const pe=me("C",void 0,void 0);function me(Oe,Ee,_e){return{kind:Oe,value:Ee,error:_e}}var q=U(3410),G=U(2806);class K extends m.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,m.Nn)(Ee)&&Ee.add(this)):this.destination=_t}static create(Ee,_e,ze){return new lt(Ee,_e,ze)}next(Ee){this.isStopped?gt(function ge(Oe){return me("N",Oe,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?gt(function Ie(Oe){return me("E",void 0,Oe)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?gt(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function Pe(Oe,Ee){return $e.call(Oe,Ee)}class Ce{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:_e}=this;if(_e.next)try{_e.next(Ee)}catch(ze){ve(ze)}}error(Ee){const{partialObserver:_e}=this;if(_e.error)try{_e.error(Ee)}catch(ze){ve(ze)}else ve(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(_e){ve(_e)}}}class lt extends K{constructor(Ee,_e,ze){let je;if(super(),(0,P.m)(Ee)||!Ee)je={next:Ee??void 0,error:_e??void 0,complete:ze??void 0};else{let vt;this&&V.v.useDeprecatedNextContext?(vt=Object.create(Ee),vt.unsubscribe=()=>this.unsubscribe(),je={next:Ee.next&&Pe(Ee.next,vt),error:Ee.error&&Pe(Ee.error,vt),complete:Ee.complete&&Pe(Ee.complete,vt)}):je=Ee}this.destination=new Ce(je)}}function ve(Oe){V.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Oe):(0,re.h)(Oe)}function gt(Oe,Ee){const{onStoppedNotification:_e}=V.v;_e&&q.z.setTimeout(()=>_e(Oe,Ee))}const _t={closed:!0,next:ce,error:function ye(Oe){throw Oe},complete:ce}},727:(yt,Me,U)=>{U.d(Me,{Lc:()=>pe,w0:()=>ce,Nn:()=>Ie});var P=U(576);const V=(0,U(3888).d)(me=>function(G){me(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((K,$e)=>`${$e+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var re=U(8737);class ce{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Pe of G)Pe.remove(this);else G.remove(this);const{initialTeardown:K}=this;if((0,P.m)(K))try{K()}catch(Pe){q=Pe instanceof V?Pe.errors:[Pe]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const Pe of $e)try{ge(Pe)}catch(Ce){q=q??[],Ce instanceof V?q=[...q,...Ce.errors]:q.push(Ce)}}if(q)throw new V(q)}}add(q){var G;if(q&&q!==this)if(this.closed)ge(q);else{if(q instanceof ce){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(q)}}_hasParent(q){const{_parentage:G}=this;return G===q||Array.isArray(G)&&G.includes(q)}_addParent(q){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(q),G):G?[G,q]:q}_removeParent(q){const{_parentage:G}=this;G===q?this._parentage=null:Array.isArray(G)&&(0,re.P)(G,q)}remove(q){const{_finalizers:G}=this;G&&(0,re.P)(G,q),q instanceof ce&&q._removeParent(this)}}ce.EMPTY=(()=>{const me=new ce;return me.closed=!0,me})();const pe=ce.EMPTY;function Ie(me){return me instanceof ce||me&&"closed"in me&&(0,P.m)(me.remove)&&(0,P.m)(me.add)&&(0,P.m)(me.unsubscribe)}function ge(me){(0,P.m)(me)?me():me.unsubscribe()}},2416:(yt,Me,U)=>{U.d(Me,{v:()=>P});const P={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(yt,Me,U)=>{U.d(Me,{E:()=>m});const m=new(U(9751).y)(ce=>ce.complete())},8996:(yt,Me,U)=>{U.d(Me,{D:()=>Ee});var P=U(8421),m=U(5363),V=U(9468),pe=U(9751),ge=U(2202),me=U(576),q=U(9672);function K(_e,ze){if(!_e)throw new Error("Iterable cannot be null");return new pe.y(je=>{(0,q.f)(je,ze,()=>{const vt=_e[Symbol.asyncIterator]();(0,q.f)(je,ze,()=>{vt.next().then(ie=>{ie.done?je.complete():je.next(ie.value)})},0,!0)})})}var $e=U(3670),Pe=U(8239),Ce=U(1144),lt=U(6495),ve=U(2206),ye=U(4532),gt=U(3260);function Ee(_e,ze){return ze?function Oe(_e,ze){if(null!=_e){if((0,$e.c)(_e))return function re(_e,ze){return(0,P.Xf)(_e).pipe((0,V.R)(ze),(0,m.Q)(ze))}(_e,ze);if((0,Ce.z)(_e))return function Ie(_e,ze){return new pe.y(je=>{let vt=0;return ze.schedule(function(){vt===_e.length?je.complete():(je.next(_e[vt++]),je.closed||this.schedule())})})}(_e,ze);if((0,Pe.t)(_e))return function ce(_e,ze){return(0,P.Xf)(_e).pipe((0,V.R)(ze),(0,m.Q)(ze))}(_e,ze);if((0,ve.D)(_e))return K(_e,ze);if((0,lt.T)(_e))return function G(_e,ze){return new pe.y(je=>{let vt;return(0,q.f)(je,ze,()=>{vt=_e[ge.h](),(0,q.f)(je,ze,()=>{let ie,At;try{({value:ie,done:At}=vt.next())}catch(Nt){return void je.error(Nt)}At?je.complete():je.next(ie)},0,!0)}),()=>(0,me.m)(vt?.return)&&vt.return()})}(_e,ze);if((0,gt.L)(_e))return function _t(_e,ze){return K((0,gt.Q)(_e),ze)}(_e,ze)}throw(0,ye.z)(_e)}(_e,ze):(0,P.Xf)(_e)}},8421:(yt,Me,U)=>{U.d(Me,{Xf:()=>$e});var P=U(7582),m=U(1144),V=U(8239),re=U(9751),ce=U(3670),pe=U(2206),Ie=U(4532),ge=U(6495),me=U(3260),q=U(576),G=U(7849),K=U(8822);function $e(Oe){if(Oe instanceof re.y)return Oe;if(null!=Oe){if((0,ce.c)(Oe))return function Pe(Oe){return new re.y(Ee=>{const _e=Oe[K.L]();if((0,q.m)(_e.subscribe))return _e.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Oe);if((0,m.z)(Oe))return function Ce(Oe){return new re.y(Ee=>{for(let _e=0;_e<Oe.length&&!Ee.closed;_e++)Ee.next(Oe[_e]);Ee.complete()})}(Oe);if((0,V.t)(Oe))return function lt(Oe){return new re.y(Ee=>{Oe.then(_e=>{Ee.closed||(Ee.next(_e),Ee.complete())},_e=>Ee.error(_e)).then(null,G.h)})}(Oe);if((0,pe.D)(Oe))return ye(Oe);if((0,ge.T)(Oe))return function ve(Oe){return new re.y(Ee=>{for(const _e of Oe)if(Ee.next(_e),Ee.closed)return;Ee.complete()})}(Oe);if((0,me.L)(Oe))return function gt(Oe){return ye((0,me.Q)(Oe))}(Oe)}throw(0,Ie.z)(Oe)}function ye(Oe){return new re.y(Ee=>{(function _t(Oe,Ee){var _e,ze,je,vt;return(0,P.mG)(this,void 0,void 0,function*(){try{for(_e=(0,P.KL)(Oe);!(ze=yield _e.next()).done;)if(Ee.next(ze.value),Ee.closed)return}catch(ie){je={error:ie}}finally{try{ze&&!ze.done&&(vt=_e.return)&&(yield vt.call(_e))}finally{if(je)throw je.error}}Ee.complete()})})(Oe,Ee).catch(_e=>Ee.error(_e))})}},6451:(yt,Me,U)=>{U.d(Me,{T:()=>pe});var P=U(8189),m=U(8421),V=U(515),re=U(7669),ce=U(8996);function pe(...Ie){const ge=(0,re.yG)(Ie),me=(0,re._6)(Ie,1/0),q=Ie;return q.length?1===q.length?(0,m.Xf)(q[0]):(0,P.J)(me)((0,ce.D)(q,ge)):V.E}},5403:(yt,Me,U)=>{U.d(Me,{x:()=>m});var P=U(2961);function m(re,ce,pe,Ie,ge){return new V(re,ce,pe,Ie,ge)}class V extends P.Lv{constructor(ce,pe,Ie,ge,me,q){super(ce),this.onFinalize=me,this.shouldUnsubscribe=q,this._next=pe?function(G){try{pe(G)}catch(K){ce.error(K)}}:super._next,this._error=ge?function(G){try{ge(G)}catch(K){ce.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=Ie?function(){try{Ie()}catch(G){ce.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},4004:(yt,Me,U)=>{U.d(Me,{U:()=>V});var P=U(4482),m=U(5403);function V(re,ce){return(0,P.e)((pe,Ie)=>{let ge=0;pe.subscribe((0,m.x)(Ie,me=>{Ie.next(re.call(ce,me,ge++))}))})}},8189:(yt,Me,U)=>{U.d(Me,{J:()=>V});var P=U(5577),m=U(4671);function V(re=1/0){return(0,P.z)(m.y,re)}},5577:(yt,Me,U)=>{U.d(Me,{z:()=>ge});var P=U(4004),m=U(8421),V=U(4482),re=U(9672),ce=U(5403),Ie=U(576);function ge(me,q,G=1/0){return(0,Ie.m)(q)?ge((K,$e)=>(0,P.U)((Pe,Ce)=>q(K,Pe,$e,Ce))((0,m.Xf)(me(K,$e))),G):("number"==typeof q&&(G=q),(0,V.e)((K,$e)=>function pe(me,q,G,K,$e,Pe,Ce,lt){const ve=[];let ye=0,gt=0,_t=!1;const Oe=()=>{_t&&!ve.length&&!ye&&q.complete()},Ee=ze=>ye<K?_e(ze):ve.push(ze),_e=ze=>{Pe&&q.next(ze),ye++;let je=!1;(0,m.Xf)(G(ze,gt++)).subscribe((0,ce.x)(q,vt=>{$e?.(vt),Pe?Ee(vt):q.next(vt)},()=>{je=!0},void 0,()=>{if(je)try{for(ye--;ve.length&&ye<K;){const vt=ve.shift();Ce?(0,re.f)(q,Ce,()=>_e(vt)):_e(vt)}Oe()}catch(vt){q.error(vt)}}))};return me.subscribe((0,ce.x)(q,Ee,()=>{_t=!0,Oe()})),()=>{lt?.()}}(K,$e,me,G)))}},5363:(yt,Me,U)=>{U.d(Me,{Q:()=>re});var P=U(9672),m=U(4482),V=U(5403);function re(ce,pe=0){return(0,m.e)((Ie,ge)=>{Ie.subscribe((0,V.x)(ge,me=>(0,P.f)(ge,ce,()=>ge.next(me),pe),()=>(0,P.f)(ge,ce,()=>ge.complete(),pe),me=>(0,P.f)(ge,ce,()=>ge.error(me),pe)))})}},3099:(yt,Me,U)=>{U.d(Me,{B:()=>ce});var P=U(8421),m=U(7579),V=U(2961),re=U(4482);function ce(Ie={}){const{connector:ge=(()=>new m.x),resetOnError:me=!0,resetOnComplete:q=!0,resetOnRefCountZero:G=!0}=Ie;return K=>{let $e,Pe,Ce,lt=0,ve=!1,ye=!1;const gt=()=>{Pe?.unsubscribe(),Pe=void 0},_t=()=>{gt(),$e=Ce=void 0,ve=ye=!1},Oe=()=>{const Ee=$e;_t(),Ee?.unsubscribe()};return(0,re.e)((Ee,_e)=>{lt++,!ye&&!ve&&gt();const ze=Ce=Ce??ge();_e.add(()=>{lt--,0===lt&&!ye&&!ve&&(Pe=pe(Oe,G))}),ze.subscribe(_e),!$e&&lt>0&&($e=new V.Hp({next:je=>ze.next(je),error:je=>{ye=!0,gt(),Pe=pe(_t,me,je),ze.error(je)},complete:()=>{ve=!0,gt(),Pe=pe(_t,q),ze.complete()}}),(0,P.Xf)(Ee).subscribe($e))})(K)}}function pe(Ie,ge,...me){if(!0===ge)return void Ie();if(!1===ge)return;const q=new V.Hp({next:()=>{q.unsubscribe(),Ie()}});return ge(...me).subscribe(q)}},9468:(yt,Me,U)=>{U.d(Me,{R:()=>m});var P=U(4482);function m(V,re=0){return(0,P.e)((ce,pe)=>{pe.add(V.schedule(()=>ce.subscribe(pe),re))})}},8505:(yt,Me,U)=>{U.d(Me,{b:()=>ce});var P=U(576),m=U(4482),V=U(5403),re=U(4671);function ce(pe,Ie,ge){const me=(0,P.m)(pe)||Ie||ge?{next:pe,error:Ie,complete:ge}:pe;return me?(0,m.e)((q,G)=>{var K;null===(K=me.subscribe)||void 0===K||K.call(me);let $e=!0;q.subscribe((0,V.x)(G,Pe=>{var Ce;null===(Ce=me.next)||void 0===Ce||Ce.call(me,Pe),G.next(Pe)},()=>{var Pe;$e=!1,null===(Pe=me.complete)||void 0===Pe||Pe.call(me),G.complete()},Pe=>{var Ce;$e=!1,null===(Ce=me.error)||void 0===Ce||Ce.call(me,Pe),G.error(Pe)},()=>{var Pe,Ce;$e&&(null===(Pe=me.unsubscribe)||void 0===Pe||Pe.call(me)),null===(Ce=me.finalize)||void 0===Ce||Ce.call(me)}))}):re.y}},4408:(yt,Me,U)=>{U.d(Me,{o:()=>ce});var P=U(727);class m extends P.w0{constructor(Ie,ge){super()}schedule(Ie,ge=0){return this}}const V={setInterval(pe,Ie,...ge){const{delegate:me}=V;return me?.setInterval?me.setInterval(pe,Ie,...ge):setInterval(pe,Ie,...ge)},clearInterval(pe){const{delegate:Ie}=V;return(Ie?.clearInterval||clearInterval)(pe)},delegate:void 0};var re=U(8737);class ce extends m{constructor(Ie,ge){super(Ie,ge),this.scheduler=Ie,this.work=ge,this.pending=!1}schedule(Ie,ge=0){var me;if(this.closed)return this;this.state=Ie;const q=this.id,G=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(G,q,ge)),this.pending=!0,this.delay=ge,this.id=null!==(me=this.id)&&void 0!==me?me:this.requestAsyncId(G,this.id,ge),this}requestAsyncId(Ie,ge,me=0){return V.setInterval(Ie.flush.bind(Ie,this),me)}recycleAsyncId(Ie,ge,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return ge;null!=ge&&V.clearInterval(ge)}execute(Ie,ge){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(Ie,ge);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ie,ge){let q,me=!1;try{this.work(Ie)}catch(G){me=!0,q=G||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:Ie,scheduler:ge}=this,{actions:me}=ge;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(me,this),null!=Ie&&(this.id=this.recycleAsyncId(ge,Ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(yt,Me,U)=>{U.d(Me,{v:()=>V});var P=U(6063);class m{constructor(ce,pe=m.now){this.schedulerActionCtor=ce,this.now=pe}schedule(ce,pe=0,Ie){return new this.schedulerActionCtor(this,ce).schedule(Ie,pe)}}m.now=P.l.now;class V extends m{constructor(ce,pe=m.now){super(ce,pe),this.actions=[],this._active=!1}flush(ce){const{actions:pe}=this;if(this._active)return void pe.push(ce);let Ie;this._active=!0;do{if(Ie=ce.execute(ce.state,ce.delay))break}while(ce=pe.shift());if(this._active=!1,Ie){for(;ce=pe.shift();)ce.unsubscribe();throw Ie}}}},4986:(yt,Me,U)=>{U.d(Me,{z:()=>V});var P=U(4408);const V=new(U(7565).v)(P.o)},6063:(yt,Me,U)=>{U.d(Me,{l:()=>P});const P={now:()=>(P.delegate||Date).now(),delegate:void 0}},3410:(yt,Me,U)=>{U.d(Me,{z:()=>P});const P={setTimeout(m,V,...re){const{delegate:ce}=P;return ce?.setTimeout?ce.setTimeout(m,V,...re):setTimeout(m,V,...re)},clearTimeout(m){const{delegate:V}=P;return(V?.clearTimeout||clearTimeout)(m)},delegate:void 0}},2202:(yt,Me,U)=>{U.d(Me,{h:()=>m});const m=function P(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(yt,Me,U)=>{U.d(Me,{L:()=>P});const P="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(yt,Me,U)=>{U.d(Me,{_6:()=>pe,jO:()=>re,yG:()=>ce});var P=U(576);function V(Ie){return Ie[Ie.length-1]}function re(Ie){return(0,P.m)(V(Ie))?Ie.pop():void 0}function ce(Ie){return function m(Ie){return Ie&&(0,P.m)(Ie.schedule)}(V(Ie))?Ie.pop():void 0}function pe(Ie,ge){return"number"==typeof V(Ie)?Ie.pop():ge}},8737:(yt,Me,U)=>{function P(m,V){if(m){const re=m.indexOf(V);0<=re&&m.splice(re,1)}}U.d(Me,{P:()=>P})},3888:(yt,Me,U)=>{function P(m){const re=m(ce=>{Error.call(ce),ce.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}U.d(Me,{d:()=>P})},2806:(yt,Me,U)=>{U.d(Me,{O:()=>re,x:()=>V});var P=U(2416);let m=null;function V(ce){if(P.v.useDeprecatedSynchronousErrorHandling){const pe=!m;if(pe&&(m={errorThrown:!1,error:null}),ce(),pe){const{errorThrown:Ie,error:ge}=m;if(m=null,Ie)throw ge}}else ce()}function re(ce){P.v.useDeprecatedSynchronousErrorHandling&&m&&(m.errorThrown=!0,m.error=ce)}},9672:(yt,Me,U)=>{function P(m,V,re,ce=0,pe=!1){const Ie=V.schedule(function(){re(),pe?m.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(m.add(Ie),!pe)return Ie}U.d(Me,{f:()=>P})},4671:(yt,Me,U)=>{function P(m){return m}U.d(Me,{y:()=>P})},1144:(yt,Me,U)=>{U.d(Me,{z:()=>P});const P=m=>m&&"number"==typeof m.length&&"function"!=typeof m},2206:(yt,Me,U)=>{U.d(Me,{D:()=>m});var P=U(576);function m(V){return Symbol.asyncIterator&&(0,P.m)(V?.[Symbol.asyncIterator])}},576:(yt,Me,U)=>{function P(m){return"function"==typeof m}U.d(Me,{m:()=>P})},3670:(yt,Me,U)=>{U.d(Me,{c:()=>V});var P=U(8822),m=U(576);function V(re){return(0,m.m)(re[P.L])}},6495:(yt,Me,U)=>{U.d(Me,{T:()=>V});var P=U(2202),m=U(576);function V(re){return(0,m.m)(re?.[P.h])}},8239:(yt,Me,U)=>{U.d(Me,{t:()=>m});var P=U(576);function m(V){return(0,P.m)(V?.then)}},3260:(yt,Me,U)=>{U.d(Me,{L:()=>re,Q:()=>V});var P=U(7582),m=U(576);function V(ce){return(0,P.FC)(this,arguments,function*(){const Ie=ce.getReader();try{for(;;){const{value:ge,done:me}=yield(0,P.qq)(Ie.read());if(me)return yield(0,P.qq)(void 0);yield yield(0,P.qq)(ge)}}finally{Ie.releaseLock()}})}function re(ce){return(0,m.m)(ce?.getReader)}},4482:(yt,Me,U)=>{U.d(Me,{A:()=>m,e:()=>V});var P=U(576);function m(re){return(0,P.m)(re?.lift)}function V(re){return ce=>{if(m(ce))return ce.lift(function(pe){try{return re(pe,this)}catch(Ie){this.error(Ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(yt,Me,U)=>{U.d(Me,{U:()=>V,z:()=>m});var P=U(4671);function m(...re){return V(re)}function V(re){return 0===re.length?P.y:1===re.length?re[0]:function(pe){return re.reduce((Ie,ge)=>ge(Ie),pe)}}},7849:(yt,Me,U)=>{U.d(Me,{h:()=>V});var P=U(2416),m=U(3410);function V(re){m.z.setTimeout(()=>{const{onUnhandledError:ce}=P.v;if(!ce)throw re;ce(re)})}},4532:(yt,Me,U)=>{function P(m){return new TypeError(`You provided ${null!==m&&"object"==typeof m?"an invalid object":`'${m}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(Me,{z:()=>P})},4650:(yt,Me,U)=>{U.d(Me,{$8M:()=>Uu,$Z:()=>wC,AFp:()=>_D,AaK:()=>ge,AsE:()=>$l,BQk:()=>mc,CHM:()=>Du,CRH:()=>k0,CZH:()=>l_,CqO:()=>eb,D6c:()=>uE,EJc:()=>wD,EpF:()=>ty,F4k:()=>XC,FYo:()=>aC,FiY:()=>qs,G48:()=>mg,GfV:()=>Cp,GkF:()=>SI,Gpc:()=>G,JOm:()=>Ki,KtG:()=>Kc,LFG:()=>$n,LSH:()=>k,Lbi:()=>ID,Lck:()=>Lb,MAs:()=>wI,MMx:()=>$y,NdJ:()=>ny,OlP:()=>gn,Oqu:()=>UI,PXZ:()=>SR,Q6J:()=>CI,QGY:()=>AI,QP$:()=>Tt,Qsj:()=>sA,R0b:()=>as,RDi:()=>lp,Rgc:()=>qh,SBq:()=>wp,Sil:()=>CD,Suo:()=>Jb,TTD:()=>bi,TgZ:()=>Xm,W1O:()=>tD,X6Q:()=>MR,XFs:()=>dt,Xpm:()=>Jn,Xts:()=>mh,Y36:()=>Ch,YKP:()=>Hy,YNc:()=>QC,Yjl:()=>Z,Yz7:()=>J,Z0I:()=>Vt,ZZ4:()=>oE,_Bn:()=>jy,_UZ:()=>TI,_Vd:()=>cc,_c5:()=>v_,_uU:()=>_c,aQg:()=>aE,c2e:()=>IR,cJS:()=>Ne,cg1:()=>Zp,dDg:()=>us,dqk:()=>tt,eFA:()=>mt,ekj:()=>Gp,eoX:()=>p_,f3M:()=>Xa,g9A:()=>vD,h0i:()=>zh,hGG:()=>I_,hij:()=>fy,iGM:()=>r_,ifc:()=>nt,ip1:()=>c_,jDz:()=>Ub,kEZ:()=>qy,kL8:()=>by,lG2:()=>B,lqb:()=>kl,lri:()=>xD,n5z:()=>xn,oAB:()=>Ii,oxw:()=>ib,q4F:()=>oA,qLn:()=>Am,qOj:()=>Nh,qZA:()=>ey,rWj:()=>q0,sBO:()=>X0,sIi:()=>Op,s_b:()=>Qy,soG:()=>d_,tb:()=>ED,tp0:()=>da,uIk:()=>Up,vHH:()=>Ce,vpe:()=>Ca,wAp:()=>St,xp6:()=>Lv,ynx:()=>jp,z2F:()=>Xl,zSh:()=>vp,zs3:()=>Ll});var P=U(7579),m=U(727),V=U(9751),re=U(6451),ce=U(3099);function pe(s){for(let o in s)if(s[o]===pe)return o;throw Error("Could not find renamed property on target object.")}function Ie(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function ge(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ge).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function me(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const q=pe({__forward_ref__:pe});function G(s){return s.__forward_ref__=G,s.toString=function(){return ge(this())},s}function K(s){return $e(s)?s():s}function $e(s){return"function"==typeof s&&s.hasOwnProperty(q)&&s.__forward_ref__===G}class Ce extends Error{constructor(o,u){super(function lt(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,u)),this.code=o}}function ve(s){return"string"==typeof s?s:null==s?"":String(s)}function Ee(s,o){throw new Ce(-201,!1)}function On(s,o){null==s&&function Wt(s,o,u,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${u} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function J(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Ne(s){return{providers:s.providers||[],imports:s.imports||[]}}function Ze(s){return ln(s,Ar)||ln(s,Yn)}function Vt(s){return null!==Ze(s)}function ln(s,o){return s.hasOwnProperty(o)?s[o]:null}function vn(s){return s&&(s.hasOwnProperty(Gt)||s.hasOwnProperty(Qn))?s[Gt]:null}const Ar=pe({\u0275prov:pe}),Gt=pe({\u0275inj:pe}),Yn=pe({ngInjectableDef:pe}),Qn=pe({ngInjectorDef:pe});var dt=(()=>((dt=dt||{})[dt.Default=0]="Default",dt[dt.Host=1]="Host",dt[dt.Self=2]="Self",dt[dt.SkipSelf=4]="SkipSelf",dt[dt.Optional=8]="Optional",dt))();let tn;function jr(s){const o=tn;return tn=s,o}function zo(s,o,u){const l=Ze(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:u&dt.Optional?null:void 0!==o?o:void Ee(ge(s))}function Hr(s){return{toString:s}.toString()}var dn=(()=>((dn=dn||{})[dn.OnPush=0]="OnPush",dn[dn.Default=1]="Default",dn))(),nt=(()=>{return(s=nt||(nt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",nt;var s})();const tt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Sn={},Lt=[],Cn=pe({\u0275cmp:pe}),ms=pe({\u0275dir:pe}),Dn=pe({\u0275pipe:pe}),Wo=pe({\u0275mod:pe}),Ut=pe({\u0275fac:pe}),ei=pe({__NG_ELEMENT_ID__:pe});let $r=0;function Jn(s){return Hr(()=>{const u=!0===s.standalone,l={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===dn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Lt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||nt.Emulated,id:"c"+$r++,styles:s.styles||Lt,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.dependencies,v=s.features;return d.inputs=H(s.inputs,l),d.outputs=H(s.outputs),v&&v.forEach(C=>C(d)),d.directiveDefs=g?()=>("function"==typeof g?g():g).map(ys).filter(qn):null,d.pipeDefs=g?()=>("function"==typeof g?g():g).map(We).filter(qn):null,d})}function ys(s){return le(s)||ee(s)}function qn(s){return null!==s}function Ii(s){return Hr(()=>({type:s.type,bootstrap:s.bootstrap||Lt,declarations:s.declarations||Lt,imports:s.imports||Lt,exports:s.exports||Lt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function H(s,o){if(null==s)return Sn;const u={};for(const l in s)if(s.hasOwnProperty(l)){let d=s[l],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),u[d]=l,o&&(o[d]=g)}return u}const B=Jn;function Z(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function le(s){return s[Cn]||null}function ee(s){return s[ms]||null}function We(s){return s[Dn]||null}function Tt(s){const o=le(s)||ee(s)||We(s);return null!==o&&o.standalone}function Ft(s,o){const u=s[Wo]||null;if(!u&&!0===o)throw new Error(`Type ${ge(s)} does not have '\u0275mod' property.`);return u}function pr(s){return Array.isArray(s)&&"object"==typeof s[1]}function ni(s){return Array.isArray(s)&&!0===s[1]}function Zo(s){return 0!=(8&s.flags)}function Ko(s){return 2==(2&s.flags)}function _s(s){return 1==(1&s.flags)}function wi(s){return null!==s.template}function Iu(s){return 0!=(256&s[2])}function Vs(s,o){return s.hasOwnProperty(Ut)?s[Ut]:null}class wd{constructor(o,u,l){this.previousValue=o,this.currentValue=u,this.firstChange=l}isFirstChange(){return this.firstChange}}function bi(){return Cd}function Cd(s){return s.type.prototype.ngOnChanges&&(s.setInput=Gc),$c}function $c(){const s=bd(this),o=s?.current;if(o){const u=s.previous;if(u===Sn)s.previous=o;else for(let l in o)u[l]=o[l];s.current=null,this.ngOnChanges(o)}}function Gc(s,o,u,l){const d=bd(s)||function Dd(s,o){return s[Yo]=o}(s,{previous:Sn,current:null}),g=d.current||(d.current={}),v=d.previous,C=this.declaredInputs[u],b=v[C];g[C]=new wd(b&&b.currentValue,o,v===Sn),s[l]=o}bi.ngInherit=!0;const Yo="__ngSimpleChanges__";function bd(s){return s[Yo]||null}function Hn(s){for(;Array.isArray(s);)s=s[0];return s}function ji(s,o){return Hn(o[s])}function Pr(s,o){return Hn(o[s.index])}function Wc(s,o){return s.data[o]}function cr(s,o){const u=o[s];return pr(u)?u:u[0]}function Jo(s){return 64==(64&s[2])}function ri(s,o){return null==o?null:s[o]}function Pa(s){s[18]=0}function er(s,o){s[5]+=o;let u=s,l=s[3];for(;null!==l&&(1===o&&1===u[5]||-1===o&&0===u[5]);)l[5]+=o,u=l,l=l[3]}const Rt={lFrame:Fa(null),bindingsEnabled:!0};function Rd(){return Rt.bindingsEnabled}function Te(){return Rt.lFrame.lView}function Ht(){return Rt.lFrame.tView}function Du(s){return Rt.lFrame.contextLView=s,s[8]}function Kc(s){return Rt.lFrame.contextLView=null,s}function Pn(){let s=Yc();for(;null!==s&&64===s.type;)s=s.parent;return s}function Yc(){return Rt.lFrame.currentTNode}function ii(s,o){const u=Rt.lFrame;u.currentTNode=s,u.isParent=o}function ea(){return Rt.lFrame.isParent}function Tu(){Rt.lFrame.isParent=!1}function vs(){return Rt.lFrame.bindingIndex++}function Di(s){const o=Rt.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}function Yg(s,o){const u=Rt.lFrame;u.bindingIndex=u.bindingRootIndex=s,Au(o)}function Au(s){Rt.lFrame.currentDirectiveIndex=s}function Nd(){return Rt.lFrame.currentQueryIndex}function si(s){Rt.lFrame.currentQueryIndex=s}function js(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function La(s,o,u){if(u&dt.SkipSelf){let d=o,g=s;for(;!(d=d.parent,null!==d||u&dt.Host||(d=js(g),null===d||(g=g[15],10&d.type))););if(null===d)return!1;o=d,s=g}const l=Rt.lFrame=_o();return l.currentTNode=o,l.lView=s,!0}function Jc(s){const o=_o(),u=s[1];Rt.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function _o(){const s=Rt.lFrame,o=null===s?null:s.child;return null===o?Fa(s):o}function Fa(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Va(){const s=Rt.lFrame;return Rt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const kf=Va;function Ua(){const s=Va();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function rn(){return Rt.lFrame.selectedIndex}function Is(s){Rt.lFrame.selectedIndex=s}function An(){const s=Rt.lFrame;return Wc(s.tView,s.selectedIndex)}function Hs(s,o){for(let u=o.directiveStart,l=o.directiveEnd;u<l;u++){const g=s.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:b,ngAfterViewChecked:x,ngOnDestroy:N}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-u,v),C&&((s.contentHooks||(s.contentHooks=[])).push(u,C),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,C)),b&&(s.viewHooks||(s.viewHooks=[])).push(-u,b),x&&((s.viewHooks||(s.viewHooks=[])).push(u,x),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,x)),null!=N&&(s.destroyHooks||(s.destroyHooks=[])).push(u,N)}}function Ru(s,o,u){Ba(s,o,3,u)}function na(s,o,u,l){(3&s[2])===u&&Ba(s,o,u,l)}function el(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function Ba(s,o,u,l){const g=l??-1,v=o.length-1;let C=0;for(let b=void 0!==l?65535&s[18]:0;b<v;b++)if("number"==typeof o[b+1]){if(C=o[b],null!=l&&C>=l)break}else o[b]<0&&(s[18]+=65536),(C<g||-1==g)&&(Of(s,u,o,b),s[18]=(4294901760&s[18])+b+2),b++}function Of(s,o,u,l){const d=u[l]<0,g=u[l+1],C=s[d?-u[l]:u[l]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(C)}finally{}}}else try{g.call(C)}finally{}}class ja{constructor(o,u,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=l}}function $s(s,o,u){let l=0;for(;l<u.length;){const d=u[l];if("number"==typeof d){if(0!==d)break;l++;const g=u[l++],v=u[l++],C=u[l++];s.setAttribute(o,v,C,g)}else{const g=d,v=u[++l];Pu(g)?s.setProperty(o,g,v):s.setAttribute(o,g,v),l++}}return l}function Vf(s){return 3===s||4===s||6===s}function Pu(s){return 64===s.charCodeAt(0)}function Ha(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?u=d:0===u||nl(s,u,d,null,-1===u||2===u?o[++l]:null)}}return s}function nl(s,o,u,l,d){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const C=s[g++];if("number"==typeof C){if(C===o){v=-1;break}if(C>o){v=g-1;break}}}for(;g<s.length;){const C=s[g];if("number"==typeof C)break;if(C===u){if(null===l)return void(null!==d&&(s[g+1]=d));if(l===s[g+1])return void(s[g+2]=d)}g++,null!==l&&g++,null!==d&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,u),null!==l&&s.splice(g++,0,l),null!==d&&s.splice(g++,0,d)}function rl(s){return-1!==s}function $a(s){return 32767&s}function vo(s,o){let u=function Uf(s){return s>>16}(s),l=o;for(;u>0;)l=l[15],u--;return l}let Ga=!0;function zi(s){const o=Ga;return Ga=s,o}let Nu=0;const Ti={};function ra(s,o){const u=Co(s,o);if(-1!==u)return u;const l=o[1];l.firstCreatePass&&(s.injectorIndex=o.length,Ou(l.data,s),Ou(o,null),Ou(l.blueprint,null));const d=bo(s,o),g=s.injectorIndex;if(rl(d)){const v=$a(d),C=vo(d,o),b=C[1].data;for(let x=0;x<8;x++)o[g+x]=C[v+x]|b[v+x]}return o[g+8]=d,g}function Ou(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Co(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function bo(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,l=null,d=o;for(;null!==d;){if(l=Vu(d),null===l)return-1;if(u++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|u<<16}return-1}function za(s,o,u){!function ku(s,o,u){let l;"string"==typeof u?l=u.charCodeAt(0)||0:u.hasOwnProperty(ei)&&(l=u[ei]),null==l&&(l=u[ei]=Nu++);const d=255&l;o.data[s+(d>>5)]|=1<<d}(s,o,u)}function ia(s,o,u){if(u&dt.Optional||void 0!==s)return s;Ee()}function il(s,o,u,l){if(u&dt.Optional&&void 0===l&&(l=null),0==(u&(dt.Self|dt.Host))){const d=s[9],g=jr(void 0);try{return d?d.get(o,l,u&dt.Optional):zo(o,l,u&dt.Optional)}finally{jr(g)}}return ia(l,0,u)}function Bd(s,o,u,l=dt.Default,d){if(null!==s){if(1024&o[2]){const v=function ol(s,o,u,l,d){let g=s,v=o;for(;null!==g&&null!==v&&1024&v[2]&&!(256&v[2]);){const C=sa(g,v,u,l|dt.Self,Ti);if(C!==Ti)return C;let b=g.parent;if(!b){const x=v[21];if(x){const N=x.get(u,Ti,l);if(N!==Ti)return N}b=Vu(v),v=v[15]}g=b}return d}(s,o,u,l,Ti);if(v!==Ti)return v}const g=sa(s,o,u,l,Ti);if(g!==Ti)return g}return il(o,u,l,d)}function sa(s,o,u,l,d){const g=function Gs(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ei)?s[ei]:void 0;return"number"==typeof o?o>=0?255&o:jf:o}(u);if("function"==typeof g){if(!La(o,s,l))return l&dt.Host?ia(d,0,l):il(o,u,l,d);try{const v=g(l);if(null!=v||l&dt.Optional)return v;Ee()}finally{kf()}}else if("number"==typeof g){let v=null,C=Co(s,o),b=-1,x=l&dt.Host?o[16][6]:null;for((-1===C||l&dt.SkipSelf)&&(b=-1===C?bo(s,o):o[C+8],-1!==b&&Fu(l,!1)?(v=o[1],C=$a(b),o=vo(b,o)):C=-1);-1!==C;){const N=o[1];if(Bf(g,C,N.data)){const F=jd(C,o,u,v,l,x);if(F!==Ti)return F}b=o[C+8],-1!==b&&Fu(l,o[1].data[C+8]===x)&&Bf(g,C,o)?(v=N,C=$a(b),o=vo(b,o)):C=-1}}return d}function jd(s,o,u,l,d,g){const v=o[1],C=v.data[s+8],N=ws(C,v,u,null==l?Ko(C)&&Ga:l!=v&&0!=(3&C.type),d&dt.Host&&g===C);return null!==N?Wa(o,v,N,C):Ti}function ws(s,o,u,l,d){const g=s.providerIndexes,v=o.data,C=1048575&g,b=s.directiveStart,N=g>>20,z=d?C+N:s.directiveEnd;for(let te=l?C:C+N;te<z;te++){const we=v[te];if(te<b&&u===we||te>=b&&we.type===u)return te}if(d){const te=v[b];if(te&&wi(te)&&te.type===u)return b}return null}function Wa(s,o,u,l){let d=s[u];const g=o.data;if(function Mu(s){return s instanceof ja}(d)){const v=d;v.resolving&&function gt(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ce(-200,`Circular dependency in DI detected for ${s}${u}`)}(function ye(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ve(s)}(g[u]));const C=zi(v.canSeeViewProviders);v.resolving=!0;const b=v.injectImpl?jr(v.injectImpl):null;La(s,l,dt.Default);try{d=s[u]=v.factory(void 0,g,s,l),o.firstCreatePass&&u>=l.directiveStart&&function Fd(s,o,u){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:g}=o.type.prototype;if(l){const v=Cd(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,v)}d&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,d),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,g))}(u,g[u],o)}finally{null!==b&&jr(b),zi(C),v.resolving=!1,kf()}}return d}function Bf(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function Fu(s,o){return!(s&dt.Self||s&dt.Host&&o)}class Cs{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,l){return Bd(this._tNode,this._lView,o,l,u)}}function jf(){return new Cs(Pn(),Te())}function xn(s){return Hr(()=>{const o=s.prototype.constructor,u=o[Ut]||sl(o),l=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==l;){const g=d[Ut]||sl(d);if(g&&g!==u)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function sl(s){return $e(s)?()=>{const o=sl(K(s));return o&&o()}:Vs(s)}function Vu(s){const o=s[1],u=o.type;return 2===u?o.declTNode:1===u?s[6]:null}function Uu(s){return function Lu(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const l=u.length;let d=0;for(;d<l;){const g=u[d];if(Vf(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<l&&"string"==typeof u[d];)d++;else{if(g===o)return u[d+1];d+=2}}}return null}(Pn(),s)}const Rn="__parameters__";function zs(s,o,u){return Hr(()=>{const l=function aa(s){return function(...u){if(s){const l=s(...u);for(const d in l)this[d]=l[d]}}}(o);function d(...g){if(this instanceof d)return l.apply(this,g),this;const v=new d(...g);return C.annotation=v,C;function C(b,x,N){const F=b.hasOwnProperty(Rn)?b[Rn]:Object.defineProperty(b,Rn,{value:[]})[Rn];for(;F.length<=N;)F.push(null);return(F[N]=F[N]||[]).push(v),b}}return u&&(d.prototype=Object.create(u.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class gn{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=J({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function lr(s,o){void 0===o&&(o=s);for(let u=0;u<s.length;u++){let l=s[u];Array.isArray(l)?(o===s&&(o=s.slice(0,u)),lr(l,o)):o!==s&&o.push(l)}return o}function Si(s,o){s.forEach(u=>Array.isArray(u)?Si(u,o):o(u))}function Ka(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function ul(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Ai(s,o,u){let l=Qa(s,o);return l>=0?s[1|l]=u:(l=~l,function tm(s,o,u,l){let d=s.length;if(d==o)s.push(u,l);else if(1===d)s.push(l,s[0]),s[0]=u;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=u,s[o+1]=l}}(s,l,o,u)),l}function Ya(s,o){const u=Qa(s,o);if(u>=0)return s[1|u]}function Qa(s,o){return function Wf(s,o,u){let l=0,d=s.length>>u;for(;d!==l;){const g=l+(d-l>>1),v=s[g<<u];if(o===v)return g<<u;v>o?d=g:l=g+1}return~(d<<u)}(s,o,1)}const qi={},Ds="__NG_DI_FLAG__",Or="ngTempTokenPath",hl=/\n/gm,Ws="__source";let xi;function on(s){const o=xi;return xi=s,o}function wt(s,o=dt.Default){if(void 0===xi)throw new Ce(-203,!1);return null===xi?zo(s,void 0,o):xi.get(s,o&dt.Optional?null:void 0,o)}function $n(s,o=dt.Default){return(function Jr(){return tn}()||wt)(K(s),o)}function Xa(s,o=dt.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),$n(s,o)}function fl(s){const o=[];for(let u=0;u<s.length;u++){const l=K(s[u]);if(Array.isArray(l)){if(0===l.length)throw new Ce(900,!1);let d,g=dt.Default;for(let v=0;v<l.length;v++){const C=l[v],b=qu(C);"number"==typeof b?-1===b?d=C.token:g|=b:d=C}o.push($n(d,g))}else o.push($n(l))}return o}function To(s,o){return s[Ds]=o,s.prototype[Ds]=o,s}function qu(s){return s[Ds]}const qs=To(zs("Optional"),8),da=To(zs("SkipSelf"),4);var Ki=(()=>((Ki=Ki||{})[Ki.Important=1]="Important",Ki[Ki.DashCase=2]="DashCase",Ki))();const L=new Map;let W=0;const Vn="__ngContext__";function Gn(s,o){pr(o)?(s[Vn]=o[20],function fe(s){L.set(s[20],s)}(o)):s[Vn]=o}function Cl(s,o){return undefined(s,o)}function nh(s){const o=s[3];return ni(o)?o[3]:o}function am(s){return ss(s[13])}function bl(s){return ss(s[4])}function ss(s){for(;null!==s&&!ni(s);)s=s[4];return s}function Ro(s,o,u,l,d){if(null!=l){let g,v=!1;ni(l)?g=l:pr(l)&&(v=!0,l=l[0]);const C=Hn(l);0===s&&null!==u?null==d?uh(o,u,C):ma(o,u,C,d||null,!0):1===s&&null!==u?ma(o,u,C,d||null,!0):2===s?function op(s,o,u){const l=Sl(s,o);l&&function np(s,o,u,l){s.removeChild(o,u,l)}(s,l,o,u)}(o,C,v):3===s&&o.destroyNode(C),null!=g&&function dh(s,o,u,l,d){const g=u[7];g!==Hn(u)&&Ro(o,s,l,g,d);for(let C=10;C<u.length;C++){const b=u[C];uu(b[1],b,s,o,l,g)}}(o,s,g,u,d)}}function ep(s,o,u){return s.createElement(o,u)}function cm(s,o){const u=s[9],l=u.indexOf(o),d=o[3];512&o[2]&&(o[2]&=-513,er(d,-1)),u.splice(l,1)}function sh(s,o){if(s.length<=10)return;const u=10+o,l=s[u];if(l){const d=l[17];null!==d&&d!==s&&cm(d,l),o>0&&(s[u-1][4]=l[4]);const g=ul(s,10+o);!function mv(s,o){uu(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const v=g[19];null!==v&&v.detachView(g[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function _v(s,o){if(!(128&o[2])){const u=o[11];u.destroyNode&&uu(s,o,u,3,null,null),function um(s){let o=s[13];if(!o)return Tl(s[1],s);for(;o;){let u=null;if(pr(o))u=o[13];else{const l=o[10];l&&(u=l)}if(!u){for(;o&&!o[4]&&o!==s;)pr(o)&&Tl(o[1],o),o=o[3];null===o&&(o=s),pr(o)&&Tl(o[1],o),u=o&&o[4]}o=u}}(o)}}function Tl(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function oh(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let l=0;l<u.length;l+=2){const d=o[u[l]];if(!(d instanceof ja)){const g=u[l+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const C=d[g[v]],b=g[v+1];try{b.call(C)}finally{}}else try{g.call(d)}finally{}}}}(s,o),function lm(s,o){const u=s.cleanup,l=o[7];let d=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const v=u[g+1],C="function"==typeof v?v(o):Hn(o[v]),b=l[d=u[g+2]],x=u[g+3];"boolean"==typeof x?C.removeEventListener(u[g],b,x):x>=0?l[d=x]():l[d=-x].unsubscribe(),g+=2}else{const v=l[d=u[g+1]];u[g].call(v)}if(null!==l){for(let g=d+1;g<l.length;g++)(0,l[g])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const u=o[17];if(null!==u&&ni(o[3])){u!==o[3]&&cm(u,o);const l=o[19];null!==l&&l.detachView(s)}!function He(s){L.delete(s[20])}(o)}}function ah(s,o,u){return function dm(s,o,u){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return u[0];if(2&l.flags){const d=s.data[l.directiveStart].encapsulation;if(d===nt.None||d===nt.Emulated)return null}return Pr(l,u)}(s,o.parent,u)}function ma(s,o,u,l,d){s.insertBefore(o,u,l,d)}function uh(s,o,u){s.appendChild(o,u)}function rc(s,o,u,l,d){null!==l?ma(s,o,u,l,d):uh(s,o,u)}function Sl(s,o){return s.parentNode(o)}let xl,ip=function rp(s,o,u){return 40&s.type?Pr(s,u):null};function sp(s,o,u,l){const d=ah(s,l,o),g=o[11],C=function vv(s,o,u){return ip(s,o,u)}(l.parent||o[6],l,o);if(null!=d)if(Array.isArray(u))for(let b=0;b<u.length;b++)rc(g,d,u[b],C,!1);else rc(g,d,u,C,!1)}function au(s,o){if(null!==o){const u=o.type;if(3&u)return Pr(o,s);if(4&u)return Al(-1,s[o.index]);if(8&u){const l=o.child;if(null!==l)return au(s,l);{const d=s[o.index];return ni(d)?Al(-1,d):Hn(d)}}if(32&u)return Cl(o,s)()||Hn(s[o.index]);{const l=pm(s,o);return null!==l?Array.isArray(l)?l[0]:au(nh(s[16]),l):au(s,o.next)}}return null}function pm(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Al(s,o){const u=10+s+1;if(u<o.length){const l=o[u],d=l[1].firstChild;if(null!==d)return au(l,d)}return o[7]}function lh(s,o,u,l,d,g,v){for(;null!=u;){const C=l[u.index],b=u.type;if(v&&0===o&&(C&&Gn(Hn(C),l),u.flags|=4),64!=(64&u.flags))if(8&b)lh(s,o,u.child,l,d,g,!1),Ro(o,s,d,C,g);else if(32&b){const x=Cl(u,l);let N;for(;N=x();)Ro(o,s,d,N,g);Ro(o,s,d,C,g)}else 16&b?ap(s,o,l,u,d,g):Ro(o,s,d,C,g);u=v?u.projectionNext:u.next}}function uu(s,o,u,l,d,g){lh(u,l,s.firstChild,o,d,g,!1)}function ap(s,o,u,l,d,g){const v=u[16],b=v[6].projection[l.projection];if(Array.isArray(b))for(let x=0;x<b.length;x++)Ro(o,s,d,b[x],g);else lh(s,o,b,v[3],d,g,!0)}function gm(s,o,u){s.setAttribute(o,"style",u)}function hh(s,o,u){""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u)}function lp(s){xl=s}class fp{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function qr(s){return s instanceof fp?s.changingThisBreaksApplicationSecurity:s}const p=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var _r=(()=>((_r=_r||{})[_r.NONE=0]="NONE",_r[_r.HTML=1]="HTML",_r[_r.STYLE=2]="STYLE",_r[_r.SCRIPT=3]="SCRIPT",_r[_r.URL=4]="URL",_r[_r.RESOURCE_URL=5]="RESOURCE_URL",_r))();function k(s){const o=function _p(){const s=Te();return s&&s[12]}();return o?o.sanitize(_r.URL,s)||"":function Xs(s,o){const u=function _m(s){return s instanceof fp&&s.getTypeName()||null}(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}(s,"URL")?qr(s):function I(s){return(s=String(s)).match(p)?s:"unsafe:"+s}(ve(s))}const mh=new gn("ENVIRONMENT_INITIALIZER"),yh=new gn("INJECTOR",-1),QS=new gn("INJECTOR_DEF_TYPES");class _h{get(o,u=qi){if(u===qi){const l=new Error(`NullInjectorError: No provider for ${ge(o)}!`);throw l.name="NullInjectorError",l}return u}}function JS(...s){return{\u0275providers:Rv(0,s)}}function Rv(s,...o){const u=[],l=new Set;let d;return Si(o,g=>{const v=g;Mv(v,u,[],l)&&(d||(d=[]),d.push(v))}),void 0!==d&&eC(d,u),u}function eC(s,o){for(let u=0;u<s.length;u++){const{providers:d}=s[u];Si(d,g=>{o.push(g)})}}function Mv(s,o,u,l){if(!(s=K(s)))return!1;let d=null,g=vn(s);const v=!g&&le(s);if(g||v){if(v&&!v.standalone)return!1;d=s}else{const b=s.ngModule;if(g=vn(b),!g)return!1;d=b}const C=l.has(d);if(v){if(C)return!1;if(l.add(d),v.dependencies){const b="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const x of b)Mv(x,o,u,l)}}else{if(!g)return!1;{if(null!=g.imports&&!C){let x;l.add(d);try{Si(g.imports,N=>{Mv(N,o,u,l)&&(x||(x=[]),x.push(N))})}finally{}void 0!==x&&eC(x,o)}if(!C){const x=Vs(d)||(()=>new d);o.push({provide:d,useFactory:x,deps:Lt},{provide:QS,useValue:d,multi:!0},{provide:mh,useValue:()=>$n(d),multi:!0})}const b=g.providers;null==b||C||Si(b,N=>{o.push(N)})}}return d!==s&&void 0!==s.providers}const bm=pe({provide:String,useValue:pe});function Pv(s){return null!==s&&"object"==typeof s&&bm in s}function Nl(s){return"function"==typeof s}const vp=new gn("Set Injector scope."),Dm={},kv={};let nC;function uc(){return void 0===nC&&(nC=new _h),nC}class kl{}class rC extends kl{constructor(o,u,l,d){super(),this.parent=u,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ip(o,v=>this.processProvider(v)),this.records.set(yh,cu(void 0,this)),d.has("environment")&&this.records.set(kl,cu(void 0,this));const g=this.records.get(vp);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(QS.multi,Lt,dt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const u=on(this),l=jr(void 0);try{return o()}finally{on(u),jr(l)}}get(o,u=qi,l=dt.Default){this.assertNotDestroyed();const d=on(this),g=jr(void 0);try{if(!(l&dt.SkipSelf)){let C=this.records.get(o);if(void 0===C){const b=function nA(s){return"function"==typeof s||"object"==typeof s&&s instanceof gn}(o)&&Ze(o);C=b&&this.injectableDefInScope(b)?cu(Tm(o),Dm):null,this.records.set(o,C)}if(null!=C)return this.hydrate(o,C)}return(l&dt.Self?uc():this.parent).get(o,u=l&dt.Optional&&u===qi?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[Or]=v[Or]||[]).unshift(ge(o)),d)throw v;return function Ts(s,o,u,l){const d=s[Or];throw o[Ws]&&d.unshift(o[Ws]),s.message=function oi(s,o,u,l=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let d=ge(o);if(Array.isArray(o))d=o.map(ge).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let C=o[v];g.push(v+":"+("string"==typeof C?JSON.stringify(C):ge(C)))}d=`{${g.join(", ")}}`}return`${u}${l?"("+l+")":""}[${d}]: ${s.replace(hl,"\n  ")}`}("\n"+s.message,d,u,l),s.ngTokenPath=d,s[Or]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{jr(g),on(d)}}resolveInjectorInitializers(){const o=on(this),u=jr(void 0);try{const l=this.get(mh.multi,Lt,dt.Self);for(const d of l)d()}finally{on(o),jr(u)}}toString(){const o=[],u=this.records;for(const l of u.keys())o.push(ge(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ce(205,!1)}processProvider(o){let u=Nl(o=K(o))?o:K(o&&o.provide);const l=function vr(s){return Pv(s)?cu(void 0,s.useValue):cu(iC(s),Dm)}(o);if(Nl(o)||!0!==o.multi)this.records.get(u);else{let d=this.records.get(u);d||(d=cu(void 0,Dm,!0),d.factory=()=>fl(d.multi),this.records.set(u,d)),u=o,d.multi.push(o)}this.records.set(u,l)}hydrate(o,u){return u.value===Dm&&(u.value=kv,u.value=u.factory()),"object"==typeof u.value&&u.value&&function sC(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=K(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Tm(s){const o=Ze(s),u=null!==o?o.factory:Vs(s);if(null!==u)return u;if(s instanceof gn)throw new Ce(204,!1);if(s instanceof Function)return function eA(s){const o=s.length;if(o>0)throw function la(s,o){const u=[];for(let l=0;l<s;l++)u.push(o);return u}(o,"?"),new Ce(204,!1);const u=function xt(s){const o=s&&(s[Ar]||s[Yn]);if(o){const u=function wn(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new Ce(204,!1)}function iC(s,o,u){let l;if(Nl(s)){const d=K(s);return Vs(d)||Tm(d)}if(Pv(s))l=()=>K(s.useValue);else if(function Nv(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...fl(s.deps||[]));else if(function XS(s){return!(!s||!s.useExisting)}(s))l=()=>$n(K(s.useExisting));else{const d=K(s&&(s.useClass||s.provide));if(!function tA(s){return!!s.deps}(s))return Vs(d)||Tm(d);l=()=>new d(...fl(s.deps))}return l}function cu(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function oC(s){return!!s.\u0275providers}function Ip(s,o){for(const u of s)Array.isArray(u)?Ip(u,o):oC(u)?Ip(u.\u0275providers,o):o(u)}class Ov{}class Kk{resolveComponentFactory(o){throw function Zk(s){const o=Error(`No component factory found for ${ge(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let cc=(()=>{class s{}return s.NULL=new Kk,s})();function iA(){return Ep(Pn(),Te())}function Ep(s,o){return new wp(Pr(s,o))}let wp=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=iA,s})();function os(s){return s instanceof wp?s.nativeElement:s}class aC{}let sA=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function uC(){const s=Te(),u=cr(Pn().index,s);return(pr(u)?u:s)[11]}(),s})(),Yk=(()=>{class s{}return s.\u0275prov=J({token:s,providedIn:"root",factory:()=>null}),s})();class Cp{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const oA=new Cp("14.3.0"),cC={};function Sm(s){return s.ngOriginalError}class Am{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&Sm(o);for(;u&&Sm(u);)u=Sm(u);return u||null}}function lc(s){return s instanceof Function?s():s}function Rm(s,o,u){let l=s.length;for(;;){const d=s.indexOf(o,u);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const g=o.length;if(d+g===l||s.charCodeAt(d+g)<=32)return d}u=d+1}}const cA="ng-template";function tO(s,o,u){let l=0;for(;l<s.length;){let d=s[l++];if(u&&"class"===d){if(d=s[l],-1!==Rm(d.toLowerCase(),o,0))return!0}else if(1===d){for(;l<s.length&&"string"==typeof(d=s[l++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function lA(s){return 4===s.type&&s.value!==cA}function nO(s,o,u){return o===(4!==s.type||u?s.value:cA)}function dA(s,o,u){let l=4;const d=s.attrs||[],g=function iO(s){for(let o=0;o<s.length;o++)if(Vf(s[o]))return o;return s.length}(d);let v=!1;for(let C=0;C<o.length;C++){const b=o[C];if("number"!=typeof b){if(!v)if(4&l){if(l=2|1&l,""!==b&&!nO(s,b,u)||""===b&&1===o.length){if(Mo(l))return!1;v=!0}}else{const x=8&l?b:o[++C];if(8&l&&null!==s.attrs){if(!tO(s.attrs,x,u)){if(Mo(l))return!1;v=!0}continue}const F=hA(8&l?"class":b,d,lA(s),u);if(-1===F){if(Mo(l))return!1;v=!0;continue}if(""!==x){let z;z=F>g?"":d[F+1].toLowerCase();const te=8&l?z:null;if(te&&-1!==Rm(te,x,0)||2&l&&x!==z){if(Mo(l))return!1;v=!0}}}}else{if(!v&&!Mo(l)&&!Mo(b))return!1;if(v&&Mo(b))continue;v=!1,l=b|1&l}}return Mo(l)||v}function Mo(s){return 0==(1&s)}function hA(s,o,u,l){if(null===o)return-1;let d=0;if(l||!u){let g=!1;for(;d<o.length;){const v=o[d];if(v===s)return d;if(3===v||6===v)g=!0;else{if(1===v||2===v){let C=o[++d];for(;"string"==typeof C;)C=o[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=g?1:2}return-1}return function fA(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const l=s[u];if("number"==typeof l)return-1;if(l===o)return u;u++}return-1}(o,s)}function fC(s,o,u=!1){for(let l=0;l<o.length;l++)if(dA(s,o[l],u))return!0;return!1}function lu(s,o){return s?":not("+o.trim()+")":o}function Ol(s){let o=s[0],u=1,l=2,d="",g=!1;for(;u<s.length;){let v=s[u];if("string"==typeof v)if(2&l){const C=s[++u];d+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&l?d+="."+v:4&l&&(d+=" "+v);else""!==d&&!Mo(v)&&(o+=lu(g,d),d=""),l=v,g=g||!Mo(l);u++}return""!==d&&(o+=lu(g,d)),o}const Bt={};function Lv(s){Mm(Ht(),Te(),rn()+s,!1)}function Mm(s,o,u,l){if(!l)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&Ru(o,g,u)}else{const g=s.preOrderHooks;null!==g&&na(o,g,0,u)}Is(u)}function Fv(s,o=null,u=null,l){const d=Vv(s,o,u,l);return d.resolveInjectorInitializers(),d}function Vv(s,o=null,u=null,l,d=new Set){const g=[u||Lt,JS(s)];return l=l||("object"==typeof s?void 0:ge(s)),new rC(g,o||uc(),l||null,d)}let Ll=(()=>{class s{static create(u,l){if(Array.isArray(u))return Fv({name:""},l,u,"");{const d=u.name??"";return Fv({name:d},u.parent,u.providers,d)}}}return s.THROW_IF_NOT_FOUND=qi,s.NULL=new _h,s.\u0275prov=J({token:s,providedIn:"any",factory:()=>$n(yh)}),s.__NG_ELEMENT_ID__=-1,s})();function Ch(s,o=dt.Default){const u=Te();return null===u?$n(s,o):Bd(Pn(),u,K(s),o)}function wC(){throw new Error("invalid")}function Fm(s,o){return s<<17|o<<2}function Po(s){return s>>17&32767}function $v(s){return 2|s}function du(s){return(131068&s)>>2}function Gv(s,o){return-131069&s|o<<2}function zv(s){return 1|s}function $m(s,o){const u=s.contentQueries;if(null!==u)for(let l=0;l<u.length;l+=2){const d=u[l],g=u[l+1];if(-1!==g){const v=s.data[g];si(d),v.contentQueries(2,o[g],g)}}}function Ap(s,o,u,l,d,g,v,C,b,x,N){const F=o.blueprint.slice();return F[0]=d,F[2]=76|l,(null!==N||s&&1024&s[2])&&(F[2]|=1024),Pa(F),F[3]=F[15]=s,F[8]=u,F[10]=v||s&&s[10],F[11]=C||s&&s[11],F[12]=b||s&&s[12]||null,F[9]=x||s&&s[9]||null,F[6]=g,F[20]=function Q(){return W++}(),F[21]=N,F[16]=2==o.type?s[16]:F,F}function Sh(s,o,u,l,d){let g=s.data[o];if(null===g)g=function eI(s,o,u,l,d){const g=Yc(),v=ea(),b=s.data[o]=function VC(s,o,u,l,d,g){return{type:u,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,u,o,l,d);return null===s.firstChild&&(s.firstChild=b),null!==g&&(v?null==g.child&&null!==b.parent&&(g.child=b):null===g.next&&(g.next=b)),b}(s,o,u,l,d),function Qc(){return Rt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=l,g.attrs=d;const v=function mo(){const s=Rt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return ii(g,!0),g}function Ah(s,o,u,l){if(0===u)return-1;const d=o.length;for(let g=0;g<u;g++)o.push(l),s.blueprint.push(l),s.data.push(null);return d}function Gm(s,o,u){Jc(o);try{const l=s.viewQuery;null!==l&&aI(1,l,u);const d=s.template;null!==d&&NC(s,o,d,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&$m(s,o),s.staticViewQueries&&aI(2,s.viewQuery,u);const g=s.components;null!==g&&function Xv(s,o){for(let u=0;u<o.length;u++)VA(s,o[u])}(o,g)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[2]&=-5,Ua()}}function zm(s,o,u,l){const d=o[2];if(128!=(128&d)){Jc(o);try{Pa(o),function $i(s){return Rt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&NC(s,o,u,2,l);const v=3==(3&d);if(v){const x=s.preOrderCheckHooks;null!==x&&Ru(o,x,null)}else{const x=s.preOrderHooks;null!==x&&na(o,x,0,null),el(o,0)}if(function Rp(s){for(let o=am(s);null!==o;o=bl(o)){if(!o[2])continue;const u=o[9];for(let l=0;l<u.length;l++){const d=u[l],g=d[3];0==(512&d[2])&&er(g,1),d[2]|=512}}}(o),function Oo(s){for(let o=am(s);null!==o;o=bl(o))for(let u=10;u<o.length;u++){const l=o[u],d=l[1];Jo(l)&&zm(d,l,d.template,l[8])}}(o),null!==s.contentQueries&&$m(s,o),v){const x=s.contentCheckHooks;null!==x&&Ru(o,x)}else{const x=s.contentHooks;null!==x&&na(o,x,1),el(o,1)}!function PA(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let l=0;l<u.length;l++){const d=u[l];if(d<0)Is(~d);else{const g=d,v=u[++l],C=u[++l];Yg(v,g),C(2,o[g])}}}finally{Is(-1)}}(s,o);const C=s.components;null!==C&&function PC(s,o){for(let u=0;u<o.length;u++)oI(s,o[u])}(o,C);const b=s.viewQuery;if(null!==b&&aI(2,b,l),v){const x=s.viewCheckHooks;null!==x&&Ru(o,x)}else{const x=s.viewHooks;null!==x&&na(o,x,2),el(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,er(o[3],-1))}finally{Ua()}}}function NC(s,o,u,l,d){const g=rn(),v=2&l;try{Is(-1),v&&o.length>22&&Mm(s,o,22,!1),u(l,d)}finally{Is(g)}}function tI(s,o,u){if(Zo(o)){const d=o.directiveEnd;for(let g=o.directiveStart;g<d;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,u[g],g)}}}function nI(s,o,u){!Rd()||(function HC(s,o,u,l){const d=u.directiveStart,g=u.directiveEnd;s.firstCreatePass||ra(u,o),Gn(l,o);const v=u.initialInputs;for(let C=d;C<g;C++){const b=s.data[C],x=wi(b);x&&Fr(o,u,b);const N=Wa(o,s,C,u);Gn(N,o),null!==v&&xh(0,C-d,N,b,0,v),x&&(cr(u.index,o)[8]=N)}}(s,o,u,Pr(u,o)),128==(128&u.flags)&&function OA(s,o,u){const l=u.directiveStart,d=u.directiveEnd,g=u.index,v=function Su(){return Rt.lFrame.currentDirectiveIndex}();try{Is(g);for(let C=l;C<d;C++){const b=s.data[C],x=o[C];Au(C),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&$C(b,x)}}finally{Is(-1),Au(v)}}(s,o,u))}function rI(s,o,u=Pr){const l=o.localNames;if(null!==l){let d=o.index+1;for(let g=0;g<l.length;g+=2){const v=l[g+1],C=-1===v?u(o,s):s[v];s[d++]=C}}}function kC(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=iI(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function iI(s,o,u,l,d,g,v,C,b,x){const N=22+l,F=N+d,z=function OC(s,o){const u=[];for(let l=0;l<o;l++)u.push(l<s?null:Bt);return u}(N,F),te="function"==typeof x?x():x;return z[1]={type:s,blueprint:z,template:u,queries:null,viewQuery:C,declTNode:o,data:z.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:b,consts:te,incompleteFirstPass:!1}}function FC(s,o,u,l){const d=Un(o);null===u?d.push(l):(d.push(u),s.firstCreatePass&&Bn(s).push(l,d.length-1))}function UC(s,o,u){for(let l in s)if(s.hasOwnProperty(l)){const d=s[l];(u=null===u?{}:u).hasOwnProperty(l)?u[l].push(o,d):u[l]=[o,d]}return u}function BC(s,o){const l=o.directiveEnd,d=s.data,g=o.attrs,v=[];let C=null,b=null;for(let x=o.directiveStart;x<l;x++){const N=d[x],F=N.inputs,z=null===g||lA(o)?null:sI(F,g);v.push(z),C=UC(F,x,C),b=UC(N.outputs,x,b)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=16),C.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=C,o.outputs=b}function Wm(s,o){const u=cr(o,s);16&u[2]||(u[2]|=32)}function jC(s,o,u,l){let d=!1;if(Rd()){const g=function GC(s,o,u){const l=s.directiveRegistry;let d=null;if(l)for(let g=0;g<l.length;g++){const v=l[g];fC(u,v.selectors,!1)&&(d||(d=[]),za(ra(u,o),s,v.type),wi(v)?(LA(s,u),d.unshift(v)):d.push(v))}return d}(s,o,u),v=null===l?null:{"":-1};if(null!==g){d=!0,xp(u,s.data.length,g.length);for(let N=0;N<g.length;N++){const F=g[N];F.providersResolver&&F.providersResolver(F)}let C=!1,b=!1,x=Ah(s,o,g.length,null);for(let N=0;N<g.length;N++){const F=g[N];u.mergedAttrs=Ha(u.mergedAttrs,F.hostAttrs),Lr(s,u,o,x,F),FA(x,F,v),null!==F.contentQueries&&(u.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(u.flags|=128);const z=F.type.prototype;!C&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),C=!0),!b&&(z.ngOnChanges||z.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),b=!0),x++}BC(s,u)}v&&function Zm(s,o,u){if(o){const l=s.localNames=[];for(let d=0;d<o.length;d+=2){const g=u[o[d+1]];if(null==g)throw new Ce(-301,!1);l.push(o[d],g)}}}(u,l,v)}return u.mergedAttrs=Ha(u.mergedAttrs,u.attrs),d}function Vl(s,o,u,l,d,g){const v=g.hostBindings;if(v){let C=s.hostBindingOpCodes;null===C&&(C=s.hostBindingOpCodes=[]);const b=~o.index;(function kA(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(C)!=b&&C.push(b),C.push(l,d,v)}}function $C(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function LA(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function FA(s,o,u){if(u){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)u[o.exportAs[l]]=s;wi(o)&&(u[""]=s)}}function xp(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}function Lr(s,o,u,l,d){s.data[l]=d;const g=d.factory||(d.factory=Vs(d.type)),v=new ja(g,wi(d),Ch);s.blueprint[l]=v,u[l]=v,Vl(s,o,0,l,Ah(s,u,d.hostVars,Bt),d)}function Fr(s,o,u){const l=Pr(o,s),d=kC(u),g=s[10],v=gc(s,Ap(s,d,null,u.onPush?32:16,l,o,g,g.createRenderer(l,u),null,null,null));s[o.index]=v}function to(s,o,u,l,d,g){const v=Pr(s,o);!function Cr(s,o,u,l,d,g,v){if(null==g)s.removeAttribute(o,d,u);else{const C=null==v?ve(g):v(g,l||"",d);s.setAttribute(o,d,C,u)}}(o[11],v,g,s.value,u,l,d)}function xh(s,o,u,l,d,g){const v=g[o];if(null!==v){const C=l.setInput;for(let b=0;b<v.length;){const x=v[b++],N=v[b++],F=v[b++];null!==C?l.setInput(u,F,x,N):u[N]=F}}}function sI(s,o){let u=null,l=0;for(;l<o.length;){const d=o[l];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===u&&(u=[]),u.push(d,s[d],o[l+1])),l+=2}else l+=2;else l+=4}return u}function ko(s,o,u,l){return new Array(s,!0,!1,o,null,0,l,u,null,null)}function oI(s,o){const u=cr(o,s);if(Jo(u)){const l=u[1];48&u[2]?zm(l,u,l.template,u[8]):u[5]>0&&Km(u)}}function Km(s){for(let l=am(s);null!==l;l=bl(l))for(let d=10;d<l.length;d++){const g=l[d];if(Jo(g))if(512&g[2]){const v=g[1];zm(v,g,v.template,g[8])}else g[5]>0&&Km(g)}const u=s[1].components;if(null!==u)for(let l=0;l<u.length;l++){const d=cr(u[l],s);Jo(d)&&d[5]>0&&Km(d)}}function VA(s,o){const u=cr(o,s),l=u[1];(function UA(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(l,u),Gm(l,u,u[8])}function gc(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Mp(s){for(;s;){s[2]|=32;const o=nh(s);if(Iu(s)&&!o)return s;s=o}return null}function Pp(s,o,u,l=!0){const d=o[10];d.begin&&d.begin();try{zm(s,o,s.template,u)}catch(v){throw l&&uI(o,v),v}finally{d.end&&d.end()}}function aI(s,o,u){si(0),o(s,u)}function Un(s){return s[7]||(s[7]=[])}function Bn(s){return s.cleanup||(s.cleanup=[])}function uI(s,o){const u=s[9],l=u?u.get(Am,null):null;l&&l.handleError(o)}function Np(s,o,u,l,d){for(let g=0;g<u.length;){const v=u[g++],C=u[g++],b=o[v],x=s.data[v];null!==x.setInput?x.setInput(b,d,l,C):b[C]=d}}function hi(s,o,u){const l=ji(o,s);!function rh(s,o,u){s.setValue(o,u)}(s[11],l,u)}function Rh(s,o,u){let l=u?s.styles:null,d=u?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const C=o[v];"number"==typeof C?g=C:1==g?d=me(d,C):2==g&&(l=me(l,C+": "+o[++v]+";"))}u?s.styles=l:s.stylesWithoutHost=l,u?s.classes=d:s.classesWithoutHost=d}function kp(s,o,u,l,d=!1){for(;null!==u;){const g=o[u.index];if(null!==g&&l.push(Hn(g)),ni(g))for(let C=10;C<g.length;C++){const b=g[C],x=b[1].firstChild;null!==x&&kp(b[1],b,x,l)}const v=u.type;if(8&v)kp(s,o,u.child,l);else if(32&v){const C=Cl(u,o);let b;for(;b=C();)l.push(b)}else if(16&v){const C=pm(o,u);if(Array.isArray(C))l.push(...C);else{const b=nh(o[16]);kp(b[1],b,C,l,!0)}}u=d?u.projectionNext:u.next}return l}class Ul{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return kp(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ni(o)){const u=o[8],l=u?u.indexOf(this):-1;l>-1&&(sh(o,l),ul(u,l))}this._attachedToViewContainer=!1}_v(this._lView[1],this._lView)}onDestroy(o){FC(this._lView[1],this._lView,null,o)}markForCheck(){Mp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Pp(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function yv(s,o){uu(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ce(902,!1);this._appRef=o}}class BA extends Ul{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Pp(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class cI extends cc{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=le(o);return new Ph(u,this.ngModule)}}function Mh(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class WC{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,l){const d=this.injector.get(o,cC,l);return d!==cC||u===cC?d:this.parentInjector.get(o,u,l)}}class Ph extends Ov{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function pA(s){return s.map(Ol).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Mh(this.componentDef.inputs)}get outputs(){return Mh(this.componentDef.outputs)}create(o,u,l,d){let g=(d=d||this.ngModule)instanceof kl?d:d?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new WC(o,g):o,C=v.get(aC,null);if(null===C)throw new Ce(407,!1);const b=v.get(Yk,null),x=C.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",F=l?function LC(s,o,u){return s.selectRootElement(o,u===nt.ShadowDom)}(x,l,this.componentDef.encapsulation):ep(x,N,function zC(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(N)),z=this.componentDef.onPush?288:272,te=iI(0,null,null,1,0,null,null,null,null,null),we=Ap(null,te,null,z,null,null,C,x,b,v,null);let Be,Ke;Jc(we);try{const ut=function HA(s,o,u,l,d,g){const v=u[1];u[22]=s;const b=Sh(v,22,2,"#host",null),x=b.mergedAttrs=o.hostAttrs;null!==x&&(Rh(b,x,!0),null!==s&&($s(d,s,x),null!==b.classes&&hh(d,s,b.classes),null!==b.styles&&gm(d,s,b.styles)));const N=l.createRenderer(s,o),F=Ap(u,kC(o),null,o.onPush?32:16,u[22],b,l,N,g||null,null,null);return v.firstCreatePass&&(za(ra(b,u),v,o.type),LA(v,b),xp(b,u.length,1)),gc(u,F),u[22]=F}(F,this.componentDef,we,C,x);if(F)if(l)$s(x,F,["ng-version",oA.full]);else{const{attrs:Ct,classes:Se}=function gA(s){const o=[],u=[];let l=1,d=2;for(;l<s.length;){let g=s[l];if("string"==typeof g)2===d?""!==g&&o.push(g,s[++l]):8===d&&u.push(g);else{if(!Mo(d))break;d=g}l++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);Ct&&$s(x,F,Ct),Se&&Se.length>0&&hh(x,F,Se.join(" "))}if(Ke=Wc(te,22),void 0!==u){const Ct=Ke.projection=[];for(let Se=0;Se<this.ngContentSelectors.length;Se++){const Mt=u[Se];Ct.push(null!=Mt?Array.from(Mt):null)}}Be=function lI(s,o,u,l){const d=u[1],g=function EO(s,o,u){const l=Pn();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Lr(s,l,o,Ah(s,o,1,null),u),BC(s,l));const d=Wa(o,s,l.directiveStart,l);Gn(d,o);const g=Pr(l,o);return g&&Gn(g,o),d}(d,u,o);if(s[8]=u[8]=g,null!==l)for(const C of l)C(g,o);if(o.contentQueries){const C=Pn();o.contentQueries(1,g,C.directiveStart)}const v=Pn();return!d.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Is(v.index),Vl(u[1],v,0,v.directiveStart,v.directiveEnd,o),$C(o,g)),g}(ut,this.componentDef,we,[$A]),Gm(te,we,null)}finally{Ua()}return new ZC(this.componentType,Be,Ep(Ke,we),we,Ke)}}class ZC extends class qk{}{constructor(o,u,l,d,g){super(),this.location=l,this._rootLView=d,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new BA(d),this.componentType=o}setInput(o,u){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[o])){const g=this._rootLView;Np(g[1],g,d,o,u),Wm(g,this._tNode.index)}}get injector(){return new Cs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function $A(){const s=Pn();Hs(Te()[1],s)}function Nh(s){let o=function Qm(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const l=[s];for(;o;){let d;if(wi(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ce(903,!1);d=o.\u0275dir}if(d){if(u){l.push(d);const v=s;v.inputs=Bl(s.inputs),v.declaredInputs=Bl(s.declaredInputs),v.outputs=Bl(s.outputs);const C=d.hostBindings;C&&hI(s,C);const b=d.viewQuery,x=d.contentQueries;if(b&&bO(s,b),x&&GA(s,x),Ie(s.inputs,d.inputs),Ie(s.declaredInputs,d.declaredInputs),Ie(s.outputs,d.outputs),wi(d)&&d.data.animation){const N=s.data;N.animation=(N.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let v=0;v<g.length;v++){const C=g[v];C&&C.ngInherit&&C(s),C===Nh&&(u=!1)}}o=Object.getPrototypeOf(o)}!function dI(s){let o=0,u=null;for(let l=s.length-1;l>=0;l--){const d=s[l];d.hostVars=o+=d.hostVars,d.hostAttrs=Ha(d.hostAttrs,u=Ha(u,d.hostAttrs))}}(l)}function Bl(s){return s===Sn?{}:s===Lt?[]:s}function bO(s,o){const u=s.viewQuery;s.viewQuery=u?(l,d)=>{o(l,d),u(l,d)}:o}function GA(s,o){const u=s.contentQueries;s.contentQueries=u?(l,d,g)=>{o(l,d,g),u(l,d,g)}:o}function hI(s,o){const u=s.hostBindings;s.hostBindings=u?(l,d)=>{o(l,d),u(l,d)}:o}let no=null;function hu(){if(!no){const s=tt.Symbol;if(s&&s.iterator)no=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const l=o[u];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(no=l)}}}return no}function Op(s){return!!Fp(s)&&(Array.isArray(s)||!(s instanceof Map)&&hu()in s)}function Fp(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function fi(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function jl(s,o,u,l){const d=fi(s,o,u);return fi(s,o+1,l)||d}function Up(s,o,u,l){const d=Te();return fi(d,vs(),o)&&(Ht(),to(An(),d,s,o,u,l)),Up}function Ri(s,o,u,l,d,g){const C=jl(s,function kr(){return Rt.lFrame.bindingIndex}(),u,d);return Di(2),C?o+ve(u)+l+ve(d)+g:Bt}function QC(s,o,u,l,d,g,v,C){const b=Te(),x=Ht(),N=s+22,F=x.firstCreatePass?function qA(s,o,u,l,d,g,v,C,b){const x=o.consts,N=Sh(o,s,4,v||null,ri(x,C));jC(o,u,N,ri(x,b)),Hs(o,N);const F=N.tViews=iI(2,N,l,d,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,x);return null!==o.queries&&(o.queries.template(o,N),F.queries=o.queries.embeddedTView(N)),N}(N,x,b,o,u,l,d,g,v):x.data[N];ii(F,!1);const z=b[11].createComment("");sp(x,b,z,F),Gn(z,b),gc(b,b[N]=ko(z,b,z,F)),_s(F)&&nI(x,b,F),null!=v&&rI(b,F,C)}function wI(s){return function Bs(s,o){return s[o]}(function Pd(){return Rt.lFrame.contextLView}(),22+s)}function CI(s,o,u){const l=Te();return fi(l,vs(),o)&&function Yi(s,o,u,l,d,g,v,C){const b=Pr(o,u);let N,x=o.inputs;!C&&null!=x&&(N=x[l])?(Np(s,u,N,l,d),Ko(o)&&Wm(u,o.index)):3&o.type&&(l=function NA(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),d=null!=v?v(d,o.value||"",l):d,g.setProperty(b,l,d))}(Ht(),An(),l,s,o,l[11],u,!1),CI}function bI(s,o,u,l,d){const v=d?"class":"style";Np(s,u,o.inputs[v],v,l)}function Xm(s,o,u,l){const d=Te(),g=Ht(),v=22+s,C=d[11],b=d[v]=ep(C,o,function xu(){return Rt.lFrame.currentNamespace}()),x=g.firstCreatePass?function DI(s,o,u,l,d,g,v){const C=o.consts,x=Sh(o,s,2,d,ri(C,g));return jC(o,u,x,ri(C,v)),null!==x.attrs&&Rh(x,x.attrs,!1),null!==x.mergedAttrs&&Rh(x,x.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,x),x}(v,g,d,0,o,u,l):g.data[v];ii(x,!0);const N=x.mergedAttrs;null!==N&&$s(C,b,N);const F=x.classes;null!==F&&hh(C,b,F);const z=x.styles;return null!==z&&gm(C,b,z),64!=(64&x.flags)&&sp(g,d,b,x),0===function Xo(){return Rt.lFrame.elementDepthCount}()&&Gn(b,d),function Pf(){Rt.lFrame.elementDepthCount++}(),_s(x)&&(nI(g,d,x),tI(g,x,d)),null!==l&&rI(d,x),Xm}function ey(){let s=Pn();ea()?Tu():(s=s.parent,ii(s,!1));const o=s;!function xd(){Rt.lFrame.elementDepthCount--}();const u=Ht();return u.firstCreatePass&&(Hs(u,s),Zo(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Vd(s){return 0!=(16&s.flags)}(o)&&bI(u,o,Te(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Jg(s){return 0!=(32&s.flags)}(o)&&bI(u,o,Te(),o.stylesWithoutHost,!1),ey}function TI(s,o,u,l){return Xm(s,o,u,l),ey(),TI}function jp(s,o,u){const l=Te(),d=Ht(),g=s+22,v=d.firstCreatePass?function Wn(s,o,u,l,d){const g=o.consts,v=ri(g,l),C=Sh(o,s,8,"ng-container",v);return null!==v&&Rh(C,v,!0),jC(o,u,C,ri(g,d)),null!==o.queries&&o.queries.elementStart(o,C),C}(g,d,l,o,u):d.data[g];ii(v,!0);const C=l[g]=l[11].createComment("");return sp(d,l,C,v),Gn(C,l),_s(v)&&(nI(d,l,v),tI(d,v,l)),null!=u&&rI(l,v),jp}function mc(){let s=Pn();const o=Ht();return ea()?Tu():(s=s.parent,ii(s,!1)),o.firstCreatePass&&(Hs(o,s),Zo(s)&&o.queries.elementEnd(s)),mc}function SI(s,o,u){return jp(s,o,u),mc(),SI}function ty(){return Te()}function AI(s){return!!s&&"function"==typeof s.then}function XC(s){return!!s&&"function"==typeof s.subscribe}const eb=XC;function ny(s,o,u,l){const d=Te(),g=Ht(),v=Pn();return function Hp(s,o,u,l,d,g,v,C){const b=_s(l),N=s.firstCreatePass&&Bn(s),F=o[8],z=Un(o);let te=!0;if(3&l.type||C){const Ke=Pr(l,o),ut=C?C(Ke):Ke,Ct=z.length,Se=C?cn=>C(Hn(cn[l.index])):l.index;let Mt=null;if(!C&&b&&(Mt=function ZA(s,o,u,l){const d=s.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const v=d[g];if(v===u&&d[g+1]===l){const C=o[7],b=d[g+2];return C.length>b?C[b]:null}"string"==typeof v&&(g+=2)}return null}(s,o,d,l.index)),null!==Mt)(Mt.__ngLastListenerFn__||Mt).__ngNextListenerFn__=g,Mt.__ngLastListenerFn__=g,te=!1;else{g=rb(l,o,F,g,!1);const cn=u.listen(ut,d,g);z.push(g,cn),N&&N.push(d,Se,Ct,Ct+1)}}else g=rb(l,o,F,g,!1);const we=l.outputs;let Be;if(te&&null!==we&&(Be=we[d])){const Ke=Be.length;if(Ke)for(let ut=0;ut<Ke;ut+=2){const jn=o[Be[ut]][Be[ut+1]].subscribe(g),gu=z.length;z.push(g,jn),N&&N.push(d,l.index,gu,-(gu+1))}}}(g,d,d[11],v,s,o,0,l),ny}function nb(s,o,u,l){try{return!1!==u(l)}catch(d){return uI(s,d),!1}}function rb(s,o,u,l,d){return function g(v){if(v===Function)return l;Mp(2&s.flags?cr(s.index,o):o);let b=nb(o,0,l,v),x=g.__ngNextListenerFn__;for(;x;)b=nb(o,0,x,v)&&b,x=x.__ngNextListenerFn__;return d&&!1===b&&(v.preventDefault(),v.returnValue=!1),b}}function ib(s=1){return function ta(s){return(Rt.lFrame.contextLView=function Qg(s,o){for(;s>0;)o=o[15],s--;return o}(s,Rt.lFrame.contextLView))[8]}(s)}function RI(s,o,u,l,d){const g=s[u+1],v=null===o;let C=l?Po(g):du(g),b=!1;for(;0!==C&&(!1===b||v);){const N=s[C+1];ex(s[C],o)&&(b=!0,s[C+1]=l?zv(N):$v(N)),C=l?Po(N):du(N)}b&&(s[u+1]=l?$v(g):zv(g))}function ex(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Qa(s,o)>=0}function Gp(s,o){return function Uo(s,o,u,l){const d=Te(),g=Ht(),v=Di(2);g.firstUpdatePass&&function cy(s,o,u,l){const d=s.data;if(null===d[u+1]){const g=d[rn()],v=function hb(s,o){return o>=s.expandoStartIndex}(s,u);(function hy(s,o){return 0!=(s.flags&(o?16:32))})(g,l)&&null===o&&!v&&(o=!1),o=function zp(s,o,u,l){const d=function Oa(s){const o=Rt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(u=Uh(u=ao(null,s,o,u,l),o.attrs,l),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==d)if(u=ao(d,s,o,u,l),null===g){let b=function pu(s,o,u){const l=u?o.classBindings:o.styleBindings;if(0!==du(l))return s[Po(l)]}(s,o,l);void 0!==b&&Array.isArray(b)&&(b=ao(null,s,o,b[1],l),b=Uh(b,o.attrs,l),function LI(s,o,u,l){s[Po(u?o.classBindings:o.styleBindings)]=l}(s,o,l,b))}else g=function sx(s,o,u){let l;const d=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<d;g++)l=Uh(l,s[g].hostAttrs,u);return Uh(l,o.attrs,u)}(s,o,l)}return void 0!==g&&(l?o.residualClasses=g:o.residualStyles=g),u}(d,g,o,l),function ab(s,o,u,l,d,g){let v=g?o.classBindings:o.styleBindings,C=Po(v),b=du(v);s[l]=u;let N,x=!1;if(Array.isArray(u)){const F=u;N=F[1],(null===N||Qa(F,N)>0)&&(x=!0)}else N=u;if(d)if(0!==b){const z=Po(s[C+1]);s[l+1]=Fm(z,C),0!==z&&(s[z+1]=Gv(s[z+1],l)),s[C+1]=function SA(s,o){return 131071&s|o<<17}(s[C+1],l)}else s[l+1]=Fm(C,0),0!==C&&(s[C+1]=Gv(s[C+1],l)),C=l;else s[l+1]=Fm(b,0),0===C?C=l:s[b+1]=Gv(s[b+1],l),b=l;x&&(s[l+1]=$v(s[l+1])),RI(s,N,l,!0),RI(s,N,l,!1),function XA(s,o,u,l,d){const g=d?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&Qa(g,o)>=0&&(u[l+1]=zv(u[l+1]))}(o,N,s,l,g),v=Fm(C,b),g?o.classBindings=v:o.styleBindings=v}(d,g,o,u,v,l)}}(g,s,v,l),o!==Bt&&fi(d,v,o)&&function pb(s,o,u,l,d,g,v,C){if(!(3&o.type))return;const b=s.data,x=b[C+1];dy(function DC(s){return 1==(1&s)}(x)?ly(b,o,u,d,du(x),v):void 0)||(dy(g)||function bC(s){return 2==(2&s)}(x)&&(g=ly(b,null,u,d,C,v)),function up(s,o,u,l,d){if(o)d?s.addClass(u,l):s.removeClass(u,l);else{let g=-1===l.indexOf("-")?void 0:Ki.DashCase;null==d?s.removeStyle(u,l,g):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),g|=Ki.Important),s.setStyle(u,l,d,g))}}(l,v,ji(rn(),u),d,g))}(g,g.data[rn()],d,d[11],s,d[v+1]=function ox(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ge(qr(s)))),s}(o,u),l,v)}(s,o,null,!0),Gp}function ao(s,o,u,l,d){let g=null;const v=u.directiveEnd;let C=u.directiveStylingLast;for(-1===C?C=u.directiveStart:C++;C<v&&(g=o[C],l=Uh(l,g.hostAttrs,d),g!==s);)C++;return null!==s&&(u.directiveStylingLast=C),l}function Uh(s,o,u){const l=u?1:2;let d=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?d=v:d===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Ai(s,v,!!u||o[++g]))}return void 0===s?null:s}function ly(s,o,u,l,d,g){const v=null===o;let C;for(;d>0;){const b=s[d],x=Array.isArray(b),N=x?b[1]:b,F=null===N;let z=u[d+1];z===Bt&&(z=F?Lt:void 0);let te=F?Ya(z,l):N===l?z:void 0;if(x&&!dy(te)&&(te=Ya(b,l)),dy(te)&&(C=te,v))return C;const we=s[d+1];d=v?Po(we):du(we)}if(null!==o){let b=g?o.residualClasses:o.residualStyles;null!=b&&(C=Ya(b,l))}return C}function dy(s){return void 0!==s}function _c(s,o=""){const u=Te(),l=Ht(),d=s+22,g=l.firstCreatePass?Sh(l,d,1,o,null):l.data[d],v=u[d]=function Dl(s,o){return s.createText(o)}(u[11],o);sp(l,u,v,g),ii(g,!1)}function UI(s){return fy("",s,""),UI}function fy(s,o,u){const l=Te(),d=function xs(s,o,u,l){return fi(s,vs(),u)?o+ve(u)+l:Bt}(l,s,o,u);return d!==Bt&&hi(l,rn(),d),fy}function $l(s,o,u,l,d){const g=Te(),v=Ri(g,s,o,u,l,d);return v!==Bt&&hi(g,rn(),v),$l}const vc=void 0;var hx=["en",[["a","p"],["AM","PM"],vc],[["AM","PM"],vc,vc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vc,"{1} 'at' {0}",vc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function KI(s){const u=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===l?1:5}];let Ic={};function Zp(s){const o=function QI(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=Dy(o);if(u)return u;const l=o.split("-")[0];if(u=Dy(l),u)return u;if("en"===l)return hx;throw new Ce(701,!1)}function by(s){return Zp(s)[St.PluralCase]}function Dy(s){return s in Ic||(Ic[s]=tt.ng&&tt.ng.common&&tt.ng.common.locales&&tt.ng.common.locales[s]),Ic[s]}var St=(()=>((St=St||{})[St.LocaleId=0]="LocaleId",St[St.DayPeriodsFormat=1]="DayPeriodsFormat",St[St.DayPeriodsStandalone=2]="DayPeriodsStandalone",St[St.DaysFormat=3]="DaysFormat",St[St.DaysStandalone=4]="DaysStandalone",St[St.MonthsFormat=5]="MonthsFormat",St[St.MonthsStandalone=6]="MonthsStandalone",St[St.Eras=7]="Eras",St[St.FirstDayOfWeek=8]="FirstDayOfWeek",St[St.WeekendRange=9]="WeekendRange",St[St.DateFormat=10]="DateFormat",St[St.TimeFormat=11]="TimeFormat",St[St.DateTimeFormat=12]="DateTimeFormat",St[St.NumberSymbols=13]="NumberSymbols",St[St.NumberFormats=14]="NumberFormats",St[St.CurrencyCode=15]="CurrencyCode",St[St.CurrencySymbol=16]="CurrencySymbol",St[St.CurrencyName=17]="CurrencyName",St[St.Currencies=18]="Currencies",St[St.Directionality=19]="Directionality",St[St.PluralCase=20]="PluralCase",St[St.ExtraData=21]="ExtraData",St))();const jh="en-US";let wb=jh;function p0(s,o,u,l,d){if(s=K(s),Array.isArray(s))for(let g=0;g<s.length;g++)p0(s[g],o,u,l,d);else{const g=Ht(),v=Te();let C=Nl(s)?s:K(s.provide),b=iC(s);const x=Pn(),N=1048575&x.providerIndexes,F=x.directiveStart,z=x.providerIndexes>>20;if(Nl(s)||!s.multi){const te=new ja(b,d,Ch),we=Zl(C,o,d?N:N+z,F);-1===we?(za(ra(x,v),g,C),Gh(g,s,o.length),o.push(C),x.directiveStart++,x.directiveEnd++,d&&(x.providerIndexes+=1048576),u.push(te),v.push(te)):(u[we]=te,v[we]=te)}else{const te=Zl(C,o,N+z,F),we=Zl(C,o,N,N+z),Be=te>=0&&u[te],Ke=we>=0&&u[we];if(d&&!Ke||!d&&!Be){za(ra(x,v),g,C);const ut=function Ob(s,o,u,l,d){const g=new ja(s,u,Ch);return g.multi=[],g.index=o,g.componentProviders=0,g0(g,d,l&&!u),g}(d?kx:By,u.length,d,l,b);!d&&Ke&&(u[we].providerFactory=ut),Gh(g,s,o.length,0),o.push(C),x.directiveStart++,x.directiveEnd++,d&&(x.providerIndexes+=1048576),u.push(ut),v.push(ut)}else Gh(g,s,te>-1?te:we,g0(u[d?we:te],b,!d&&l));!d&&l&&Ke&&u[we].componentProviders++}}}function Gh(s,o,u,l){const d=Nl(o),g=function tC(s){return!!s.useClass}(o);if(d||g){const b=(g?K(o.useClass):o).prototype.ngOnDestroy;if(b){const x=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const N=x.indexOf(u);-1===N?x.push(u,[l,b]):x[N+1].push(l,b)}else x.push(u,b)}}}function g0(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function Zl(s,o,u,l){for(let d=u;d<l;d++)if(o[d]===s)return d;return-1}function By(s,o,u,l){return Xp(this.multi,[])}function kx(s,o,u,l){const d=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=Wa(u,u[1],this.providerFactory.index,l);g=C.slice(0,v),Xp(d,g);for(let b=v;b<C.length;b++)g.push(C[b])}else g=[],Xp(d,g);return g}function Xp(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function jy(s,o=[]){return u=>{u.providersResolver=(l,d)=>function kb(s,o,u){const l=Ht();if(l.firstCreatePass){const d=wi(s);p0(u,l.data,l.blueprint,d,!0),p0(o,l.data,l.blueprint,d,!1)}}(l,d?d(s):s,o)}}class zh{}class Hy{}function Lb(s,o){return new Fb(s,o??null)}class Fb extends zh{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new cI(this);const l=Ft(o);this._bootstrapComponents=lc(l.bootstrap),this._r3Injector=Vv(o,u,[{provide:zh,useValue:this},{provide:cc,useValue:this.componentFactoryResolver}],ge(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Vb extends Hy{constructor(o){super(),this.moduleType=o}create(o){return new Fb(this.moduleType,o)}}class Wh extends zh{constructor(o,u,l){super(),this.componentFactoryResolver=new cI(this),this.instance=null;const d=new rC([...o,{provide:zh,useValue:this},{provide:cc,useValue:this.componentFactoryResolver}],u||uc(),l,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function $y(s,o,u=null){return new Wh(s,o,u).injector}let Ox=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const l=Rv(0,u.type),d=l.length>0?$y([l],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,d)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=J({token:s,providedIn:"environment",factory:()=>new s($n(kl))}),s})();function Ub(s){s.getStandaloneInjector=o=>o.get(Ox).getOrCreateStandaloneInjector(s)}function qy(s,o,u,l,d,g){return function Wb(s,o,u,l,d,g,v,C){const b=o+u;return function kh(s,o,u,l,d){const g=jl(s,o,u,l);return fi(s,o+2,d)||g}(s,b,d,g,v)?function ro(s,o,u){return s[o]=u}(s,b+3,C?l.call(C,d,g,v):l(d,g,v)):function Yl(s,o){const u=s[o];return u===Bt?void 0:u}(s,b+3)}(Te(),function Nr(){const s=Rt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),s,o,u,l,d,g)}function ig(s){return o=>{setTimeout(s,void 0,o)}}const Ca=class b0 extends P.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,l){let d=o,g=u||(()=>null),v=l;if(o&&"object"==typeof o){const b=o;d=b.next?.bind(b),g=b.error?.bind(b),v=b.complete?.bind(b)}this.__isAsync&&(g=ig(g),d&&(d=ig(d)),v&&(v=ig(v)));const C=super.subscribe({next:d,error:g,complete:v});return o instanceof m.w0&&o.add(C),C}};function D0(){return this._results[hu()]()}class Ky{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=hu(),l=Ky.prototype;l[u]||(l[u]=D0)}get changes(){return this._changes||(this._changes=new Ca)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const l=this;l.dirty=!1;const d=lr(o);(this._changesDetected=!function $f(s,o,u){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let d=s[l],g=o[l];if(u&&(d=u(d),g=u(g)),g!==d)return!1}return!0}(l._results,d,u))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let qh=(()=>{class s{}return s.__NG_ELEMENT_ID__=T0,s})();const Zx=qh,Kx=class extends Zx{constructor(o,u,l){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=l}createEmbeddedView(o,u){const l=this._declarationTContainer.tViews,d=Ap(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null,u||null);d[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(d[19]=v.createEmbeddedView(l)),Gm(l,d,o),new Ul(d)}};function T0(){return Yy(Pn(),Te())}function Yy(s,o){return 4&s.type?new Kx(o,s,Ep(s,o)):null}let Qy=(()=>{class s{}return s.__NG_ELEMENT_ID__=S0,s})();function S0(){return Xy(Pn(),Te())}const Yx=Qy,Kb=class extends Yx{constructor(o,u,l){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=l}get element(){return Ep(this._hostTNode,this._hostLView)}get injector(){return new Cs(this._hostTNode,this._hostLView)}get parentInjector(){const o=bo(this._hostTNode,this._hostLView);if(rl(o)){const u=vo(o,this._hostLView),l=$a(o);return new Cs(u[1].data[l+8],u)}return new Cs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=Jy(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,l){let d,g;"number"==typeof l?d=l:null!=l&&(d=l.index,g=l.injector);const v=o.createEmbeddedView(u||{},g);return this.insert(v,d),v}createComponent(o,u,l,d,g){const v=o&&!function ca(s){return"function"==typeof s}(o);let C;if(v)C=u;else{const F=u||{};C=F.index,l=F.injector,d=F.projectableNodes,g=F.environmentInjector||F.ngModuleRef}const b=v?o:new Ph(le(o)),x=l||this.parentInjector;if(!g&&null==b.ngModule){const z=(v?x:this.parentInjector).get(kl,null);z&&(g=z)}const N=b.create(x,d,void 0,g);return this.insert(N.hostView,C),N}insert(o,u){const l=o._lView,d=l[1];if(function Zc(s){return ni(s[3])}(l)){const N=this.indexOf(o);if(-1!==N)this.detach(N);else{const F=l[3],z=new Kb(F,F[6],F[3]);z.detach(z.indexOf(o))}}const g=this._adjustIndex(u),v=this._lContainer;!function tp(s,o,u,l){const d=10+l,g=u.length;l>0&&(u[d-1][4]=o),l<g-10?(o[4]=u[d],Ka(u,10+l,o)):(u.push(o),o[4]=null),o[3]=u;const v=o[17];null!==v&&u!==v&&function Kw(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(v,o);const C=o[19];null!==C&&C.insertView(s),o[2]|=64}(d,l,v,g);const C=Al(g,v),b=l[11],x=Sl(b,v[7]);return null!==x&&function ih(s,o,u,l,d,g){l[0]=d,l[6]=o,uu(s,l,u,1,d,g)}(d,v[6],b,l,x,C),o.attachToViewContainerRef(),Ka(A0(v),g,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=Jy(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),l=sh(this._lContainer,u);l&&(ul(A0(this._lContainer),u),_v(l[1],l))}detach(o){const u=this._adjustIndex(o,-1),l=sh(this._lContainer,u);return l&&null!=ul(A0(this._lContainer),u)?new Ul(l):null}_adjustIndex(o,u=0){return o??this.length+u}};function Jy(s){return s[8]}function A0(s){return s[8]||(s[8]=[])}function Xy(s,o){let u;const l=o[s.index];if(ni(l))u=l;else{let d;if(8&s.type)d=Hn(l);else{const g=o[11];d=g.createComment("");const v=Pr(s,o);ma(g,Sl(g,v),d,function hm(s,o){return s.nextSibling(o)}(g,v),!1)}o[s.index]=u=ko(l,o,d,s),gc(o,u)}return new Kb(u,s,o)}class sg{constructor(o){this.queryList=o,this.matches=null}clone(){return new sg(this.queryList)}setDirty(){this.queryList.setDirty()}}class R0{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const l=null!==o.contentQueries?o.contentQueries[0]:u.length,d=[];for(let g=0;g<l;g++){const v=u.getByIndex(g);d.push(this.queries[v.indexInDeclarationView].clone())}return new R0(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==eD(o,u).matches&&this.queries[u].setDirty()}}class M0{constructor(o,u,l=null){this.predicate=o,this.flags=u,this.read=l}}class t_{constructor(o=[]){this.queries=o}elementStart(o,u){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let l=0;l<this.length;l++){const d=null!==u?u.length:0,g=this.getByIndex(l).embeddedTView(o,d);g&&(g.indexInDeclarationView=l,null!==u?u.push(g):u=[g])}return null!==u?new t_(u):null}template(o,u){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class n_{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new n_(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==u;)l=l.parent;return u===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const g=l[d];this.matchTNodeWithReadOption(o,u,Jx(u,g)),this.matchTNodeWithReadOption(o,u,ws(u,o,g,!1,!1))}else l===qh?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,ws(u,o,l,!1,!1))}matchTNodeWithReadOption(o,u,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===wp||d===Qy||d===qh&&4&u.type)this.addMatch(u.index,-2);else{const g=ws(u,o,d,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,l)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function Jx(s,o){const u=s.localNames;if(null!==u)for(let l=0;l<u.length;l+=2)if(u[l]===o)return u[l+1];return null}function P0(s,o,u,l){return-1===u?function Yb(s,o){return 11&s.type?Ep(s,o):4&s.type?Yy(s,o):null}(o,s):-2===u?function Xx(s,o,u){return u===wp?Ep(o,s):u===qh?Yy(o,s):u===Qy?Xy(o,s):void 0}(s,o,l):Wa(s,s[1],u,o)}function Qb(s,o,u,l){const d=o[19].queries[l];if(null===d.matches){const g=s.data,v=u.matches,C=[];for(let b=0;b<v.length;b+=2){const x=v[b];C.push(x<0?null:P0(o,g[x],v[b+1],u.metadata.read))}d.matches=C}return d.matches}function N0(s,o,u,l){const d=s.queries.getByIndex(u),g=d.matches;if(null!==g){const v=Qb(s,o,d,u);for(let C=0;C<g.length;C+=2){const b=g[C];if(b>0)l.push(v[C/2]);else{const x=g[C+1],N=o[-b];for(let F=10;F<N.length;F++){const z=N[F];z[17]===z[3]&&N0(z[1],z,x,l)}if(null!==N[9]){const F=N[9];for(let z=0;z<F.length;z++){const te=F[z];N0(te[1],te,x,l)}}}}}return l}function r_(s){const o=Te(),u=Ht(),l=Nd();si(l+1);const d=eD(u,l);if(s.dirty&&function qc(s){return 4==(4&s[2])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const g=d.crossesNgTemplate?N0(u,o,l,[]):Qb(u,o,d,l);s.reset(g,os),s.notifyOnChanges()}return!0}return!1}function Jb(s,o,u,l){const d=Ht();if(d.firstCreatePass){const g=Pn();(function Xb(s,o,u){null===s.queries&&(s.queries=new t_),s.queries.track(new n_(o,u))})(d,new M0(o,u,l),g.index),function nR(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(d,s),2==(2&u)&&(d.staticContentQueries=!0)}!function og(s,o,u){const l=new Ky(4==(4&u));FC(s,o,l,l.destroy),null===o[19]&&(o[19]=new R0),o[19].queries.push(new sg(l))}(d,Te(),u)}function k0(){return function tR(s,o){return s[19].queries[o].queryList}(Te(),Nd())}function eD(s,o){return s.queries.getByIndex(o)}function tD(s,o){return Yy(s,o)}function u_(...s){}const c_=new gn("Application Initializer");let l_=(()=>{class s{constructor(u){this.appInits=u,this.resolve=u_,this.reject=u_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const u=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(AI(g))u.push(g);else if(eb(g)){const v=new Promise((C,b)=>{g.subscribe({complete:C,error:b})});u.push(v)}}Promise.all(u).then(()=>{l()}).catch(d=>{this.reject(d)}),0===u.length&&l(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)($n(c_,8))},s.\u0275prov=J({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const _D=new gn("AppId",{providedIn:"root",factory:function lg(){return`${H0()}${H0()}${H0()}`}});function H0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vD=new gn("Platform Initializer"),ID=new gn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ED=new gn("appBootstrapListener");let IR=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=J({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const d_=new gn("LocaleId",{providedIn:"root",factory:()=>Xa(d_,dt.Optional|dt.SkipSelf)||function dg(){return typeof $localize<"u"&&$localize.locale||jh}()}),wD=new gn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ER{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let CD=(()=>{class s{compileModuleSync(u){return new Vb(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const l=this.compileModuleSync(u),g=lc(Ft(u).declarations).reduce((v,C)=>{const b=le(C);return b&&v.push(new Ph(b)),v},[]);return new ER(l,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=J({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const hg=(()=>Promise.resolve(0))();function f_(s){typeof Zone>"u"?hg.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class as{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ca(!1),this.onMicrotaskEmpty=new Ca(!1),this.onStable=new Ca(!1),this.onError=new Ca(!1),typeof Zone>"u")throw new Ce(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&u,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function wR(){let s=tt.requestAnimationFrame,o=tt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function CR(s){const o=()=>{!function SD(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(tt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,ba(s),s.isCheckStableRunning=!0,z0(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),ba(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,l,d,g,v,C)=>{try{return W0(s),u.invokeTask(d,g,v,C)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),AD(s)}},onInvoke:(u,l,d,g,v,C,b)=>{try{return W0(s),u.invoke(d,g,v,C,b)}finally{s.shouldCoalesceRunChangeDetection&&o(),AD(s)}},onHasTask:(u,l,d,g)=>{u.hasTask(d,g),l===d&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,ba(s),z0(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,l,d,g)=>(u.handleError(d,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!as.isInAngularZone())throw new Ce(909,!1)}static assertNotInAngularZone(){if(as.isInAngularZone())throw new Ce(909,!1)}run(o,u,l){return this._inner.run(o,u,l)}runTask(o,u,l,d){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+d,o,G0,u_,u_);try{return g.runTask(v,u,l)}finally{g.cancelTask(v)}}runGuarded(o,u,l){return this._inner.runGuarded(o,u,l)}runOutsideAngular(o){return this._outer.run(o)}}const G0={};function z0(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function ba(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function W0(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function AD(s){s._nesting--,z0(s)}class bR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ca,this.onMicrotaskEmpty=new Ca,this.onStable=new Ca,this.onError=new Ca}run(o,u,l){return o.apply(u,l)}runGuarded(o,u,l){return o.apply(u,l)}runOutsideAngular(o){return o()}runTask(o,u,l,d){return o.apply(u,l)}}const xD=new gn(""),q0=new gn("");let K0,us=(()=>{class s{constructor(u,l,d){this._ngZone=u,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,K0||(function Z0(s){K0=s}(d),d.addToWindow(l)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{as.assertNotInAngularZone(),f_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())f_(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(u)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,l,d){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),u(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:d})}whenStable(u,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,l,d){return[]}}return s.\u0275fac=function(u){return new(u||s)($n(as),$n(p_),$n(q0))},s.\u0275prov=J({token:s,factory:s.\u0275fac}),s})(),p_=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,l){this._applications.set(u,l)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,l=!0){return K0?.findTestabilityInTree(this,u,l)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=J({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Mi=null;const Qh=new gn("AllowMultipleToken"),g_=new gn("PlatformDestroyListeners");class SR{constructor(o,u){this.name=o,this.token=u}}function mt(s,o,u=[]){const l=`Platform: ${o}`,d=new gn(l);return(g=[])=>{let v=br();if(!v||v.injector.get(Qh,!1)){const C=[...u,...g,{provide:d,useValue:!0}];s?s(C):function AR(s){if(Mi&&!Mi.get(Qh,!1))throw new Ce(400,!1);Mi=s;const o=s.get(MD);(function Ta(s){const o=s.get(vD,null);o&&o.forEach(u=>u())})(s)}(function fg(s=[],o){return Ll.create({name:o,providers:[{provide:vp,useValue:"platform"},{provide:g_,useValue:new Set([()=>Mi=null])},...s]})}(C,l))}return function RR(s){const o=br();if(!o)throw new Ce(401,!1);return o}()}}function br(){return Mi?.get(MD)??null}let MD=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,l){const d=function ND(s,o){let u;return u="noop"===s?new bR:("zone.js"===s?void 0:s)||new as(o),u}(l?.ngZone,function PD(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(l)),g=[{provide:as,useValue:d}];return d.run(()=>{const v=Ll.create({providers:g,parent:this.injector,name:u.moduleType.name}),C=u.create(v),b=C.injector.get(Am,null);if(!b)throw new Ce(402,!1);return d.runOutsideAngular(()=>{const x=d.onError.subscribe({next:N=>{b.handleError(N)}});C.onDestroy(()=>{Ji(this._modules,C),x.unsubscribe()})}),function Y0(s,o,u){try{const l=u();return AI(l)?l.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(b,d,()=>{const x=C.injector.get(l_);return x.runInitializers(),x.donePromise.then(()=>(function Sy(s){On(s,"Expected localeId to be defined"),"string"==typeof s&&(wb=s.toLowerCase().replace(/_/g,"-"))}(C.injector.get(d_,jh)||jh),this._moduleDoBootstrap(C),C))})})}bootstrapModule(u,l=[]){const d=kD({},l);return function DR(s,o,u){const l=new Vb(u);return Promise.resolve(l)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(u){const l=u.injector.get(Xl);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!u.instance.ngDoBootstrap)throw new Ce(403,!1);u.instance.ngDoBootstrap(l)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ce(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const u=this._injector.get(g_,null);u&&(u.forEach(l=>l()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)($n(Ll))},s.\u0275prov=J({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function kD(s,o){return Array.isArray(o)?o.reduce(kD,s):{...s,...o}}let Xl=(()=>{class s{constructor(u,l,d){this._zone=u,this._injector=l,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new V.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new V.y(C=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{as.assertNotInAngularZone(),f_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{as.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{b.unsubscribe(),x.unsubscribe()}});this.isStable=(0,re.T)(g,v.pipe((0,ce.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,l){const d=u instanceof Ov;if(!this._injector.get(l_).done)throw!d&&Tt(u),new Ce(405,false);let v;v=d?u:this._injector.get(cc).resolveComponentFactory(u),this.componentTypes.push(v.componentType);const C=function TR(s){return s.isBoundToModule}(v)?void 0:this._injector.get(zh),x=v.create(Ll.NULL,[],l||v.selector,C),N=x.location.nativeElement,F=x.injector.get(xD,null);return F?.registerApplication(N),x.onDestroy(()=>{this.detachView(x.hostView),Ji(this.components,x),F?.unregisterApplication(N)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new Ce(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const l=u;this._views.push(l),l.attachToAppRef(this)}detachView(u){const l=u;Ji(this._views,l),l.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(ED,[]).concat(this._bootstrapListeners).forEach(d=>d(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Ji(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new Ce(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)($n(as),$n(kl),$n(Am))},s.\u0275prov=J({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Ji(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}let gg=!0,Q0=!1;function MR(){return Q0=!0,gg}function mg(){if(Q0)throw new Error("Cannot enable prod mode after platform setup.");gg=!1}let X0=(()=>{class s{}return s.__NG_ELEMENT_ID__=Kr,s})();function Kr(s){return function jo(s,o,u){if(Ko(s)&&!u){const l=cr(s.index,o);return new Ul(l,l)}return 47&s.type?new Ul(o[16],o):null}(Pn(),Te(),16==(16&s))}class m_{constructor(){}supports(o){return Op(o)}create(o){return new OR(o)}}const jD=(s,o)=>o;class OR{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||jD}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,l=this._removalsHead,d=0,g=null;for(;u||l;){const v=!l||u&&u.currentIndex<y_(l,d,g)?u:l,C=y_(v,d,g),b=v.currentIndex;if(v===l)d--,l=l._nextRemoved;else if(u=u._next,null==v.previousIndex)d++;else{g||(g=[]);const x=C-d,N=b-d;if(x!=N){for(let z=0;z<x;z++){const te=z<g.length?g[z]:g[z]=0,we=te+z;N<=we&&we<x&&(g[z]=te+1)}g[v.previousIndex]=N-x}}C!==b&&o(v,C,b)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!Op(o))throw new Ce(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,g,v,u=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let C=0;C<this.length;C++)g=o[C],v=this._trackByFn(C,g),null!==u&&Object.is(u.trackById,v)?(l&&(u=this._verifyReinsertion(u,g,v,C)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,v,C),l=!0),u=u._next}else d=0,function Lp(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[hu()]();let l;for(;!(l=u.next()).done;)o(l.value)}}(o,C=>{v=this._trackByFn(d,C),null!==u&&Object.is(u.trackById,v)?(l&&(u=this._verifyReinsertion(u,C,v,d)),Object.is(u.item,C)||this._addIdentityChange(u,C)):(u=this._mismatch(u,C,v,d),l=!0),u=u._next,d++}),this.length=d;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,l,d){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,g,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,g,d)):o=this._addAfter(new dr(u,l),g,d),o}_verifyReinsertion(o,u,l,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?o=this._reinsertAfter(g,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,g=o._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(o,u,l),this._addToMoves(o,l),o}_moveAfter(o,u,l){return this._unlink(o),this._insertAfter(o,u,l),this._addToMoves(o,l),o}_addAfter(o,u,l){return this._insertAfter(o,u,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,l){const d=null===u?this._itHead:u._next;return o._next=d,o._prev=u,null===d?this._itTail=o:d._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new yg),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,l=o._next;return null===u?this._itHead=l:u._next=l,null===l?this._itTail=u:l._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new yg),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class dr{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class LR{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===u||u<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const u=o._prevDup,l=o._nextDup;return null===u?this._head=l:u._nextDup=l,null===l?this._tail=u:l._prevDup=u,null===this._head}}class yg{constructor(){this.map=new Map}put(o){const u=o.trackById;let l=this.map.get(u);l||(l=new LR,this.map.set(u,l)),l.add(o)}get(o,u){const d=this.map.get(o);return d?d.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function y_(s,o,u){const l=s.previousIndex;if(null===l)return l;let d=0;return u&&l<u.length&&(d=u[l]),l+o+d}class HD{constructor(){}supports(o){return o instanceof Map||Fp(o)}create(){return new FR}}class FR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||Fp(o)))throw new Ce(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(u&&u.key===d)this._maybeAddToChanges(u,l),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(d,l);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let l=u;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const l=o._prev;return u._next=o,u._prev=l,o._prev=u,l&&(l._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,u);const g=d._prev,v=d._next;return g&&(g._next=v),v&&(v._prev=g),d._next=null,d._prev=null,d}const l=new VR(o);return this._records.set(o,l),l.currentValue=u,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(l=>u(o[l],l))}}class VR{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sE(){return new oE([new m_])}let oE=(()=>{class s{constructor(u){this.factories=u}static create(u,l){if(null!=l){const d=l.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:l=>s.create(u,l||sE()),deps:[[s,new da,new qs]]}}find(u){const l=this.factories.find(d=>d.supports(u));if(null!=l)return l;throw new Ce(901,!1)}}return s.\u0275prov=J({token:s,providedIn:"root",factory:sE}),s})();function $D(){return new aE([new HD])}let aE=(()=>{class s{constructor(u){this.factories=u}static create(u,l){if(l){const d=l.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:l=>s.create(u,l||$D()),deps:[[s,new da,new qs]]}}find(u){const l=this.factories.find(d=>d.supports(u));if(l)return l;throw new Ce(901,!1)}}return s.\u0275prov=J({token:s,providedIn:"root",factory:$D}),s})();const v_=mt(null,"core",[]);let I_=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)($n(Xl))},s.\u0275mod=Ii({type:s}),s.\u0275inj=Ne({}),s})();function uE(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},6101:(yt,Me,U)=>{U.d(Me,{Z:()=>Ce});var P=U(5578),m=U(1617),V=U(5752);U(9357);class ce{constructor(ve,ye){this._delegate=ve,this.firebase=ye,(0,V._addComponent)(ve,new m.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(ve,ye=V._DEFAULT_ENTRY_NAME){var gt;this._delegate.checkDestroyed();const _t=this._delegate.container.getProvider(ve);return!_t.isInitialized()&&"EXPLICIT"===(null===(gt=_t.getComponent())||void 0===gt?void 0:gt.instantiationMode)&&_t.initialize(),_t.getImmediate({identifier:ye})}_removeServiceInstance(ve,ye=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(ye)}_addComponent(ve){(0,V._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,V._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ie=new P.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});function me(){const lt=function ge(lt){const ve={},ye={__esModule:!0,initializeApp:function Oe(je,vt={}){const ie=V.initializeApp(je,vt);if((0,P.r3)(ve,ie.name))return ve[ie.name];const At=new lt(ie,ye);return ve[ie.name]=At,At},app:_t,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function _e(je){const vt=je.name,ie=vt.replace("-compat","");if(V._registerComponent(je)&&"PUBLIC"===je.type){const At=(Nt=_t())=>{if("function"!=typeof Nt[ie])throw Ie.create("invalid-app-argument",{appName:vt});return Nt[ie]()};void 0!==je.serviceProps&&(0,P.ZB)(At,je.serviceProps),ye[ie]=At,lt.prototype[ie]=function(...Nt){return this._getService.bind(this,vt).apply(this,je.multipleInstances?Nt:[])}}return"PUBLIC"===je.type?ye[ie]:null},removeApp:function gt(je){delete ve[je]},useAsService:function ze(je,vt){return"serverAuth"===vt?null:vt},modularAPIs:V}};function _t(je){if(!(0,P.r3)(ve,je=je||V._DEFAULT_ENTRY_NAME))throw Ie.create("no-app",{appName:je});return ve[je]}return ye.default=ye,Object.defineProperty(ye,"apps",{get:function Ee(){return Object.keys(ve).map(je=>ve[je])}}),_t.App=lt,ye}(ce);return lt.INTERNAL=Object.assign(Object.assign({},lt.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function ve(ye){(0,P.ZB)(lt,ye)},createSubscribe:P.ne,ErrorFactory:P.LL,deepExtend:P.ZB}),lt}const q=me();(0,P.jU)()&&void 0!==self.firebase&&self;const Ce=q},5752:(yt,Me,U)=>{U.r(Me),U.d(Me,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>Dn,_DEFAULT_ENTRY_NAME:()=>vi,_addComponent:()=>qt,_addOrOverwriteComponent:()=>nt,_apps:()=>dn,_clearComponents:()=>Sn,_components:()=>Xr,_getProvider:()=>fo,_registerComponent:()=>tt,_removeServiceInstance:()=>Ls,deleteApp:()=>$r,getApp:()=>Ut,getApps:()=>ei,initializeApp:()=>Wo,onLog:()=>ys,registerVersion:()=>Xn,setLogLevel:()=>qn});var P=U(5861),m=U(1617),V=U(9357),re=U(5578);const _i=new V.Yd("@firebase/app"),vi="[DEFAULT]",Hr={"@firebase/app":"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},dn=new Map,Xr=new Map;function qt(se,ne){try{se.container.addComponent(ne)}catch(ke){_i.debug(`Component ${ne.name} failed to register with FirebaseApp ${se.name}`,ke)}}function nt(se,ne){se.container.addOrOverwriteComponent(ne)}function tt(se){const ne=se.name;if(Xr.has(ne))return _i.debug(`There were multiple attempts to register component ${ne}.`),!1;Xr.set(ne,se);for(const ke of dn.values())qt(ke,se);return!0}function fo(se,ne){const ke=se.container.getProvider("heartbeat").getImmediate({optional:!0});return ke&&ke.triggerHeartbeat(),se.container.getProvider(ne)}function Ls(se,ne,ke=vi){fo(se,ne).clearInstance(ke)}function Sn(){Xr.clear()}const Cn=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ms{constructor(ne,ke,Le){this._isDeleted=!1,this._options=Object.assign({},ne),this._config=Object.assign({},ke),this._name=ke.name,this._automaticDataCollectionEnabled=ke.automaticDataCollectionEnabled,this._container=Le,this.container.addComponent(new m.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ne){this._isDeleted=ne}checkDestroyed(){if(this.isDeleted)throw Cn.create("app-deleted",{appName:this._name})}}const Dn="9.23.0";function Wo(se,ne={}){let ke=se;"object"!=typeof ne&&(ne={name:ne});const Le=Object.assign({name:vi,automaticDataCollectionEnabled:!1},ne),Dt=Le.name;if("string"!=typeof Dt||!Dt)throw Cn.create("bad-app-name",{appName:String(Dt)});if(ke||(ke=(0,re.aH)()),!ke)throw Cn.create("no-options");const kt=dn.get(Dt);if(kt){if((0,re.vZ)(ke,kt.options)&&(0,re.vZ)(Le,kt.config))return kt;throw Cn.create("duplicate-app",{appName:Dt})}const nn=new m.H0(Dt);for(const Qt of Xr.values())nn.addComponent(Qt);const Mn=new ms(ke,Le,nn);return dn.set(Dt,Mn),Mn}function Ut(se=vi){const ne=dn.get(se);if(!ne&&se===vi&&(0,re.aH)())return Wo();if(!ne)throw Cn.create("no-app",{appName:se});return ne}function ei(){return Array.from(dn.values())}function $r(se){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,P.Z)(function*(se){const ne=se.name;dn.has(ne)&&(dn.delete(ne),yield Promise.all(se.container.getProviders().map(ke=>ke.delete())),se.isDeleted=!0)})).apply(this,arguments)}function Xn(se,ne,ke){var Le;let Dt=null!==(Le=Hr[se])&&void 0!==Le?Le:se;ke&&(Dt+=`-${ke}`);const kt=Dt.match(/\s|\//),nn=ne.match(/\s|\//);if(kt||nn){const Mn=[`Unable to register library "${Dt}" with version "${ne}":`];return kt&&Mn.push(`library name "${Dt}" contains illegal characters (whitespace or "/")`),kt&&nn&&Mn.push("and"),nn&&Mn.push(`version name "${ne}" contains illegal characters (whitespace or "/")`),void _i.warn(Mn.join(" "))}tt(new m.wA(`${Dt}-version`,()=>({library:Dt,version:ne}),"VERSION"))}function ys(se,ne){if(null!==se&&"function"!=typeof se)throw Cn.create("invalid-log-argument");(0,V.Am)(se,ne)}function qn(se){(0,V.Ub)(se)}},1617:(yt,Me,U)=>{U.d(Me,{H0:()=>ge,wA:()=>V});var P=U(5861),m=U(5578);class V{constructor(q,G,K){this.name=q,this.instanceFactory=G,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const re="[DEFAULT]";class ce{constructor(q,G){this.name=q,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const G=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(G)){const K=new m.BH;if(this.instancesDeferred.set(G,K),this.isInitialized(G)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:G});$e&&K.resolve($e)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(q){var G;const K=this.normalizeInstanceIdentifier(q?.identifier),$e=null!==(G=q?.optional)&&void 0!==G&&G;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(Pe){if($e)return null;throw Pe}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function Ie(me){return"EAGER"===me.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[G,K]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(G);try{const Pe=this.getOrInitializeService({instanceIdentifier:$e});K.resolve(Pe)}catch{}}}}clearInstance(q=re){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,P.Z)(function*(){const G=Array.from(q.instances.values());yield Promise.all([...G.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...G.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=re){return this.instances.has(q)}getOptions(q=re){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:G={}}=q,K=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:K,options:G});for(const[Pe,Ce]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(Pe)&&Ce.resolve($e);return $e}onInit(q,G){var K;const $e=this.normalizeInstanceIdentifier(G),Pe=null!==(K=this.onInitCallbacks.get($e))&&void 0!==K?K:new Set;Pe.add(q),this.onInitCallbacks.set($e,Pe);const Ce=this.instances.get($e);return Ce&&q(Ce,$e),()=>{Pe.delete(q)}}invokeOnInitCallbacks(q,G){const K=this.onInitCallbacks.get(G);if(K)for(const $e of K)try{$e(q,G)}catch{}}getOrInitializeService({instanceIdentifier:q,options:G={}}){let K=this.instances.get(q);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(me=q,me===re?void 0:me),options:G}),this.instances.set(q,K),this.instancesOptions.set(q,G),this.invokeOnInitCallbacks(K,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,K)}catch{}var me;return K||null}normalizeInstanceIdentifier(q=re){return this.component?this.component.multipleInstances?q:re:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ge{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const G=this.getProvider(q.name);if(G.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);G.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const G=new ce(q,this);return this.providers.set(q,G),G}getProviders(){return Array.from(this.providers.values())}}},9357:(yt,Me,U)=>{U.d(Me,{Am:()=>me,Ub:()=>ge,Yd:()=>Ie,in:()=>m});const P=[];var m=(()=>((m=m||{})[m.DEBUG=0]="DEBUG",m[m.VERBOSE=1]="VERBOSE",m[m.INFO=2]="INFO",m[m.WARN=3]="WARN",m[m.ERROR=4]="ERROR",m[m.SILENT=5]="SILENT",m))();const V={debug:m.DEBUG,verbose:m.VERBOSE,info:m.INFO,warn:m.WARN,error:m.ERROR,silent:m.SILENT},re=m.INFO,ce={[m.DEBUG]:"log",[m.VERBOSE]:"log",[m.INFO]:"info",[m.WARN]:"warn",[m.ERROR]:"error"},pe=(q,G,...K)=>{if(G<q.logLevel)return;const $e=(new Date).toISOString(),Pe=ce[G];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Pe](`[${$e}]  ${q.name}:`,...K)};class Ie{constructor(G){this.name=G,this._logLevel=re,this._logHandler=pe,this._userLogHandler=null,P.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in m))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?V[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,m.DEBUG,...G),this._logHandler(this,m.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,m.VERBOSE,...G),this._logHandler(this,m.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,m.INFO,...G),this._logHandler(this,m.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,m.WARN,...G),this._logHandler(this,m.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,m.ERROR,...G),this._logHandler(this,m.ERROR,...G)}}function ge(q){P.forEach(G=>{G.setLogLevel(q)})}function me(q,G){for(const K of P){let $e=null;G&&G.level&&($e=V[G.level]),K.userLogHandler=null===q?null:(Pe,Ce,...lt)=>{const ve=lt.map(ye=>{if(null==ye)return null;if("string"==typeof ye)return ye;if("number"==typeof ye||"boolean"==typeof ye)return ye.toString();if(ye instanceof Error)return ye.message;try{return JSON.stringify(ye)}catch{return null}}).filter(ye=>ye).join(" ");Ce>=($e??Pe.logLevel)&&q({level:m[Ce].toLowerCase(),message:ve,args:lt,type:Pe.name})}}}},8140:(yt,Me,U)=>{U.d(Me,{C6:()=>P.getApps,Mq:()=>P.getApp});var P=U(5752)},1274:(yt,Me,U)=>{U.d(Me,{Z:()=>P.Z});var P=U(6101)},8463:(yt,Me,U)=>{U.r(Me);var P=U(5861),m=U(6101),V=U(5578),re=U(5752),ce=U(7582),pe=U(9357);U(1617);function Pe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lt=Pe,ve=new V.LL("auth","Firebase",Pe()),gt=new pe.Yd("@firebase/auth");function Oe(_,...h){gt.logLevel<=pe.in.ERROR&&gt.error(`Auth (${re.SDK_VERSION}): ${_}`,...h)}function Ee(_,...h){throw vt(_,...h)}function _e(_,...h){return vt(_,...h)}function ze(_,h,p){const I=Object.assign(Object.assign({},lt()),{[h]:p});return new V.LL("auth","Firebase",I).create(h,{appName:_.name})}function je(_,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&Ee(_,"argument-error"),ze(_,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vt(_,...h){if("string"!=typeof _){const p=h[0],I=[...h.slice(1)];return I[0]&&(I[0].appName=_.name),_._errorFactory.create(p,...I)}return ve.create(_,...h)}function ie(_,h,...p){if(!_)throw vt(h,...p)}function At(_){const h="INTERNAL ASSERTION FAILED: "+_;throw Oe(h),new Error(h)}function Nt(_,h){_||At(h)}function Et(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function ot(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Vi{constructor(h,p){this.shortDelay=h,this.longDelay=p,Nt(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function _i(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Yt(){return"http:"===ot()||"https:"===ot()}()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function On(_,h){Nt(_.emulator,"Emulator should always be set here");const{url:p}=_.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class Wt{static initialize(h,p,I){this.fetchImpl=h,p&&(this.headersImpl=p),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void At("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void At("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void At("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},he=new Vi(3e4,6e4);function oe(_,h){return _.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:_.tenantId}):h}function J(_,h,p,I){return xe.apply(this,arguments)}function xe(){return(xe=(0,P.Z)(function*(_,h,p,I,A={}){return Ne(_,A,(0,P.Z)(function*(){let M={},$={};I&&("GET"===h?$=I:M={body:JSON.stringify(I)});const Y=(0,V.xO)(Object.assign({key:_.config.apiKey},$)).slice(1),be=yield _._getAdditionalHeaders();return be["Content-Type"]="application/json",_.languageCode&&(be["X-Firebase-Locale"]=_.languageCode),Wt.fetch()(xt(_,_.config.apiHost,p,Y),Object.assign({method:h,headers:be,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function Ne(_,h,p){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,P.Z)(function*(_,h,p){_._canInitEmulator=!1;const I=Object.assign(Object.assign({},ue),h);try{const A=new wn(_),M=yield Promise.race([p(),A.promise]);A.clearNetworkTimeout();const $=yield M.json();if("needConfirmation"in $)throw vn(_,"account-exists-with-different-credential",$);if(M.ok&&!("errorMessage"in $))return $;{const Y=M.ok?$.errorMessage:$.error.message,[be,qe]=Y.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===be)throw vn(_,"credential-already-in-use",$);if("EMAIL_EXISTS"===be)throw vn(_,"email-already-in-use",$);if("USER_DISABLED"===be)throw vn(_,"user-disabled",$);const ft=I[be]||be.toLowerCase().replace(/[_\s]+/g,"-");if(qe)throw ze(_,ft,qe);Ee(_,ft)}}catch(A){if(A instanceof V.ZR)throw A;Ee(_,"network-request-failed",{message:String(A)})}})).apply(this,arguments)}function Vt(_,h,p,I){return ln.apply(this,arguments)}function ln(){return(ln=(0,P.Z)(function*(_,h,p,I,A={}){const M=yield J(_,h,p,I,A);return"mfaPendingCredential"in M&&Ee(_,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function xt(_,h,p,I){const A=`${h}${p}?${I}`;return _.config.emulator?On(_.config,A):`${_.config.apiScheme}://${A}`}class wn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,I)=>{this.timer=setTimeout(()=>I(_e(this.auth,"network-request-failed")),he.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vn(_,h,p){const I={appName:_.name};p.email&&(I.email=p.email),p.phoneNumber&&(I.phoneNumber=p.phoneNumber);const A=_e(_,h,I);return A.customData._tokenResponse=p,A}function Gt(){return(Gt=(0,P.Z)(function*(_,h){return J(_,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Yn(_,h){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,P.Z)(function*(_,h){return J(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function dt(_,h){return tn.apply(this,arguments)}function tn(){return(tn=(0,P.Z)(function*(_,h){return J(_,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Jr(_){if(_)try{const h=new Date(Number(_));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function vi(){return(vi=(0,P.Z)(function*(_,h=!1){const p=(0,V.m9)(_),I=yield p.getIdToken(h),A=dn(I);ie(A&&A.exp&&A.auth_time&&A.iat,p.auth,"internal-error");const M="object"==typeof A.firebase?A.firebase:void 0,$=M?.sign_in_provider;return{claims:A,token:I,authTime:Jr(Hr(A.auth_time)),issuedAtTime:Jr(Hr(A.iat)),expirationTime:Jr(Hr(A.exp)),signInProvider:$||null,signInSecondFactor:M?.sign_in_second_factor||null}})).apply(this,arguments)}function Hr(_){return 1e3*Number(_)}function dn(_){const[h,p,I]=_.split(".");if(void 0===h||void 0===p||void 0===I)return Oe("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,V.tV)(p);return A?JSON.parse(A):(Oe("Failed to decode base64 JWT payload"),null)}catch(A){return Oe("Caught error parsing JWT payload as JSON",A?.toString()),null}}function qt(_,h){return nt.apply(this,arguments)}function nt(){return(nt=(0,P.Z)(function*(_,h,p=!1){if(p)return h;try{return yield h}catch(I){throw I instanceof V.ZR&&tt(I)&&_.auth.currentUser===_&&(yield _.auth.signOut()),I}})).apply(this,arguments)}function tt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class fo{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const A=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const I=this.getInterval(h);this.timerId=setTimeout((0,P.Z)(function*(){yield p.iteration()}),I)}iteration(){var h=this;return(0,P.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class Ls{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jr(this.lastLoginAt),this.creationTime=Jr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Sn(_){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,P.Z)(function*(_){var h;const p=_.auth,I=yield _.getIdToken(),A=yield qt(_,dt(p,{idToken:I}));ie(A?.users.length,p,"internal-error");const M=A.users[0];_._notifyReloadListener(M);const $=null!==(h=M.providerUserInfo)&&void 0!==h&&h.length?Wo(M.providerUserInfo):[],Y=Dn(_.providerData,$),ft=!!_.isAnonymous&&!(_.email&&M.passwordHash||Y?.length),Ye={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:Y,metadata:new Ls(M.createdAt,M.lastLoginAt),isAnonymous:ft};Object.assign(_,Ye)})).apply(this,arguments)}function ms(){return(ms=(0,P.Z)(function*(_){const h=(0,V.m9)(_);yield Sn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Dn(_,h){return[..._.filter(I=>!h.some(A=>A.providerId===I.providerId)),...h]}function Wo(_){return _.map(h=>{var{providerId:p}=h,I=(0,ce._T)(h,["providerId"]);return{providerId:p,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function ei(){return(ei=(0,P.Z)(function*(_,h){const p=yield Ne(_,{},(0,P.Z)(function*(){const I=(0,V.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:A,apiKey:M}=_.config,$=xt(_,A,"/v1/token",`key=${M}`),Y=yield _._getAdditionalHeaders();return Y["Content-Type"]="application/x-www-form-urlencoded",Wt.fetch()($,{method:"POST",headers:Y,body:I})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class $r{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){ie(h.idToken,"internal-error"),ie(typeof h.idToken<"u","internal-error"),ie(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Xr(_){const h=dn(_);return ie(h,"internal-error"),ie(typeof h.exp<"u","internal-error"),ie(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h){var p=this;return(0,P.Z)(function*(I,A=!1){return ie(!p.accessToken||p.refreshToken,I,"user-token-expired"),A||!p.accessToken||p.isExpired?p.refreshToken?(yield p.refresh(I,p.refreshToken),p.accessToken):null:p.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var I=this;return(0,P.Z)(function*(){const{accessToken:A,refreshToken:M,expiresIn:$}=yield function Ut(_,h){return ei.apply(this,arguments)}(h,p);I.updateTokensAndExpiration(A,M,Number($))})()}updateTokensAndExpiration(h,p,I){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(h,p){const{refreshToken:I,accessToken:A,expirationTime:M}=p,$=new $r;return I&&(ie("string"==typeof I,"internal-error",{appName:h}),$.refreshToken=I),A&&(ie("string"==typeof A,"internal-error",{appName:h}),$.accessToken=A),M&&(ie("number"==typeof M,"internal-error",{appName:h}),$.expirationTime=M),$}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new $r,this.toJSON())}_performRefresh(){return At("not implemented")}}function Jn(_,h){ie("string"==typeof _||typeof _>"u","internal-error",{appName:h})}class Xn{constructor(h){var{uid:p,auth:I,stsTokenManager:A}=h,M=(0,ce._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=I,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new Ls(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,P.Z)(function*(){const I=yield qt(p,p.stsTokenManager.getToken(p.auth,h));return ie(I,p.auth,"internal-error"),p.accessToken!==I&&(p.accessToken=I,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),I})()}getIdTokenResult(h){return function zo(_){return vi.apply(this,arguments)}(this,h)}reload(){return function Cn(_){return ms.apply(this,arguments)}(this)}_assign(h){this!==h&&(ie(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new Xn(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h){var p=this;return(0,P.Z)(function*(I,A=!1){let M=!1;I.idToken&&I.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(I),M=!0),A&&(yield Sn(p)),yield p.auth._persistUserIfCurrent(p),M&&p.auth._notifyListenersIfCurrent(p)}).apply(this,arguments)}delete(){var h=this;return(0,P.Z)(function*(){const p=yield h.getIdToken();return yield qt(h,function Ar(_,h){return Gt.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var I,A,M,$,Y,be,qe,ft;const Ye=null!==(I=p.displayName)&&void 0!==I?I:void 0,zt=null!==(A=p.email)&&void 0!==A?A:void 0,di=null!==(M=p.phoneNumber)&&void 0!==M?M:void 0,ac=null!==($=p.photoURL)&&void 0!==$?$:void 0,gh=null!==(Y=p.tenantId)&&void 0!==Y?Y:void 0,gp=null!==(be=p._redirectEventId)&&void 0!==be?be:void 0,Tv=null!==(qe=p.createdAt)&&void 0!==qe?qe:void 0,Em=null!==(ft=p.lastLoginAt)&&void 0!==ft?ft:void 0,{uid:mp,emailVerified:Sv,isAnonymous:yp,providerData:Pl,stsTokenManager:Av}=p;ie(mp&&Av,h,"internal-error");const wm=$r.fromJSON(this.name,Av);ie("string"==typeof mp,h,"internal-error"),Jn(Ye,h.name),Jn(zt,h.name),ie("boolean"==typeof Sv,h,"internal-error"),ie("boolean"==typeof yp,h,"internal-error"),Jn(di,h.name),Jn(ac,h.name),Jn(gh,h.name),Jn(gp,h.name),Jn(Tv,h.name),Jn(Em,h.name);const Cm=new Xn({uid:mp,auth:h,email:zt,emailVerified:Sv,displayName:Ye,isAnonymous:yp,photoURL:ac,phoneNumber:di,tenantId:gh,stsTokenManager:wm,createdAt:Tv,lastLoginAt:Em});return Pl&&Array.isArray(Pl)&&(Cm.providerData=Pl.map(_r=>Object.assign({},_r))),gp&&(Cm._redirectEventId=gp),Cm}static _fromIdTokenResponse(h,p){return(0,P.Z)(function*(I,A,M=!1){const $=new $r;$.updateFromServerResponse(A);const Y=new Xn({uid:A.localId,auth:I,stsTokenManager:$,isAnonymous:M});return yield Sn(Y),Y}).apply(this,arguments)}}const ys=new Map;function qn(_){Nt(_ instanceof Function,"Expected a class definition");let h=ys.get(_);return h?(Nt(h instanceof _,"Instance stored in cache mismatched with class"),h):(h=new _,ys.set(_,h),h)}function H(_,h,p){return`firebase:${_}:${h}:${p}`}function ee(_=(0,V.z$)()){const h=_.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Ft(_=(0,V.z$)()){return/android/i.test(_)}function it(_=(0,V.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function fn(_=(0,V.z$)()){return it(_)||Ft(_)||function Ue(_=(0,V.z$)()){return/webos/i.test(_)}(_)||function hn(_=(0,V.z$)()){return/blackberry/i.test(_)}(_)||/windows phone/i.test(_)||function Tt(_=(0,V.z$)()){return/iemobile/i.test(_)}(_)}function Tn(_){return(0,V.m9)(_)}class _s{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return At("not implemented")}_getIdTokenResponse(h){return At("not implemented")}_linkToIdToken(h,p){return At("not implemented")}_getReauthenticationResolver(h){return At("not implemented")}}function Fc(_,h){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,P.Z)(function*(_,h){return J(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Bc(_,h){return md.apply(this,arguments)}function md(){return(md=(0,P.Z)(function*(_,h){return J(_,"POST","/v1/accounts:sendOobCode",oe(_,h))})).apply(this,arguments)}function Af(_,h){return yd.apply(this,arguments)}function yd(){return(yd=(0,P.Z)(function*(_,h){return Bc(_,h)})).apply(this,arguments)}function Kg(_,h){return vd.apply(this,arguments)}function vd(){return(vd=(0,P.Z)(function*(_,h){return Bc(_,h)})).apply(this,arguments)}function Bi(_,h){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,P.Z)(function*(_,h){return Vt(_,"POST","/v1/accounts:signInWithIdp",oe(_,h))})).apply(this,arguments)}class bi extends _s{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new bi(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):Ee("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:I,signInMethod:A}=p,M=(0,ce._T)(p,["providerId","signInMethod"]);if(!I||!A)return null;const $=new bi(I,A);return $.idToken=M.idToken||void 0,$.accessToken=M.accessToken||void 0,$.secret=M.secret,$.nonce=M.nonce,$.pendingToken=M.pendingToken||null,$}_getIdTokenResponse(h){return Bi(h,this.buildRequest())}_linkToIdToken(h,p){const I=this.buildRequest();return I.idToken=p,Bi(h,I)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Bi(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,V.xO)(p)}return h}}function Cd(_,h){return $c.apply(this,arguments)}function $c(){return($c=(0,P.Z)(function*(_,h){return J(_,"POST","/v1/accounts:sendVerificationCode",oe(_,h))})).apply(this,arguments)}function Yo(){return(Yo=(0,P.Z)(function*(_,h){return Vt(_,"POST","/v1/accounts:signInWithPhoneNumber",oe(_,h))})).apply(this,arguments)}function Dd(){return(Dd=(0,P.Z)(function*(_,h){const p=yield Vt(_,"POST","/v1/accounts:signInWithPhoneNumber",oe(_,h));if(p.temporaryProof)throw vn(_,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const zc={USER_NOT_FOUND:"user-not-found"};function gr(){return(gr=(0,P.Z)(function*(_,h){return Vt(_,"POST","/v1/accounts:signInWithPhoneNumber",oe(_,Object.assign(Object.assign({},h),{operation:"REAUTH"})),zc)})).apply(this,arguments)}class Mr extends _s{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new Mr({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new Mr({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function Gc(_,h){return Yo.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function bd(_,h){return Dd.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Td(_,h){return gr.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:I,verificationCode:A}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:I,code:A}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:I,phoneNumber:A,temporaryProof:M}=h;return I||p||A||M?new Mr({verificationId:p,verificationCode:I,phoneNumber:A,temporaryProof:M}):null}}class Us{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Cu extends Us{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class ji extends Cu{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return ie("providerId"in p&&"signInMethod"in p,"argument-error"),bi._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return ie(h.idToken||h.accessToken,"argument-error"),bi._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return ji.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return ji.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:I,oauthTokenSecret:A,pendingToken:M,nonce:$,providerId:Y}=h;if(!I&&!A&&!p&&!M||!Y)return null;try{return new ji(Y)._credential({idToken:p,accessToken:I,nonce:$,pendingToken:M})}catch{return null}}}let Pr=(()=>{class _ extends Cu{constructor(){super("facebook.com")}static credential(p){return bi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),bu=(()=>{class _ extends Cu{constructor(){super("google.com"),this.addScope("profile")}static credential(p,I){return bi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:I})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:I,oauthAccessToken:A}=p;if(!I&&!A)return null;try{return _.credential(I,A)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Wc=(()=>{class _ extends Cu{constructor(){super("github.com")}static credential(p){return bi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class cr extends _s{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return Bi(h,this.buildRequest())}_linkToIdToken(h,p){const I=this.buildRequest();return I.idToken=p,Bi(h,I)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Bi(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:I,signInMethod:A,pendingToken:M}=p;return I&&A&&M&&I===A?new cr(I,M):null}static _create(h,p){return new cr(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Zc=(()=>{class _ extends Cu{constructor(){super("twitter.com")}static credential(p,I){return bi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:I})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:I,oauthTokenSecret:A}=p;if(!I||!A)return null;try{return _.credential(I,A)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();class er{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,I){return(0,P.Z)(function*(A,M,$,Y=!1){const be=yield Xn._fromIdTokenResponse(A,$,Y),qe=Rt($);return new er({user:be,providerId:qe,_tokenResponse:$,operationType:M})}).apply(this,arguments)}static _forOperation(h,p,I){return(0,P.Z)(function*(){yield h._updateTokensIfNecessary(I,!0);const A=Rt(I);return new er({user:h,providerId:A,_tokenResponse:I,operationType:p})})()}}function Rt(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}class Xo extends V.ZR{constructor(h,p,I,A){var M;super(p.code,p.message),this.operationType=I,this.user=A,Object.setPrototypeOf(this,Xo.prototype),this.customData={appName:h.name,tenantId:null!==(M=h.tenantId)&&void 0!==M?M:void 0,_serverResponse:p.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(h,p,I,A){return new Xo(h,p,I,A)}}function Pf(_,h,p,I){return("reauthenticate"===h?p._getReauthenticationResolver(_):p._getIdTokenResponse(_)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?Xo._fromErrorAndOperation(_,M,h,I):M})}function xd(_){return new Set(_.map(({providerId:h})=>h).filter(h=>!!h))}function Hi(){return(Hi=(0,P.Z)(function*(_,h){const p=(0,V.m9)(_);yield Ht(!0,p,h);const{providerUserInfo:I}=yield Yn(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),A=xd(I||[]);return p.providerData=p.providerData.filter(M=>A.has(M.providerId)),A.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function ka(_,h){return Te.apply(this,arguments)}function Te(){return(Te=(0,P.Z)(function*(_,h,p=!1){const I=yield qt(_,h._linkToIdToken(_.auth,yield _.getIdToken()),p);return er._forOperation(_,"link",I)})).apply(this,arguments)}function Ht(_,h,p){return Du.apply(this,arguments)}function Du(){return(Du=(0,P.Z)(function*(_,h,p){yield Sn(h);const A=!1===_?"provider-already-linked":"no-such-provider";ie(xd(h.providerData).has(p)===_,h.auth,A)})).apply(this,arguments)}function Kc(_,h){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,P.Z)(function*(_,h,p=!1){const{auth:I}=_,A="reauthenticate";try{const M=yield qt(_,Pf(I,A,h,_),p);ie(M.idToken,I,"internal-error");const $=dn(M.idToken);ie($,I,"internal-error");const{sub:Y}=$;return ie(_.uid===Y,I,"user-mismatch"),er._forOperation(_,A,M)}catch(M){throw"auth/user-not-found"===M?.code&&Ee(I,"user-mismatch"),M}})).apply(this,arguments)}function mo(){return(mo=(0,P.Z)(function*(_,h,p=!1){const I="signIn",A=yield Pf(_,I,h),M=yield er._fromIdTokenResponse(_,I,A);return p||(yield _._updateCurrentUser(M.user)),M})).apply(this,arguments)}function Tu(_,h){return Md.apply(this,arguments)}function Md(){return(Md=(0,P.Z)(function*(_,h){const p=(0,V.m9)(_);return yield Ht(!1,p,h.providerId),ka(p,h)})).apply(this,arguments)}function Pd(_,h){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,P.Z)(function*(_,h){return Kc((0,V.m9)(_),h)})).apply(this,arguments)}class vs{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?Di._fromServerResponse(h,p):"totpInfo"in p?Qc._fromServerResponse(h,p):Ee(h,"internal-error")}}class Di extends vs{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new Di(p)}}class Qc extends vs{constructor(h){super("totp",h)}static _fromServerResponse(h,p){return new Qc(p)}}function yo(_,h,p){var I;ie((null===(I=p.url)||void 0===I?void 0:I.length)>0,_,"invalid-continue-uri"),ie(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(ie(p.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(ie(p.android.packageName.length>0,_,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function xu(){return(xu=(0,P.Z)(function*(_,h){const p=(0,V.m9)(_),A={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};h&&yo(p.auth,A,h);const{email:M}=yield Af(p.auth,A);M!==_.email&&(yield _.reload())})).apply(this,arguments)}function Hs(){return(Hs=(0,P.Z)(function*(_,h,p){const I=(0,V.m9)(_),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:h};p&&yo(I.auth,M,p);const{email:$}=yield Kg(I.auth,M);$!==_.email&&(yield _.reload())})).apply(this,arguments)}function Ru(_,h){return na.apply(this,arguments)}function na(){return(na=(0,P.Z)(function*(_,h){return J(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ba(){return(Ba=(0,P.Z)(function*(_,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const I=(0,V.m9)(_),M={idToken:yield I.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},$=yield qt(I,Ru(I.auth,M));I.displayName=$.displayName||null,I.photoURL=$.photoUrl||null;const Y=I.providerData.find(({providerId:be})=>"password"===be);Y&&(Y.displayName=I.displayName,Y.photoURL=I.photoURL),yield I._updateTokensIfNecessary($)})).apply(this,arguments)}function ja(_,h,p){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,P.Z)(function*(_,h,p){const{auth:I}=_,M={idToken:yield _.getIdToken(),returnSecureToken:!0};h&&(M.email=h),p&&(M.password=p);const $=yield qt(_,Fc(I,M));yield _._updateTokensIfNecessary($,!0)})).apply(this,arguments)}class Gi{constructor(h,p,I={}){this.isNewUser=h,this.providerId=p,this.profile=I}}class tl extends Gi{constructor(h,p,I,A){super(h,p,I),this.username=A}}class Vd extends Gi{constructor(h,p){super(h,"facebook.com",p)}}class Jg extends tl{constructor(h,p){super(h,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class Ff extends Gi{constructor(h,p){super(h,"google.com",p)}}class Ud extends tl{constructor(h,p,I){super(h,"twitter.com",p,I)}}function $s(_){const{user:h,_tokenResponse:p}=_;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Lf(_){var h,p;if(!_)return null;const{providerId:I}=_,A=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},M=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!I&&_?.idToken){const $=null===(p=null===(h=dn(_.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if($)return new Gi(M,"anonymous"!==$&&"custom"!==$?$:null)}if(!I)return null;switch(I){case"facebook.com":return new Vd(M,A);case"github.com":return new Jg(M,A);case"google.com":return new Ff(M,A);case"twitter.com":return new Ud(M,A,_.screenName||null);case"custom":case"anonymous":return new Gi(M,null);default:return new Gi(M,I,A)}}(p)}class Io{constructor(h,p,I){this.type=h,this.credential=p,this.auth=I}static _fromIdtoken(h,p){return new Io("enroll",h,p)}static _fromMfaPendingCredential(h){return new Io("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,I;if(h?.multiFactorSession){if(null!==(p=h.multiFactorSession)&&void 0!==p&&p.pendingCredential)return Io._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(I=h.multiFactorSession)&&void 0!==I&&I.idToken)return Io._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Eo{constructor(h,p,I){this.session=h,this.hints=p,this.signInResolver=I}static _fromError(h,p){const I=Tn(h),A=p.customData._serverResponse,M=(A.mfaInfo||[]).map(Y=>vs._fromServerResponse(I,Y));ie(A.mfaPendingCredential,I,"internal-error");const $=Io._fromMfaPendingCredential(A.mfaPendingCredential);return new Eo($,M,function(){var Y=(0,P.Z)(function*(be){const qe=yield be._process(I,$);delete A.mfaInfo,delete A.mfaPendingCredential;const ft=Object.assign(Object.assign({},A),{idToken:qe.idToken,refreshToken:qe.refreshToken});switch(p.operationType){case"signIn":const Ye=yield er._fromIdTokenResponse(I,p.operationType,ft);return yield I._updateCurrentUser(Ye.user),Ye;case"reauthenticate":return ie(p.user,I,"internal-error"),er._forOperation(p.user,p.operationType,ft);default:Ee(I,"internal-error")}});return function(be){return Y.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,P.Z)(function*(){return p.signInResolver(h)})()}}function Nu(_,h){return J(_,"POST","/v2/accounts/mfaEnrollment:start",oe(_,h))}class Co{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(I=>vs._fromServerResponse(h.auth,I)))})}static _fromUser(h){return new Co(h)}getSession(){var h=this;return(0,P.Z)(function*(){return Io._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,p){var I=this;return(0,P.Z)(function*(){const A=h,M=yield I.getSession(),$=yield qt(I.user,A._process(I.user.auth,M,p));return yield I.user._updateTokensIfNecessary($),I.user.reload()})()}unenroll(h){var p=this;return(0,P.Z)(function*(){const I="string"==typeof h?h:h.uid,A=yield p.user.getIdToken();try{const M=yield qt(p.user,function Ou(_,h){return J(_,"POST","/v2/accounts/mfaEnrollment:withdraw",oe(_,h))}(p.user.auth,{idToken:A,mfaEnrollmentId:I}));p.enrolledFactors=p.enrolledFactors.filter(({uid:$})=>$!==I),yield p.user._updateTokensIfNecessary(M),yield p.user.reload()}catch(M){throw M}})()}}const bo=new WeakMap;class ia{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const ws=(()=>{class _ extends ia{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,I)=>this.onStorageEvent(p,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function il(){const _=(0,V.z$)();return ee(_)||it(_)}()&&function Ei(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=fn(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const I of Object.keys(this.listeners)){const A=this.storage.getItem(I),M=this.localCache[I];A!==M&&p(I,M,A)}}onStorageEvent(p,I=!1){if(!p.key)return void this.forAllChangedKeys((Y,be,qe)=>{this.notifyListeners(Y,qe)});const A=p.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Y=this.storage.getItem(A);if(p.newValue!==Y)null!==p.newValue?this.storage.setItem(A,p.newValue):this.storage.removeItem(A);else if(this.localCache[A]===p.newValue&&!I)return}const M=()=>{const Y=this.storage.getItem(A);!I&&this.localCache[A]===Y||this.notifyListeners(A,Y)},$=this.storage.getItem(A);!function Gr(){return(0,V.w1)()&&10===document.documentMode}()||$===p.newValue||p.newValue===p.oldValue?M():setTimeout(M,10)}notifyListeners(p,I){this.localCache[p]=I;const A=this.listeners[p];if(A)for(const M of Array.from(A))M(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,I,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:I,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(I)}_removeListener(p,I){this.listeners[p]&&(this.listeners[p].delete(I),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,I){var A=()=>super._set,M=this;return(0,P.Z)(function*(){yield A().call(M,p,I),M.localCache[p]=JSON.stringify(I)})()}_get(p){var I=()=>super._get,A=this;return(0,P.Z)(function*(){const M=yield I().call(A,p);return A.localCache[p]=JSON.stringify(M),M})()}_remove(p){var I=()=>super._remove,A=this;return(0,P.Z)(function*(){yield I().call(A,p),delete A.localCache[p]})()}}return _.type="LOCAL",_})(),Gs=(()=>{class _ extends ia{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,I){}_removeListener(p,I){}}return _.type="SESSION",_})();function Cs(_="",h=10){let p="";for(let I=0;I<h;I++)p+=Math.floor(10*Math.random());return _+p}function xn(){return window}function tr(_,h){return J(_,"POST","/v2/accounts/mfaSignIn:start",oe(_,h))}const Hu="recaptcha";class ll{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=Mr._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function Gu(){return(Gu=(0,P.Z)(function*(_,h,p){const I=(0,V.m9)(_);yield Ht(!1,I,"phone");const A=yield Ja(I.auth,h,(0,V.m9)(p));return new ll(A,M=>Tu(I,M))})).apply(this,arguments)}function dl(){return(dl=(0,P.Z)(function*(_,h,p){const I=(0,V.m9)(_),A=yield Ja(I.auth,h,(0,V.m9)(p));return new ll(A,M=>Pd(I,M))})).apply(this,arguments)}function Ja(_,h,p){return zu.apply(this,arguments)}function zu(){return(zu=(0,P.Z)(function*(_,h,p){var I;const A=yield p.verify();try{let M;if(ie("string"==typeof A,_,"argument-error"),ie(p.type===Hu,_,"argument-error"),M="string"==typeof h?{phoneNumber:h}:h,"session"in M){const $=M.session;if("phoneNumber"in M)return ie("enroll"===$.type,_,"internal-error"),(yield Nu(_,{idToken:$.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{ie("signin"===$.type,_,"internal-error");const Y=(null===(I=M.multiFactorHint)||void 0===I?void 0:I.uid)||M.multiFactorUid;return ie(Y,_,"missing-multi-factor-info"),(yield tr(_,{mfaPendingCredential:$.credential,mfaEnrollmentId:Y,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$}=yield Cd(_,{phoneNumber:M.phoneNumber,recaptchaToken:A});return $}}finally{p._reset()}})).apply(this,arguments)}function Wi(){return(Wi=(0,P.Z)(function*(_,h){yield ka((0,V.m9)(_),h)})).apply(this,arguments)}let qi=(()=>{class _{constructor(p){this.providerId=_.PROVIDER_ID,this.auth=Tn(p)}verifyPhoneNumber(p,I){return Ja(this.auth,p,(0,V.m9)(I))}static credential(p,I){return Mr._fromVerification(p,I)}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:I,temporaryProof:A}=p;return I&&A?Mr._fromTokenResponse(I,A):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Ds(_,h){return h?qn(h):(ie(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Or extends _s{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Bi(h,this._buildIdpRequest())}_linkToIdToken(h,p){return Bi(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return Bi(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Wd(_){return function Yc(_,h){return mo.apply(this,arguments)}(_.auth,new Or(_),_.bypassAuthState)}function hl(_){const{auth:h,user:p}=_;return ie(p,h,"internal-error"),Kc(p,new Or(_),_.bypassAuthState)}function Wu(_){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,P.Z)(function*(_){const{auth:h,user:p}=_;return ie(p,h,"internal-error"),ka(p,new Or(_),_.bypassAuthState)})).apply(this,arguments)}class xi{constructor(h,p,I,A,M=!1){this.auth=h,this.resolver=I,this.user=A,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,P.Z)(function*(I,A){h.pendingPromise={resolve:I,reject:A};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(M){h.reject(M)}});return function(I,A){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,P.Z)(function*(){const{urlResponse:I,sessionId:A,postBody:M,tenantId:$,error:Y,type:be}=h;if(Y)return void p.reject(Y);const qe={auth:p.auth,requestUri:I,sessionId:A,tenantId:$||void 0,postBody:M||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(be)(qe))}catch(ft){p.reject(ft)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Wd;case"linkViaPopup":case"linkViaRedirect":return Wu;case"reauthViaPopup":case"reauthViaRedirect":return hl;default:Ee(this.auth,"internal-error")}}resolve(h){Nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const on=new Vi(2e3,1e4);function Xa(){return(Xa=(0,P.Z)(function*(_,h,p){const I=(0,V.m9)(_);je(I.auth,h,Us);const A=Ds(I.auth,p);return new qu(I.auth,"reauthViaPopup",h,A,I).executeNotNull()})).apply(this,arguments)}function To(){return(To=(0,P.Z)(function*(_,h,p){const I=(0,V.m9)(_);je(I.auth,h,Us);const A=Ds(I.auth,p);return new qu(I.auth,"linkViaPopup",h,A,I).executeNotNull()})).apply(this,arguments)}let qu=(()=>{class _ extends xi{constructor(p,I,A,M,$){super(p,I,M,$),this.provider=A,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var p=this;return(0,P.Z)(function*(){const I=yield p.execute();return ie(I,p.auth,"internal-error"),I})()}onExecution(){var p=this;return(0,P.Z)(function*(){Nt(1===p.filter.length,"Popup operations only handle one event");const I=Cs();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],I),p.authWindow.associatedEvent=I,p.resolver._originValidation(p.auth).catch(A=>{p.reject(A)}),p.resolver._isIframeWebStorageSupported(p.auth,A=>{A||p.reject(_e(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const p=()=>{var I,A;this.pollId=null!==(A=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,on.get())};p()}}return _.currentPopupAction=null,_})();const oi=new Map;class Zd extends xi{constructor(h,p,I=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,I),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,P.Z)(function*(){let I=oi.get(p.auth._key());if(!I){try{const M=(yield function qs(_,h){return pl.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;I=()=>Promise.resolve(M)}catch(A){I=()=>Promise.reject(A)}oi.set(p.auth._key(),I)}return p.bypassAuthState||oi.set(p.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,I=this;return(0,P.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(I,h);if("unknown"!==h.type){if(h.eventId){const A=yield I.auth._redirectUserForId(h.eventId);if(A)return I.user=A,p().call(I,h);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,P.Z)(function*(){})()}cleanUp(){}}function pl(){return(pl=(0,P.Z)(function*(_,h){const p=eu(h),I=Zi(_);if(!(yield I._isAvailable()))return!1;const A="true"===(yield I._get(p));return yield I._remove(p),A})).apply(this,arguments)}function da(_,h){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,P.Z)(function*(_,h){return Zi(_)._set(eu(h),"true")})).apply(this,arguments)}function So(_,h){oi.set(_._key(),h)}function Zi(_){return qn(_._redirectPersistence)}function eu(_){return H("pendingRedirect",_.config.apiKey,_.name)}function gl(){return(gl=(0,P.Z)(function*(_,h,p){const I=(0,V.m9)(_);je(I.auth,h,Us),yield I.auth._initializationPromise;const A=Ds(I.auth,p);yield da(A,I.auth);const M=yield ha(I);return A._openRedirect(I.auth,h,"reauthViaRedirect",M)})).apply(this,arguments)}function yl(){return(yl=(0,P.Z)(function*(_,h,p){const I=(0,V.m9)(_);je(I.auth,h,Us),yield I.auth._initializationPromise;const A=Ds(I.auth,p);yield Ht(!1,I,h.providerId),yield da(A,I.auth);const M=yield ha(I);return A._openRedirect(I.auth,h,"linkViaRedirect",M)})).apply(this,arguments)}function tu(_,h){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,P.Z)(function*(_,h,p=!1){const I=Tn(_),A=Ds(I,h),$=yield new Zd(I,A,p).execute();return $&&!p&&(delete $.user._redirectEventId,yield I._persistUserIfCurrent($.user),yield I._setRedirectUser(null,h)),$})).apply(this,arguments)}function ha(_){return fa.apply(this,arguments)}function fa(){return(fa=(0,P.Z)(function*(_){const h=Cs(`${_.uid}:::`);return _._redirectEventId=h,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),h})).apply(this,arguments)}class Qu{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(h,I)&&(p=!0,this.sendToConsumer(h,I),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Xu(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ju(_);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var I;if(h.error&&!Ju(h)){const A=(null===(I=h.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";p.onError(_e(this.auth,A))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const I=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&I}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ru(h))}saveEventToCache(h){this.cachedEventUids.add(ru(h)),this.lastProcessedEventTime=Date.now()}}function ru(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(h=>h).join("-")}function Ju({type:_,error:h}){return"unknown"===_&&"auth/no-auth-event"===h?.code}function _l(_){return iu.apply(this,arguments)}function iu(){return(iu=(0,P.Z)(function*(_,h={}){return J(_,"GET","/v1/projects",h)})).apply(this,arguments)}const Zf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kf=/^https?/;function Ys(){return(Ys=(0,P.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:h}=yield _l(_);for(const p of h)try{if(vl(p))return}catch{}Ee(_,"unauthorized-domain")})).apply(this,arguments)}function vl(_){const h=Et(),{protocol:p,hostname:I}=new URL(h);if(_.startsWith("chrome-extension://")){const $=new URL(_);return""===$.hostname&&""===I?"chrome-extension:"===p&&_.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&$.hostname===I}if(!Kf.test(p))return!1;if(Zf.test(_))return I===_;const A=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(I)}const Il=new Vi(3e4,6e4);function Jd(){const _=xn().___jsl;if(_?.H)for(const h of Object.keys(_.H))if(_.H[h].r=_.H[h].r||[],_.H[h].L=_.H[h].L||[],_.H[h].r=[..._.H[h].L],_.CP)for(let p=0;p<_.CP.length;p++)_.CP[p]=null}let su=null;function Fn(_){return su=su||function Ao(_){return new Promise((h,p)=>{var I,A,M;function $(){Jd(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Jd(),p(_e(_,"network-request-failed"))},timeout:Il.get()})}if(null!==(A=null===(I=xn().gapi)||void 0===I?void 0:I.iframes)&&void 0!==A&&A.Iframe)h(gapi.iframes.getContext());else{if(null===(M=xn().gapi)||void 0===M||!M.load){const Y=function ti(_){return`__${_}${Math.floor(1e6*Math.random())}`}("iframefcb");return xn()[Y]=()=>{gapi.load?$():p(_e(_,"network-request-failed"))},function Er(_){return new Promise((h,p)=>{const I=document.createElement("script");I.setAttribute("src",_),I.onload=h,I.onerror=A=>{const M=_e("internal-error");M.customData=A,p(M)},I.type="text/javascript",I.charset="UTF-8",function Qt(){var _,h;return null!==(h=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==h?h:document}().appendChild(I)})}(`https://apis.google.com/js/api.js?onload=${Y}`).catch(be=>p(be))}$()}}).catch(h=>{throw su=null,h})}(_),su}const As=new Vi(5e3,15e3),Yf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ki=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rm(_){const h=_.config;ie(h.authDomain,_,"auth-domain-config-required");const p=h.emulator?On(h,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,I={apiKey:h.apiKey,appName:_.name,v:re.SDK_VERSION},A=Ki.get(_.config.apiHost);A&&(I.eid=A);const M=_._getFrameworks();return M.length&&(I.fw=M.join(",")),`${p}?${(0,V.xO)(I).slice(1)}`}function D(){return D=(0,P.Z)(function*(_){const h=yield Fn(_),p=xn().gapi;return ie(p,_,"internal-error"),h.open({where:document.body,url:rm(_),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yf,dontclear:!0},I=>new Promise(function(){var A=(0,P.Z)(function*(M,$){yield I.restyle({setHideOnLeave:!1});const Y=_e(_,"network-request-failed"),be=xn().setTimeout(()=>{$(Y)},As.get());function qe(){xn().clearTimeout(be),M(I)}I.ping(qe).then(qe,()=>{$(Y)})});return function(M,$){return A.apply(this,arguments)}}()))}),D.apply(this,arguments)}const R={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ge{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function He(_,h,p,I=500,A=600){const M=Math.max((window.screen.availHeight-A)/2,0).toString(),$=Math.max((window.screen.availWidth-I)/2,0).toString();let Y="";const be=Object.assign(Object.assign({},R),{width:I.toString(),height:A.toString(),top:M,left:$}),qe=(0,V.z$)().toLowerCase();p&&(Y=function We(_=(0,V.z$)()){return/crios\//i.test(_)}(qe)?"_blank":p),function le(_=(0,V.z$)()){return/firefox\//i.test(_)}(qe)&&(h=h||"http://localhost",be.scrollbars="yes");const ft=Object.entries(be).reduce((zt,[di,ac])=>`${zt}${di}=${ac},`,"");if(function In(_=(0,V.z$)()){var h;return it(_)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(qe)&&"_self"!==Y)return function st(_,h){const p=document.createElement("a");p.href=_,p.target=h;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(I)}(h||"",Y),new Ge(null);const Ye=window.open(h||"",Y,ft);ie(Ye,_,"popup-blocked");try{Ye.focus()}catch{}return new Ge(Ye)}const ai=encodeURIComponent("fac");function Vn(_,h,p,I,A,M){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,P.Z)(function*(_,h,p,I,A,M){ie(_.config.authDomain,_,"auth-domain-config-required"),ie(_.config.apiKey,_,"invalid-api-key");const $={apiKey:_.config.apiKey,appName:_.name,authType:p,redirectUrl:I,v:re.SDK_VERSION,eventId:A};if(h instanceof Us){h.setDefaultLanguage(_.languageCode),$.providerId=h.providerId||"",(0,V.xb)(h.getCustomParameters())||($.customParameters=JSON.stringify(h.getCustomParameters()));for(const[ft,Ye]of Object.entries(M||{}))$[ft]=Ye}if(h instanceof Cu){const ft=h.getScopes().filter(Ye=>""!==Ye);ft.length>0&&($.scopes=ft.join(","))}_.tenantId&&($.tid=_.tenantId);const Y=$;for(const ft of Object.keys(Y))void 0===Y[ft]&&delete Y[ft];const be=yield _._getAppCheckToken(),qe=be?`#${ai}=${encodeURIComponent(be)}`:"";return`${xo(_)}?${(0,V.xO)(Y).slice(1)}${qe}`})).apply(this,arguments)}function xo({config:_}){return _.emulator?On(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}const Qs="webStorageSupport";function ss(){return window}function Dl(){return(Dl=(0,P.Z)(function*(_,h,p){var I;const{BuildInfo:A}=ss();Nt(h.sessionId,"AuthEvent did not contain a session ID");const M=yield um(h.sessionId),$={};return it()?$.ibi=A.packageName:Ft()?$.apn=A.packageName:Ee(_,"operation-not-supported-in-this-environment"),A.displayName&&($.appDisplayName=A.displayName),$.sessionId=M,Vn(_,p,h.type,void 0,null!==(I=h.eventId)&&void 0!==I?I:void 0,$)})).apply(this,arguments)}function nc(){return(nc=(0,P.Z)(function*(_){const{BuildInfo:h}=ss(),p={};it()?p.iosBundleId=h.packageName:Ft()?p.androidPackageName=h.packageName:Ee(_,"operation-not-supported-in-this-environment"),yield _l(_,p)})).apply(this,arguments)}function ih(){return(ih=(0,P.Z)(function*(_,h,p){const{cordova:I}=ss();let A=()=>{};try{yield new Promise((M,$)=>{let Y=null;function be(){var Ye;M();const zt=null===(Ye=I.plugins.browsertab)||void 0===Ye?void 0:Ye.close;"function"==typeof zt&&zt(),"function"==typeof p?.close&&p.close()}function qe(){Y||(Y=window.setTimeout(()=>{$(_e(_,"redirect-cancelled-by-user"))},2e3))}function ft(){"visible"===document?.visibilityState&&qe()}h.addPassiveListener(be),document.addEventListener("resume",qe,!1),Ft()&&document.addEventListener("visibilitychange",ft,!1),A=()=>{h.removePassiveListener(be),document.removeEventListener("resume",qe,!1),document.removeEventListener("visibilitychange",ft,!1),Y&&window.clearTimeout(Y)}})}finally{A()}})).apply(this,arguments)}function um(_){return tp.apply(this,arguments)}function tp(){return(tp=(0,P.Z)(function*(_){const h=Kw(_),p=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(p)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Kw(_){if(Nt(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const h=new ArrayBuffer(_.length),p=new Uint8Array(h);for(let I=0;I<_.length;I++)p[I]=_.charCodeAt(I);return p}class sh extends Qu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(h)),super.onEvent(h)}initialized(){var h=this;return(0,P.Z)(function*(){yield h.initPromise})()}}function lm(_){return oh.apply(this,arguments)}function oh(){return(oh=(0,P.Z)(function*(_){const h=yield ma()._get(uh(_));return h&&(yield ma()._remove(uh(_))),h})).apply(this,arguments)}function dm(){const _=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const I=Math.floor(Math.random()*h.length);_.push(h.charAt(I))}return _.join("")}function ma(){return qn(ws)}function uh(_){return H("authEvent",_.config.apiKey,_.name)}function ch(_){if(!_?.includes("?"))return{};const[h,...p]=_.split("?");return(0,V.zd)(p.join("?"))}function rp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_e("no-auth-event")}}function au(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function gm(){return function Al(_=(0,V.z$)()){return!("file:"!==au()&&"ionic:"!==au()&&"capacitor:"!==au()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}()&&typeof document<"u"}function ic(){return(ic=(0,P.Z)(function*(){return!!gm()&&new Promise(_=>{const h=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),_(!0)})})})).apply(this,arguments)}const cp="persistence";function ph(_){return xl.apply(this,arguments)}function xl(){return(xl=(0,P.Z)(function*(_){yield _._initializationPromise;const h=dp(),p=H(cp,_.config.apiKey,_.name);h&&h.setItem(p,_._getPersistence())})).apply(this,arguments)}function dp(){var _;try{return(null===(_=function fh(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const oc=ie;class Js{constructor(){this.browserResolver=qn(class ui{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gs,this._completeRedirectFn=tu,this._overrideRedirectResult=So}_openPopup(h,p,I,A){var M=this;return(0,P.Z)(function*(){var $;Nt(null===($=M.eventManagers[h._key()])||void 0===$?void 0:$.manager,"_initialize() not called before _openPopup()");const Y=yield Vn(h,p,I,Et(),A);return He(h,Y,Cs())})()}_openRedirect(h,p,I,A){var M=this;return(0,P.Z)(function*(){return yield M._originValidation(h),function sl(_){xn().location.href=_}(yield Vn(h,p,I,Et(),A)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:A,promise:M}=this.eventManagers[p];return A?Promise.resolve(A):(Nt(M,"If manager is not set, promise should be"),M)}const I=this.initAndGetManager(h);return this.eventManagers[p]={promise:I},I.catch(()=>{delete this.eventManagers[p]}),I}initAndGetManager(h){var p=this;return(0,P.Z)(function*(){const I=yield function w(_){return D.apply(this,arguments)}(h),A=new Qu(h);return I.register("authEvent",M=>(ie(M?.authEvent,h,"invalid-auth-event"),{status:A.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:A},p.iframes[h._key()]=I,A})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(Qs,{type:Qs},A=>{var M;const $=null===(M=A?.[0])||void 0===M?void 0:M[Qs];void 0!==$&&p(!!$),Ee(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function ec(_){return Ys.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return fn()||ee()||it()}}),this.cordovaResolver=qn(class hm{constructor(){this._redirectPersistence=Gs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=tu,this._overrideRedirectResult=So}_initialize(h){var p=this;return(0,P.Z)(function*(){const I=h._key();let A=p.eventManagers.get(I);return A||(A=new sh(h),p.eventManagers.set(I,A),p.attachCallbackListeners(h,A)),A})()}_openPopup(h){Ee(h,"operation-not-supported-in-this-environment")}_openRedirect(h,p,I,A){var M=this;return(0,P.Z)(function*(){!function yv(_){var h,p,I,A,M,$,Y,be,qe,ft;const Ye=ss();ie("function"==typeof(null===(h=Ye?.universalLinks)||void 0===h?void 0:h.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ie(typeof(null===(p=Ye?.BuildInfo)||void 0===p?void 0:p.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ie("function"==typeof(null===(M=null===(A=null===(I=Ye?.cordova)||void 0===I?void 0:I.plugins)||void 0===A?void 0:A.browsertab)||void 0===M?void 0:M.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie("function"==typeof(null===(be=null===(Y=null===($=Ye?.cordova)||void 0===$?void 0:$.plugins)||void 0===Y?void 0:Y.browsertab)||void 0===be?void 0:be.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie("function"==typeof(null===(ft=null===(qe=Ye?.cordova)||void 0===qe?void 0:qe.InAppBrowser)||void 0===ft?void 0:ft.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const $=yield M._initialize(h);yield $.initialized(),$.resetRedirect(),function Zu(){oi.clear()}(),yield M._originValidation(h);const Y=function _v(_,h,p=null){return{type:h,eventId:p,urlResponse:null,sessionId:dm(),postBody:null,tenantId:_.tenantId,error:_e(_,"no-auth-event")}}(h,I,A);yield function Tl(_,h){return ma()._set(uh(_),h)}(h,Y);const be=yield function Ro(_,h,p){return Dl.apply(this,arguments)}(h,Y,p),qe=yield function ep(_){const{cordova:h}=ss();return new Promise(p=>{h.plugins.browsertab.isAvailable(I=>{let A=null;I?h.plugins.browsertab.openUrl(_):A=h.InAppBrowser.open(_,function at(_=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),p(A)})})}(be);return function mv(_,h,p){return ih.apply(this,arguments)}(h,$,qe)})()}_isIframeWebStorageSupported(h,p){throw new Error("Method not implemented.")}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function rh(_){return nc.apply(this,arguments)}(h)),this.originValidationPromises[p]}attachCallbackListeners(h,p){const{universalLinks:I,handleOpenURL:A,BuildInfo:M}=ss(),$=setTimeout((0,P.Z)(function*(){yield lm(h),p.onEvent(rp())}),500),Y=function(){var ft=(0,P.Z)(function*(Ye){clearTimeout($);const zt=yield lm(h);let di=null;zt&&Ye?.url&&(di=function ah(_,h){var p,I;const A=function np(_){const h=ch(_),p=h.link?decodeURIComponent(h.link):void 0,I=ch(p).link,A=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return ch(A).link||A||I||p||_}(h);if(A.includes("/__/auth/callback")){const M=ch(A),$=M.firebaseError?function rc(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(M.firebaseError)):null,Y=null===(I=null===(p=$?.code)||void 0===p?void 0:p.split("auth/"))||void 0===I?void 0:I[1],be=Y?_e(Y):null;return be?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:be,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:A,postBody:null}}return null}(zt,Ye.url)),p.onEvent(di||rp())});return function(zt){return ft.apply(this,arguments)}}();typeof I<"u"&&"function"==typeof I.subscribe&&I.subscribe(null,Y);const be=A,qe=`${M.packageName.toLowerCase()}://`;ss().handleOpenURL=function(){var ft=(0,P.Z)(function*(Ye){if(Ye.toLowerCase().startsWith(qe)&&Y({url:Ye}),"function"==typeof be)try{be(Ye)}catch(zt){console.error(zt)}});return function(Ye){return ft.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Gs,this._completeRedirectFn=tu,this._overrideRedirectResult=So}_initialize(h){var p=this;return(0,P.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,p,I,A){var M=this;return(0,P.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(h,p,I,A)})()}_openRedirect(h,p,I,A){var M=this;return(0,P.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(h,p,I,A)})()}_isIframeWebStorageSupported(h,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,p)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return gm()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return oc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,P.Z)(function*(){if(h.underlyingResolver)return;const p=yield function hh(){return ic.apply(this,arguments)}();h.underlyingResolver=p?h.cordovaResolver:h.browserResolver})()}}function Rl(_){return _.unwrap()}function mm(_){return ym(_)}function ym(_){const{_tokenResponse:h}=_ instanceof V.ZR?_.customData:_;if(!h)return null;if(!(_ instanceof V.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return qi.credentialFromResult(_);const p=h.providerId;if(!p||"password"===p)return null;let I;switch(p){case"google.com":I=bu;break;case"facebook.com":I=Pr;break;case"github.com":I=Wc;break;case"twitter.com":I=Zc;break;default:const{oauthIdToken:A,oauthAccessToken:M,oauthTokenSecret:$,pendingToken:Y,nonce:be}=h;return M||$||A||Y?Y?p.startsWith("saml.")?cr._create(p,Y):bi._fromParams({providerId:p,signInMethod:p,pendingToken:Y,idToken:A,accessToken:M}):new ji(p).credential({idToken:A,accessToken:M,rawNonce:be}):null}return _ instanceof V.ZR?I.credentialFromError(_):I.credentialFromResult(_)}function li(_,h){return h.catch(p=>{throw p instanceof V.ZR&&function fp(_,h){var p;const I=null===(p=h.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===h?.code)h.resolver=new wv(_,function wo(_,h){var p;const I=(0,V.m9)(_),A=h;return ie(h.customData.operationType,I,"argument-error"),ie(null===(p=A.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,I,"argument-error"),Eo._fromError(I,A)}(_,h));else if(I){const A=ym(h),M=h;A&&(M.credential=A,M.tenantId=I.tenantId||void 0,M.email=I.email||void 0,M.phoneNumber=I.phoneNumber||void 0)}}(_,p),p}).then(p=>{const A=p.user;return{operationType:p.operationType,credential:mm(p),additionalUserInfo:$s(p),user:qr.getOrCreate(A)}})}function pp(_,h){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,P.Z)(function*(_,h){const p=yield h;return{verificationId:p.verificationId,confirm:I=>li(_,p.confirm(I))}})).apply(this,arguments)}class wv{constructor(h,p){this.resolver=p,this.auth=function hp(_){return _.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return li(Rl(this.auth),this.resolver.resolveSignIn(h))}}class qr{constructor(h){this._delegate=h,this.multiFactor=function za(_){const h=(0,V.m9)(_);return bo.has(h)||bo.set(h,Co._fromUser(h)),bo.get(h)}(h)}static getOrCreate(h){return qr.USER_MAP.has(h)||qr.USER_MAP.set(h,new qr(h)),qr.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var p=this;return(0,P.Z)(function*(){return li(p.auth,Tu(p._delegate,h))})()}linkWithPhoneNumber(h,p){var I=this;return(0,P.Z)(function*(){return pp(I.auth,function nm(_,h,p){return Gu.apply(this,arguments)}(I._delegate,h,p))})()}linkWithPopup(h){var p=this;return(0,P.Z)(function*(){return li(p.auth,function fl(_,h,p){return To.apply(this,arguments)}(p._delegate,h,Js))})()}linkWithRedirect(h){var p=this;return(0,P.Z)(function*(){return yield ph(Tn(p.auth)),function ml(_,h,p){return function qf(_,h,p){return yl.apply(this,arguments)}(_,h,p)}(p._delegate,h,Js)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var p=this;return(0,P.Z)(function*(){return li(p.auth,Pd(p._delegate,h))})()}reauthenticateWithPhoneNumber(h,p){return pp(this.auth,function zd(_,h,p){return dl.apply(this,arguments)}(this._delegate,h,p))}reauthenticateWithPopup(h){return li(this.auth,function qd(_,h,p){return Xa.apply(this,arguments)}(this._delegate,h,Js))}reauthenticateWithRedirect(h){var p=this;return(0,P.Z)(function*(){return yield ph(Tn(p.auth)),function Ku(_,h,p){return function Yd(_,h,p){return gl.apply(this,arguments)}(_,h,p)}(p._delegate,h,Js)})()}sendEmailVerification(h){return function Ld(_,h){return xu.apply(this,arguments)}(this._delegate,h)}unlink(h){var p=this;return(0,P.Z)(function*(){return yield function Rd(_,h){return Hi.apply(this,arguments)}(p._delegate,h),p})()}updateEmail(h){return function Of(_,h){return ja((0,V.m9)(_),h,null)}(this._delegate,h)}updatePassword(h){return function Es(_,h){return ja((0,V.m9)(_),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function sn(_,h){return Wi.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function el(_,h){return Ba.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,p){return function Fd(_,h,p){return Hs.apply(this,arguments)}(this._delegate,h,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}qr.USER_MAP=new WeakMap;class Im{constructor(){this.providerId="phone",this._delegate=new qi(Rl(m.Z.auth()))}static credential(h,p){return qi.credential(h,p)}verifyPhoneNumber(h,p){return this._delegate.verifyPhoneNumber(h,p)}unwrap(){return this._delegate}}Im.PHONE_SIGN_IN_METHOD=qi.PHONE_SIGN_IN_METHOD,Im.PROVIDER_ID=qi.PROVIDER_ID},5861:(yt,Me,U)=>{function P(V,re,ce,pe,Ie,ge,me){try{var q=V[ge](me),G=q.value}catch(K){return void ce(K)}q.done?re(G):Promise.resolve(G).then(pe,Ie)}function m(V){return function(){var re=this,ce=arguments;return new Promise(function(pe,Ie){var ge=V.apply(re,ce);function me(G){P(ge,pe,Ie,me,q,"next",G)}function q(G){P(ge,pe,Ie,me,q,"throw",G)}me(void 0)})}}U.d(Me,{Z:()=>m})},7582:(yt,Me,U)=>{function re(ue,he){var oe={};for(var J in ue)Object.prototype.hasOwnProperty.call(ue,J)&&he.indexOf(J)<0&&(oe[J]=ue[J]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var xe=0;for(J=Object.getOwnPropertySymbols(ue);xe<J.length;xe++)he.indexOf(J[xe])<0&&Object.prototype.propertyIsEnumerable.call(ue,J[xe])&&(oe[J[xe]]=ue[J[xe]])}return oe}function K(ue,he,oe,J){return new(oe||(oe=Promise))(function(Ne,Ze){function Vt(wn){try{xt(J.next(wn))}catch(vn){Ze(vn)}}function ln(wn){try{xt(J.throw(wn))}catch(vn){Ze(vn)}}function xt(wn){wn.done?Ne(wn.value):function xe(Ne){return Ne instanceof oe?Ne:new oe(function(Ze){Ze(Ne)})}(wn.value).then(Vt,ln)}xt((J=J.apply(ue,he||[])).next())})}function Oe(ue){return this instanceof Oe?(this.v=ue,this):new Oe(ue)}function Ee(ue,he,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,J=oe.apply(ue,he||[]),Ne=[];return xe=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Vt("next"),Vt("throw"),Vt("return",function Ze(Gt){return function(Yn){return Promise.resolve(Yn).then(Gt,vn)}}),xe[Symbol.asyncIterator]=function(){return this},xe;function Vt(Gt,Yn){J[Gt]&&(xe[Gt]=function(Qn){return new Promise(function(dt,tn){Ne.push([Gt,Qn,dt,tn])>1||ln(Gt,Qn)})},Yn&&(xe[Gt]=Yn(xe[Gt])))}function ln(Gt,Yn){try{!function xt(Gt){Gt.value instanceof Oe?Promise.resolve(Gt.value.v).then(wn,vn):Ar(Ne[0][2],Gt)}(J[Gt](Yn))}catch(Qn){Ar(Ne[0][3],Qn)}}function wn(Gt){ln("next",Gt)}function vn(Gt){ln("throw",Gt)}function Ar(Gt,Yn){Gt(Yn),Ne.shift(),Ne.length&&ln(Ne[0][0],Ne[0][1])}}function ze(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,he=ue[Symbol.asyncIterator];return he?he.call(ue):(ue=function lt(ue){var he="function"==typeof Symbol&&Symbol.iterator,oe=he&&ue[he],J=0;if(oe)return oe.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&J>=ue.length&&(ue=void 0),{value:ue&&ue[J++],done:!ue}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(ue),oe={},J("next"),J("throw"),J("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function J(Ne){oe[Ne]=ue[Ne]&&function(Ze){return new Promise(function(Vt,ln){!function xe(Ne,Ze,Vt,ln){Promise.resolve(ln).then(function(xt){Ne({value:xt,done:Vt})},Ze)}(Vt,ln,(Ze=ue[Ne](Ze)).done,Ze.value)})}}}U.d(Me,{FC:()=>Ee,KL:()=>ze,_T:()=>re,mG:()=>K,qq:()=>Oe}),"function"==typeof SuppressedError&&SuppressedError}},yt=>{yt(yt.s=2657)}]);